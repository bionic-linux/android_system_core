{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8311b09b_a28cc397",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2020-11-16T15:41:28Z",
      "side": 1,
      "message": "+dvander@, elsk@, bowgotsai@ as a heads up.\n\nThis CL looks good to me.  I see the code path where we always mount /metadata if it\u0027s available, and we don\u0027t call mkdir() on the target path before we call check_fs().  In theory we could add that mkdir call, but this is just as clear to me.",
      "revId": "9fa773746ce4ebcbf44859a452682beee8158406",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "39334cb1_b6dfe29d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2020-11-17T03:04:35Z",
      "side": 1,
      "message": "ok, sgtm",
      "revId": "9fa773746ce4ebcbf44859a452682beee8158406",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fba5ff8d_990e9d41",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2020-11-17T21:42:21Z",
      "side": 1,
      "message": "This only creates /metadata, not /first_stage_ramdisk/metadata. We mount /metadata **after** switching root into /first_stage_ramdisk, right? So even with this change, we\u0027ll need to call mkdir() before mounting it?",
      "parentUuid": "8311b09b_a28cc397",
      "revId": "9fa773746ce4ebcbf44859a452682beee8158406",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96e53f07_a66752be",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1214664
      },
      "writtenOn": "2020-11-18T05:43:54Z",
      "side": 1,
      "message": "hi Yifan,\nI think this change is only for devices that not use recovery as a ramdisk.\nFor devices that use recovery as a ramdisk, maybe need mk matadata dir in build/core/Makefile?",
      "parentUuid": "fba5ff8d_990e9d41",
      "revId": "9fa773746ce4ebcbf44859a452682beee8158406",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3a2578e_c9da10d0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2020-11-18T17:53:44Z",
      "side": 1,
      "message": "For recovery-as-boot, we\u0027d need to create the directory around here: https://cs.android.com/android/platform/superproject/+/master:system/core/init/first_stage_init.cpp;l\u003d329?q\u003d%22first_stage_ramdisk%22\n\nThough, I wonder if we should just move the mkdir() in fs_mgr from __mount() to prepare_fs_for_mount() ?  As long as the ramdisks are writable, we wouldn\u0027t even need this change in that case.\n\nThoughts?",
      "parentUuid": "96e53f07_a66752be",
      "revId": "9fa773746ce4ebcbf44859a452682beee8158406",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da29fab7_a55e362e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1214664
      },
      "writtenOn": "2020-11-19T02:00:02Z",
      "side": 1,
      "message": "Maybe this is a better way.",
      "parentUuid": "c3a2578e_c9da10d0",
      "revId": "9fa773746ce4ebcbf44859a452682beee8158406",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f88c490_69c3fe68",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2020-11-19T19:43:43Z",
      "side": 1,
      "message": "I pushed https://android-review.googlesource.com/c/platform/system/core/+/1505939 to do that.  Do you get errors with that change and adding $(TARGET_RAMDISK_OUT)/metadata in init/Android.mk?",
      "parentUuid": "da29fab7_a55e362e",
      "revId": "9fa773746ce4ebcbf44859a452682beee8158406",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}