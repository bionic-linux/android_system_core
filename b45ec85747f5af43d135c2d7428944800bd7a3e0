{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "68d4696f_836f3288",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1358301
      },
      "writtenOn": "2022-09-28T01:02:55Z",
      "side": 1,
      "message": "Hi folks, this is Harry from the Android CrystalBall team. Our boot time test found that this change topic might introduce a ~2.5s (10%+) regression in boot time on the Pixel 5. We\u0027ve confirmed this by running the test twice (https://crystalball-presubmit.corp.google.com/dashboard/I72800010094013358, https://crystalball-presubmit.corp.google.com/dashboard/I37600010093959327). Could you please take another look at this change? Thank you!",
      "revId": "b45ec85747f5af43d135c2d7428944800bd7a3e0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "005d9537_90866ca7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1869780
      },
      "writtenOn": "2022-09-28T18:05:57Z",
      "side": 1,
      "message": "This issue has our full attention. The boot time regression is a surprise to me. I will try to find the root cause. Addressing this regression may require changes in libprocessgroup, in the Linux kernel or elsewhere.",
      "parentUuid": "68d4696f_836f3288",
      "revId": "b45ec85747f5af43d135c2d7428944800bd7a3e0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20a4d826_2480a444",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1869780
      },
      "writtenOn": "2022-09-28T22:59:42Z",
      "side": 1,
      "message": "So far I have not yet been able to reproduce these results on a Pixel 5 (Redfin) device. If I run the following command:\n\npython3 bootanalyze.py -r -c config.yaml -n 10 -g\n\nthen the results are as follows for LauncherStart+Bootloader:\n\nWith blkio in the v1 cgroup hierarchy: 55.579 +/- 0.47563 seconds.\nWith blkio in the v2 cgroup hierarchy: 55.535 +/- 0.56951 seconds.\n\nIn other words, this CL reduces the startup time slightly but the difference is smaller than the standard deviation of the measurements.\n\nAm I perhaps missing something about the boot time test results reported on the CrystalBall website?",
      "parentUuid": "005d9537_90866ca7",
      "revId": "b45ec85747f5af43d135c2d7428944800bd7a3e0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78840587_70186541",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1358301
      },
      "writtenOn": "2022-09-28T23:08:35Z",
      "side": 1,
      "message": "Thank you for looking into this, Bart! The first thing I noticed is that your tooling reports very different boot time numbers than our test (55 seconds vs. ~20 seconds), so maybe what we measure is different.\n\nOur boot time test ultimately relies on the code here: https://source.corp.google.com/android/vendor/google_tradefederation/core/prod_tests/src/com/google/android/asit/BootTimeTest.java, but I\u0027m not an expert on what this test considers to be a \"fully booted up\" state (my main focus is to get regression detection in presubmit working). I\u0027ll ask Gopi, who\u0027s more experienced with this on our team, on what this test actually does.",
      "parentUuid": "20a4d826_2480a444",
      "revId": "b45ec85747f5af43d135c2d7428944800bd7a3e0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a6cf30db_87251a87",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1073883
      },
      "writtenOn": "2022-09-30T04:06:01Z",
      "side": 1,
      "message": "The continuous test measure the TOTAL_BOOT_TIME bootloader time + time untill boot completed property is set which indicates the boot is completed.\n\nMetric SystemServerTiming_StartServices-mean has regressed with 100.00% confidence; its value is 8639.20 here, and increased from historical average 6689.42 by 29.83 standard deviations.\n\nYou can manually verify this from logcat as well\n\nhttps://screenshot.googleplex.com/64hd3f7u4TYX7ug",
      "parentUuid": "78840587_70186541",
      "revId": "b45ec85747f5af43d135c2d7428944800bd7a3e0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d117700c_35c49650",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1358301
      },
      "writtenOn": "2022-10-17T17:27:37Z",
      "side": 1,
      "message": "Boot time looks good on the latest patchset : ) (Numbers from 3 runs: 20172.90, 20286.40, 20211.10)",
      "parentUuid": "a6cf30db_87251a87",
      "revId": "b45ec85747f5af43d135c2d7428944800bd7a3e0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "81b40c98_c6e865dd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1073883
      },
      "writtenOn": "2022-10-17T17:37:13Z",
      "side": 1,
      "message": "Bart,\n\nJust for our tracking purpose, \n\nDid you made any change in the latest patch set that fixes the boot time regression?",
      "parentUuid": "d117700c_35c49650",
      "revId": "b45ec85747f5af43d135c2d7428944800bd7a3e0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "add66077_c914f016",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1869780
      },
      "writtenOn": "2022-10-17T17:39:30Z",
      "side": 1,
      "message": "I did not modify my patch but I fixed a race condition that was introduced several years ago. Maybe my patch makes it easier to trigger that race condition. See also https://android-review.googlesource.com/c/platform/system/core/+/2254119/2.",
      "parentUuid": "81b40c98_c6e865dd",
      "revId": "b45ec85747f5af43d135c2d7428944800bd7a3e0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b7e6a5c9_5edeac0b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1073883
      },
      "writtenOn": "2022-10-17T17:42:53Z",
      "side": 1,
      "message": "Interesting!\n\nThanks for fixing the race condition.",
      "parentUuid": "add66077_c914f016",
      "revId": "b45ec85747f5af43d135c2d7428944800bd7a3e0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}