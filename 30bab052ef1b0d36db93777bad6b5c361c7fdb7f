{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0b1531f0_deacd4c2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2022-10-10T18:05:24Z",
      "side": 1,
      "message": "I\u0027m not sure how I feel about this. \"remount\" is supposed to use a writable partition *or* use overlays, not both. Using both introduces a lot of complexity into something that is already quite complex. The fact that it can run out of space is by design: if the partition isn\u0027t big enough, it should be resized, or reflashed, since it wouldn\u0027t be able to hold the modified image in the first place. \n\nOr, the partition should be made readonly, so overlayfs is always chosen.\n\nI\u0027ll let Yi-yo comment though.",
      "revId": "30bab052ef1b0d36db93777bad6b5c361c7fdb7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3703f13_aadc6677",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1956343
      },
      "writtenOn": "2022-10-11T03:50:17Z",
      "side": 1,
      "message": "It seems reasonable to use fs_mgr_rw_access(work) to check whether the partition is writable.",
      "parentUuid": "0b1531f0_deacd4c2",
      "revId": "30bab052ef1b0d36db93777bad6b5c361c7fdb7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3aab869_71fb1375",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2022-10-11T12:23:09Z",
      "side": 1,
      "message": "I agree it\u0027s reasonable to replace fs_mgr_dir_is_writable(work) with fs_mgr_rw_access(work).\n\nThe example showed seems like a genuine bug, \"if overlayfs scratch is filled with content, overlayfs would fail to mount after reboot.\"\nI think we _should_ allow mount even if scratch is full, because this allows the user to delete previously pushed files to free up space, right?",
      "parentUuid": "e3703f13_aadc6677",
      "revId": "30bab052ef1b0d36db93777bad6b5c361c7fdb7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2779c50c_8f1dc7eb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1956343
      },
      "writtenOn": "2022-10-11T13:38:18Z",
      "side": 1,
      "message": "\"I think we should allow mount even if scratch is full, because this allows the user to delete previously pushed files to free up space, right?\"\n\nyes, that\u0027s right.",
      "parentUuid": "a3aab869_71fb1375",
      "revId": "30bab052ef1b0d36db93777bad6b5c361c7fdb7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd82a376_24808040",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2022-10-11T18:28:04Z",
      "side": 1,
      "message": "Thanks, okay, I misunderstood the issue then.",
      "parentUuid": "2779c50c_8f1dc7eb",
      "revId": "30bab052ef1b0d36db93777bad6b5c361c7fdb7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a2476a34_5ae7a92f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1956343
      },
      "writtenOn": "2022-10-12T02:53:08Z",
      "side": 1,
      "message": "Hi David and Yi-yo,\nI cannot open https://android-build.googleplex.com/presubmit-status?change_id\u003d2169605\u0026revision_id\u003d7\u0026host\u003dandroid\u0026id\u003d6367833718423552\nCould you help me to see why it failed?",
      "parentUuid": "bd82a376_24808040",
      "revId": "30bab052ef1b0d36db93777bad6b5c361c7fdb7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "93162a40_2b88e09e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1337669
      },
      "writtenOn": "2022-10-12T02:57:21Z",
      "side": 1,
      "message": "you need to move the declaration \u0026 definition of fs_mgr_rw_access() forward",
      "parentUuid": "a2476a34_5ae7a92f",
      "revId": "30bab052ef1b0d36db93777bad6b5c361c7fdb7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0798a756_ba580155",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1956343
      },
      "writtenOn": "2022-10-12T03:11:28Z",
      "side": 1,
      "message": "Done. Please code review again.",
      "parentUuid": "93162a40_2b88e09e",
      "revId": "30bab052ef1b0d36db93777bad6b5c361c7fdb7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}