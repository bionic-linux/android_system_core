{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "79eec0d3_1d946b35",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-10-26T01:40:59Z",
      "side": 1,
      "message": "i agree with this",
      "range": {
        "startLine": 57,
        "startChar": 13,
        "endLine": 57,
        "endChar": 50
      },
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f1c10073_04cb4894",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-10-28T16:03:15Z",
      "side": 1,
      "message": "OK, cool. Given your agreement, I think I\u0027ll change the code to _not_ try to do validation in this case since that feels like it\u0027s asking someone to specify both. I\u0027ll change it so that it just spits out a warning and uses the UUID.",
      "parentUuid": "79eec0d3_1d946b35",
      "range": {
        "startLine": 57,
        "startChar": 13,
        "endLine": 57,
        "endChar": 50
      },
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1429e07_46befdc8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 57,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-11-06T00:02:08Z",
      "side": 1,
      "message": "I\u0027ve updated the comments here and indicated that we\u0027ll just use `boot_part_uuid` here and explained why. Please take a look. Thanks!",
      "parentUuid": "f1c10073_04cb4894",
      "range": {
        "startLine": 57,
        "startChar": 13,
        "endLine": 57,
        "endChar": 50
      },
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8a4293fd_71413597",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-10-25T20:31:10Z",
      "side": 1,
      "message": "I\u0027ve done basic testing of this series and I feel it\u0027s in reasonable shape. I\u0027ll want to do a little more testing before I submit but before I did too much I wanted to check: Does this overall idea look good to folks? Anything I need to obviously change?\n\nI\u0027m fairly convinced that we should move to UUID-based bootdevice identification across the board even if it\u0027s really only a huge problem for USB devices today. \n\nI\u0027d especially love some feedback about what people think we should do if the bootloader provides both the old-style bootdevices and the new boot_part_uuid. Right now in this case the code throws a warning and then makes sure boot devices match both. That sounds like a nice \"extra secure\" feature but I don\u0027t think we really need it as talked about in the code. The sysfs paths are also a tad bit fragile across kernel uprevs and we can get away from that fragility by just moving everyone to UUID.\n\nHappy to meet if folks would rather talk over VC.",
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "55f73a8f_aeea5362",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-10-28T16:03:15Z",
      "side": 1,
      "message": "Thanks for the review. Sounds like you\u0027re OK with the overall idea here. I\u0027ll do more testing and cleanup and upload a new version in the next few days (my schedule is a bit packed so I\u0027ll be a bit slower than normal).\n\nIf anyone else has any thoughts feel free to add them. Thanks!",
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e1347aad_5fb70c87",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-10-29T01:40:02Z",
      "side": 1,
      "message": "yeah, I think this is a better way of identifying the boot device. we just can\u0027t migrate to this at a sudden given that this impacts all partners and also we have to keep supporting old vendor impls (see GRF [1] if you haven\u0027t) \n\n[1] https://docs.google.com/presentation/d/10eivFLYgHQen8ybijz_5QHb7U0jwLUsCXVJmeWySGkU/edit?usp\u003dsharing",
      "parentUuid": "55f73a8f_aeea5362",
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92ee4b57_cfd1893c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2024-10-29T15:52:15Z",
      "side": 1,
      "message": "Thanks for the detailed commit message. Please make sure this (or something else) gets relayed into README.ueventd.md.",
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "973168a9_730809f1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-11-06T20:30:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "92ee4b57_cfd1893c",
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0185cf4f_7e2a5bb0",
        "filename": "init/block_dev_initializer.cpp",
        "patchSetId": 3
      },
      "lineNbr": 120,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-10-26T01:40:59Z",
      "side": 1,
      "message": "Thanks for mentioning this. So this means there will be no boot-time regression to the legacy path, right? (except for the regen of \"one\" uevent)\n\nBut then why don\u0027t we skip all additions in this function when the legacy path is taken?",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 120,
        "endChar": 33
      },
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "38241366_46fc9054",
        "filename": "init/block_dev_initializer.cpp",
        "patchSetId": 3
      },
      "lineNbr": 120,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-10-28T16:03:15Z",
      "side": 1,
      "message": "We can if you want. It just means an extra \"boolean\" method we need to add to `device_handler_` to have it know to skip all this. I debated doing that and decided it felt unnecessary but I really could go either way.\n\nI\u0027ll add the check in the next version.",
      "parentUuid": "0185cf4f_7e2a5bb0",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 120,
        "endChar": 33
      },
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f5aa9175_fbc97825",
        "filename": "init/block_dev_initializer.cpp",
        "patchSetId": 3
      },
      "lineNbr": 120,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-10-29T01:40:02Z",
      "side": 1,
      "message": "Acknowledged. I actually don\u0027t have a strong preference. I basically wanted to know why though.",
      "parentUuid": "38241366_46fc9054",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 120,
        "endChar": 33
      },
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "74bd4884_75c9fd66",
        "filename": "init/block_dev_initializer.cpp",
        "patchSetId": 3
      },
      "lineNbr": 120,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2024-10-29T15:52:15Z",
      "side": 1,
      "message": "InitDevices() gets called multiple times, right? Will this shortcut on subsequent calls, when using uuids?",
      "parentUuid": "f5aa9175_fbc97825",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 120,
        "endChar": 33
      },
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c852f8c6_7339b7bd",
        "filename": "init/block_dev_initializer.cpp",
        "patchSetId": 3
      },
      "lineNbr": 120,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-11-06T00:02:08Z",
      "side": 1,
      "message": "\u003e Acknowledged. I actually don\u0027t have a strong preference. I basically wanted to know why though.\n\nOK, I\u0027ll leave it how it is then and try to add more clarifying comments. If you can think of a way to say it better or you change your mind and want a boolean then let me know! :-)\n\n---\n\n\u003e InitDevices() gets called multiple times, right? Will this shortcut on subsequent calls, when using uuids?\n\nOn the normal boot I\u0027ve been testing I\u0027m not seeing it called more than once, but indeed searching the code I see different places it\u0027s called which seem to be for some cases.\n\nI\u0027m going to move this to its own function and then make sure it\u0027s called once.",
      "parentUuid": "74bd4884_75c9fd66",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 120,
        "endChar": 33
      },
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7de29449_17dfaedd",
        "filename": "init/devices.cpp",
        "patchSetId": 3
      },
      "lineNbr": 196,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-10-26T01:40:59Z",
      "side": 1,
      "message": "What if we remove this condition? Associating this and mmc/scsi is not understandable intuitively.",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 196,
        "endChar": 35
      },
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24754276_f21d732b",
        "filename": "init/devices.cpp",
        "patchSetId": 3
      },
      "lineNbr": 196,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-10-28T16:03:15Z",
      "side": 1,
      "message": "I believe that will break all existing users because of what I say in the comment below. Specifically the old `bootdevices` that bootloaders are passing is the exact path to the nearest \"platform\" parent. If we change it to look for mmc/scsi parents then the path will be deeper.\n\nI\u0027m happy to talk about how to make this clearer or brainstorm other ideas, but we can\u0027t just remove the condition...",
      "parentUuid": "7de29449_17dfaedd",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 196,
        "endChar": 35
      },
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8aa2fa2a_64c1a70e",
        "filename": "init/devices.cpp",
        "patchSetId": 3
      },
      "lineNbr": 196,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-11-06T00:02:08Z",
      "side": 1,
      "message": "I\u0027ve tweaked the wording of the comment slightly so hopefully the next person that reads it won\u0027t be confused. If you have any suggestions to make it better please shout! :-)",
      "parentUuid": "24754276_f21d732b",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 196,
        "endChar": 35
      },
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "de4fb3c6_51757cef",
        "filename": "init/devices.cpp",
        "patchSetId": 3
      },
      "lineNbr": 660,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2024-10-29T15:52:15Z",
      "side": 1,
      "message": "nit: s/NULL/nullptr",
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ace1f630_a90019b4",
        "filename": "init/devices.cpp",
        "patchSetId": 3
      },
      "lineNbr": 660,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-11-06T00:02:08Z",
      "side": 1,
      "message": "Thanks for spotting! I spend 99% of my time coding in C, so if you see me do anything else wrong like this please let me know.",
      "parentUuid": "de4fb3c6_51757cef",
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cedd2175_361a33ae",
        "filename": "init/devices.cpp",
        "patchSetId": 3
      },
      "lineNbr": 669,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-10-26T01:40:59Z",
      "side": 1,
      "message": "nit: format error",
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7f72691_17796758",
        "filename": "init/devices.cpp",
        "patchSetId": 3
      },
      "lineNbr": 669,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-10-28T16:03:15Z",
      "side": 1,
      "message": "Ah, the \"tab\" at the start. Oops! I\u0027m not sure how I missed that but I\u0027ll fix it up when I re-upload.",
      "parentUuid": "cedd2175_361a33ae",
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05aae6d9_438816d9",
        "filename": "init/devices.cpp",
        "patchSetId": 3
      },
      "lineNbr": 669,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-11-06T00:02:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d7f72691_17796758",
      "revId": "8509d34d871e9961caa1bcdcf86ac5f08a8dfe24",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}