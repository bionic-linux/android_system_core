{
  "comments": [
    {
      "key": {
        "uuid": "bc41ae2d_cb48d5b8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 9,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T19:11:32Z",
      "side": 1,
      "message": "Any reason to not make this all or nothing? All we\u0027re aiming to do here is make it so we don\u0027t break NDK code that already compiles. If they want to opt in to new features, they can opt in to all of them.",
      "range": {
        "startLine": 9,
        "startChar": 26,
        "endLine": 9,
        "endChar": 33
      },
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc41ae2d_cb6ff520",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 9,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T19:11:32Z",
      "side": 1,
      "message": "Let\u0027s not use a reserved word for this.",
      "range": {
        "startLine": 9,
        "startChar": 4,
        "endLine": 9,
        "endChar": 25
      },
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc41ae2d_6b61a131",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 22,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T19:11:32Z",
      "side": 1,
      "message": "Why a different define?",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc41ae2d_0b5c9dec",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 22,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2016-10-14T19:52:53Z",
      "side": 1,
      "message": "Because some use ANDROID_NATIVE_API_LEVEL (some stuff in-tree BTW) and some use __ANDROID_API__, where the later is ours I believe, and the other is used sporadically.",
      "parentUuid": "bc41ae2d_6b61a131",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c0d132b_d7ad3c6b",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 22,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T20:20:11Z",
      "side": 1,
      "message": "Where do you see ANDROID_NATIVE_API_LEVEL? I see it only in cmake files in external: https://cs.corp.google.com/search/?q\u003dANDROID_NATIVE_API_LEVEL\u0026m\u003d100\u0026sq\u003dpackage:android\u0026type\u003dcs\n\nANDROID_NATIVE_API_LEVEL means nothing to the NDK right now.",
      "parentUuid": "bc41ae2d_0b5c9dec",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc41ae2d_4b8865d2",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 112,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T19:11:32Z",
      "side": 1,
      "message": "The comment should stay with the function.",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc41ae2d_4b186530",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 112,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2016-10-14T19:52:53Z",
      "side": 1,
      "message": "True ...",
      "parentUuid": "bc41ae2d_4b8865d2",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc41ae2d_eb983125",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 125,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T19:11:32Z",
      "side": 1,
      "message": "This is new ABI. Do you really want to expose this? Would an app ever need this? The only caller in the entire tree is the Zygote forking function.",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc41ae2d_0b857d44",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 125,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2016-10-14T19:52:53Z",
      "side": 1,
      "message": "Double underscore functions exposed to the NDK, but not recommended to be called directly; so there is a point to not include this.\n\nHowever, I kept it here because it represents completeness, a partner\u0027s code caller should have the power to close logging after a fork, and before an exec (the FDs are CLOEXEC so it is a weak argument) or before they continue on the process (the stronger argument).",
      "parentUuid": "bc41ae2d_eb983125",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c0d132b_17e3b4c0",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 125,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T20:20:11Z",
      "side": 1,
      "message": "If it gets exposed in the NDK it can *never* change. The ABI and the behavior needs to remain consistent forever.\n\nDon\u0027t expose anything for completeness. Expose things because they are useful to apps.",
      "parentUuid": "bc41ae2d_0b857d44",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc41ae2d_6b50c128",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 176,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T19:11:32Z",
      "side": 1,
      "message": "Everything from here down is new ABI.",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c39f6b7_6ca453a2",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 176,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2016-10-14T19:52:53Z",
      "side": 1,
      "message": "Do you feel a comment is warranted is why you said this, or is this just a delineation of sorts?\n\nI should move CLOSE interface down here too ...",
      "parentUuid": "bc41ae2d_6b50c128",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c0d132b_770b1098",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 176,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T20:20:11Z",
      "side": 1,
      "message": "My point is that anything below this point is something you\u0027re committing to maintain the ABI and behavior of forever. Not thinking about what libc APIs to expose is a mistake that was made nearly a decade ago that we\u0027re still paying for. If there\u0027s anything in here that isn\u0027t useful for an app, don\u0027t expose it.",
      "parentUuid": "7c39f6b7_6ca453a2",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc41ae2d_0b22ddc1",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 219,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T19:11:32Z",
      "side": 1,
      "message": "This is never true.",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc128f45_3a90e128",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 219,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2016-10-14T19:52:53Z",
      "side": 1,
      "message": "False, if the caller does not define __ANDROID_API__ or ANDROID_NATIVE_API_LEVEL. I found that in most builds, this is the cased (undefined).",
      "parentUuid": "bc41ae2d_0b22ddc1",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c0d132b_371598b2",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 219,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T20:20:11Z",
      "side": 1,
      "message": "Whoops. Yes, you\u0027re right. That goes to prove my point that ANDROID_NATIVE_API_LEVEL is confusing when we already have __ANDROID_API__ though. __ANDROID_API__ is always defined, ANDROID_NATIVE_API_LEVEL isn\u0027t, despite the fact that they have more or less the same name and seem to represent the same concept.",
      "parentUuid": "bc128f45_3a90e128",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc41ae2d_8b16cd61",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 221,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T19:11:32Z",
      "side": 1,
      "message": "As I said before, we shouldn\u0027t be gating any of these things based on target API level (especially not a fake target API level, this is only going to further confuse and already confusing topic for NDK development).",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c0d132b_9789040a",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 221,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2016-10-14T19:52:53Z",
      "side": 1,
      "message": "We are going to need to talk about this. This might not be the right forum to educate me ...\n\nAre you talking universally, or just for the MACROs?\n\nI do not want to define any interfaces here that will not work if targeted for JB for example, and generally this gives a strong layer of lint checking to their builds.\n\nFor the case of the MACROs, we are special and also switch this all on if LOG_TAG defined which is a substantive bypass, the gate on API Version is to make sure we do not fail in external builds that count on the legacy variant of android/log.h.",
      "parentUuid": "bc41ae2d_8b16cd61",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c0d132b_f733a056",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 221,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T20:20:11Z",
      "side": 1,
      "message": "Yes, just the macros. ABI should be gated by the version that it\u0027s available in.\n\nANDROID_USE_LOG_MACROS (or ANDROID_HIDE_LOG_MACROS, if we prefer on by default, either works for me) would make this a lot more clear. It isn\u0027t obvious that LOG_TAG would change the interface provided here. Also remember that the reason this came up in the first place is that some external code was using LOG_TAG to mean something different.",
      "parentUuid": "5c0d132b_9789040a",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc41ae2d_0b0bbd39",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 262,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T19:11:32Z",
      "side": 1,
      "message": "Why are we exposing the radio log to the NDK?",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc41ae2d_0b0e5df0",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 262,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2016-10-14T19:52:53Z",
      "side": 1,
      "message": "Because we would like to allow radio components to be able to built out-of-tree. I had the BRCM folks complain about this.",
      "parentUuid": "bc41ae2d_0b0bbd39",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5c0d132b_57ac8c41",
        "filename": "include/android/log.h",
        "patchSetId": 13
      },
      "lineNbr": 262,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2016-10-14T20:20:11Z",
      "side": 1,
      "message": "Is the radio log really the only thing blocking that? Most vendor code depends on a ton of things that aren\u0027t available in the NDK.",
      "parentUuid": "bc41ae2d_0b0e5df0",
      "revId": "30c1e7cb918c18ec92d30d643849132f99dfe7d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}