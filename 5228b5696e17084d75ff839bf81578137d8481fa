{
  "comments": [
    {
      "key": {
        "uuid": "177fe6c5_bf939393",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-11-14T23:20:34Z",
      "side": 1,
      "message": "Seems reasonable not to introduce new functions, given there\u0027re essentially no callers nor any future callers?\n\nSeems reasonable to return -EINVAL still in those cases and not make them always work regardless of how the \u0027logger_list\u0027 was open?  It matches the original behavior, and since the logger_list already needs to be opened, seems the most accurate?",
      "revId": "5228b5696e17084d75ff839bf81578137d8481fa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "380cde66_81e27483",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-11-15T00:01:37Z",
      "side": 1,
      "message": "unless making them \"just work\" is _less_ code, sgtm.",
      "parentUuid": "177fe6c5_bf939393",
      "revId": "5228b5696e17084d75ff839bf81578137d8481fa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f32a8462_5f7b0e38",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-11-15T17:00:11Z",
      "side": 1,
      "message": "It is less code if the work in all cases.  The extra lines:\n\n  if (logger_list-\u003emode \u0026 ANDROID_LOG_PSTORE) {\n    return -EINVAL;\n  }\n\nare to keep the old behavior where they don\u0027t work if the \u0027logger_list\u0027 that they\u0027re attached to was opened with ANDROID_LOG_PSTORE.\n\nI think it\u0027s best to keep the old behavior though even with the extra few lines.  It\u0027s just super unfortunate that we can\u0027t deprecate these functions and have a more simple API.  It\u0027s the difference between now doing:\n\nauto* list \u003d android_logger_list_alloc(0, 0, 0);\nauto* logger \u003d android_logger_open(LOG_ID_MAIN, list);\nandroid_logger_clear(logger);\nandroid_logger_list_free(list);\n\nvs\n\nlogd_logger_clear(LOG_ID_MAIN);\n\nBut given that we only have one caller and we\u0027re already stuck with the above symbols, we don\u0027t gain practically anything cleaning this up.\n\nNote in the current example, if one wants to configure android_logger_clear() to clear pstore, they need to use ANDROID_LOG_PSTORE in the first function call, 2 function calls away from the place where it makes sense to provide it!",
      "parentUuid": "380cde66_81e27483",
      "revId": "5228b5696e17084d75ff839bf81578137d8481fa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8568acf7_a1c55ab5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 42,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-11-14T23:20:34Z",
      "side": 1,
      "message": "This above change seems reasonable too?  It shouldn\u0027t impact essentially anything.",
      "revId": "5228b5696e17084d75ff839bf81578137d8481fa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e1e0193_d45fc2d5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 42,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-11-15T00:01:37Z",
      "side": 1,
      "message": "sgtm.",
      "parentUuid": "8568acf7_a1c55ab5",
      "revId": "5228b5696e17084d75ff839bf81578137d8481fa",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}