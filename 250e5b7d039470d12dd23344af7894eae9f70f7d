{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "db81c0cd_ebd0139e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2024-11-11T19:13:55Z",
      "side": 1,
      "message": "Jiyong, my suggestion here was to \"exec dd\", but it looks like vendor_init can\u0027t do that. Do you have any suggestions?",
      "revId": "250e5b7d039470d12dd23344af7894eae9f70f7d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a8e4ada_457752c3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-11-12T01:22:52Z",
      "side": 1,
      "message": "I think vendor_init could use `/vendor/bin/dd` instead.",
      "parentUuid": "db81c0cd_ebd0139e",
      "revId": "250e5b7d039470d12dd23344af7894eae9f70f7d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f71be368_2c9c1e8f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1176763
      },
      "writtenOn": "2024-11-12T01:29:07Z",
      "side": 1,
      "message": "When I tested eariler, either /vendor/bin/dd or /system/bin/dd works. IIRC, the problem was selinux disallowed vendor_init for vendor_toolbox_exec:file { execute_no_trans }.",
      "parentUuid": "7a8e4ada_457752c3",
      "revId": "250e5b7d039470d12dd23344af7894eae9f70f7d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96dde0da_b97e6730",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1176763
      },
      "writtenOn": "2024-11-12T01:37:14Z",
      "side": 1,
      "message": "I guess that comes from:\n\n```\n# init should never execute a program without changing to another domain.\nneverallow vendor_init { file_type fs_type }:file execute_no_trans;\n```",
      "parentUuid": "f71be368_2c9c1e8f",
      "revId": "250e5b7d039470d12dd23344af7894eae9f70f7d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40babed0_e93f81a2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-11-12T01:44:00Z",
      "side": 1,
      "message": "I see. I think you are hit by this neverallow rule [1]. Not sure why we can\u0027t add vendor_toolbox there.\n\nOr you could execute `/vendor/bin/dd` with an explicit domain transition. ex:\n\n```\nexec u:r:vendor_toolbox:s0 -- /vendor/bin/dd arg1 arg2 \n```\n\n[1] https://cs.android.com/android/platform/superproject/main/+/main:system/sepolicy/private/vendor_init.te;drc\u003d2f31d932c267f2060a331490781aebc0154e67f0;l\u003d354",
      "parentUuid": "f71be368_2c9c1e8f",
      "revId": "250e5b7d039470d12dd23344af7894eae9f70f7d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86f0f0f1_ee542a2a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1176763
      },
      "writtenOn": "2024-11-12T03:04:47Z",
      "side": 1,
      "message": "When I tried second option, I got an error:\n\ninit: cannot setexeccon(\u0027u:r:vendor_toolbox:s0\u0027) for exec 18 ....",
      "parentUuid": "40babed0_e93f81a2",
      "revId": "250e5b7d039470d12dd23344af7894eae9f70f7d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}