{
  "comments": [
    {
      "key": {
        "uuid": "70538443_c1a9ec50",
        "filename": "init/init.cpp",
        "patchSetId": 1
      },
      "lineNbr": 619,
      "author": {
        "id": 1077068
      },
      "writtenOn": "2017-01-31T18:00:31Z",
      "side": 1,
      "message": "The android bootloader requirements doc says that you can pass this setting via the device tree as well which might be an issue.",
      "range": {
        "startLine": 619,
        "startChar": 23,
        "endLine": 619,
        "endChar": 48
      },
      "revId": "8316d3adef444ba18426dbf369a1945f6bf12d3c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eee5e525_ded6314a",
        "filename": "init/init.cpp",
        "patchSetId": 1
      },
      "lineNbr": 619,
      "author": {
        "id": 1108565
      },
      "writtenOn": "2017-01-31T22:34:04Z",
      "side": 1,
      "message": "Yes, I think the bootloader requirements doc is incorrect in saying that. the fs_mgr slotselect only depends on \n androidboot.slot_suffix cmdline or bootloader_message_ab struct passed through the raw /misc partition.\nsee: fs_mgr_slotsetect.cpp:get_active_slot_suffix()\n\nIf this is passed only through DT, I don\u0027t see how the slotselection will work during \"mount_all \u003cfstab\u003e\"\n\nThat being said, instead of doing this, we should just do fs_mgr_update_for_slotselect() on the fstab record before mounting",
      "revId": "8316d3adef444ba18426dbf369a1945f6bf12d3c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1109b5ba_19820713",
        "filename": "init/init.cpp",
        "patchSetId": 1
      },
      "lineNbr": 619,
      "author": {
        "id": 1108565
      },
      "writtenOn": "2017-02-01T19:05:52Z",
      "side": 1,
      "message": "actually scratch the requirement doc being incorrect part, init also processes DT through /proc/device-tree, so even if the DT node was defined as mentioned in the doc, we will get the ro.boot.slot_suffix property once init is done parsing DT and kernel command line. So, indeed just parsing the command line here is not enough.",
      "revId": "8316d3adef444ba18426dbf369a1945f6bf12d3c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}