{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "77fe1db3_d9855d95",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-02-06T22:44:50Z",
      "side": 1,
      "message": "flock()?",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c63ea56_0b5d80d9",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1893074
      },
      "writtenOn": "2023-02-06T22:54:35Z",
      "side": 1,
      "message": "Both of them are portable enough for us, but since fcntl + F_SETLKW / F_SETLK is the POSIX, while flock is BSD and was emulated in the glibc only before Linux 2.0 decided to go with fcntl",
      "parentUuid": "77fe1db3_d9855d95",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16fd0727_fc202c47",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-02-06T23:08:55Z",
      "side": 1,
      "message": "We\u0027re definitely well past Linux 2.0 :D",
      "parentUuid": "6c63ea56_0b5d80d9",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "45979871_1257d796",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1893074
      },
      "writtenOn": "2023-02-07T17:24:43Z",
      "side": 1,
      "message": "Seems like I overthought it in a bit :) Updated to flock and tested it works as expected.",
      "parentUuid": "16fd0727_fc202c47",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d30d9e3b_079a7924",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 58,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-02-06T22:44:50Z",
      "side": 1,
      "message": "int: get_homedir_path()\n\n(or bonus - start using CamelCase names for new stuff in fastboot)",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd49c9cc_f58e3f93",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 58,
      "author": {
        "id": 1893074
      },
      "writtenOn": "2023-02-07T17:24:43Z",
      "side": 1,
      "message": "Renamed to GetHomeDirPath and renamed everything I\u0027m adding following Google C++ style guide",
      "parentUuid": "d30d9e3b_079a7924",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81d675fe_ede8b38f",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 104,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-02-06T22:44:50Z",
      "side": 1,
      "message": "return access(path.c_str(), F_OK) \u003d\u003d 0",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d9767c27_32f2fca3",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 104,
      "author": {
        "id": 1893074
      },
      "writtenOn": "2023-02-07T17:24:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "81d675fe_ede8b38f",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "970c2315_54ded653",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 119,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-02-06T22:44:50Z",
      "side": 1,
      "message": "I think this function can be replaced as:\n\n    namespace fs \u003d std::filesystem;\n    \n    std::error_code ec;\n    return fs::create_directories(directory_path, ec);",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7418102_a89de278",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 119,
      "author": {
        "id": 1893074
      },
      "writtenOn": "2023-02-06T22:54:35Z",
      "side": 1,
      "message": "Reached @rprichard and he shared that std::filesystem isn\u0027t supported for Windows (blocked by b/175635923)",
      "parentUuid": "970c2315_54ded653",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b9b9cf41_c72ae10e",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 119,
      "author": {
        "id": 1893074
      },
      "writtenOn": "2023-02-07T21:59:52Z",
      "side": 1,
      "message": "Added TODO",
      "parentUuid": "d7418102_a89de278",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d49fd14b_3c6edd19",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 126,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-02-06T22:44:50Z",
      "side": 1,
      "message": "android::base::RemoveFileIfExists",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "27286f4d_07458e48",
        "filename": "fastboot/filesystem.cpp",
        "patchSetId": 5
      },
      "lineNbr": 126,
      "author": {
        "id": 1893074
      },
      "writtenOn": "2023-02-07T17:24:43Z",
      "side": 1,
      "message": "Thanks. Removed this function.",
      "parentUuid": "d49fd14b_3c6edd19",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a1c5938e_7c2b37f7",
        "filename": "fastboot/filesystem.h",
        "patchSetId": 5
      },
      "lineNbr": 36,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-02-06T22:44:50Z",
      "side": 1,
      "message": "const std::string\u0026",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1d784df2_b295620c",
        "filename": "fastboot/filesystem.h",
        "patchSetId": 5
      },
      "lineNbr": 36,
      "author": {
        "id": 1893074
      },
      "writtenOn": "2023-02-07T17:24:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a1c5938e_7c2b37f7",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd196601_2cecf2de",
        "filename": "fastboot/storage.cpp",
        "patchSetId": 5
      },
      "lineNbr": 28,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-02-06T22:44:50Z",
      "side": 1,
      "message": "You can eliminate the #ifdef and kPathSeparator:\n\n    #include \u003cfilesystem\u003e\n\n    namespace fs \u003d std::filesystem;\n\n    auto home_fastboot_path \u003d fs::path(home_path) / \".fastboot\";\n\nMake sure to add libc++fs to the .bp file.",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3cfa562_53cabb14",
        "filename": "fastboot/storage.cpp",
        "patchSetId": 5
      },
      "lineNbr": 28,
      "author": {
        "id": 1893074
      },
      "writtenOn": "2023-02-06T22:54:35Z",
      "side": 1,
      "message": "The same thing, blocked by b/175635923",
      "parentUuid": "fd196601_2cecf2de",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "707e23c8_ac5db444",
        "filename": "fastboot/storage.cpp",
        "patchSetId": 5
      },
      "lineNbr": 28,
      "author": {
        "id": 1893074
      },
      "writtenOn": "2023-02-07T21:59:52Z",
      "side": 1,
      "message": "Added TODO",
      "parentUuid": "a3cfa562_53cabb14",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e196c4d_bebeaa90",
        "filename": "fastboot/storage.cpp",
        "patchSetId": 5
      },
      "lineNbr": 35,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-02-06T22:44:50Z",
      "side": 1,
      "message": "same here",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7fa4fe5_8ad183c2",
        "filename": "fastboot/storage.cpp",
        "patchSetId": 5
      },
      "lineNbr": 35,
      "author": {
        "id": 1893074
      },
      "writtenOn": "2023-02-06T22:54:35Z",
      "side": 1,
      "message": "The same thing, blocked by b/175635923",
      "parentUuid": "7e196c4d_bebeaa90",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d783adc7_39af5ebc",
        "filename": "fastboot/storage.cpp",
        "patchSetId": 5
      },
      "lineNbr": 35,
      "author": {
        "id": 1893074
      },
      "writtenOn": "2023-02-07T21:59:52Z",
      "side": 1,
      "message": "Added TODO",
      "parentUuid": "b7fa4fe5_8ad183c2",
      "revId": "c52421a76b87e76321b0c59ce1622a28d599fb7b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}