{
  "comments": [
    {
      "key": {
        "uuid": "832a7e12_144b14b6",
        "filename": "include/private/android_logger.h",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2015-04-07T15:07:22Z",
      "side": 1,
      "message": "Here I envisioned that if we had multiple pieces, that I would \u0027play\u0027 with array_start, array_end, payload, payload1 etc if we had more complex event delivery requirements.\n\n(variable-length notwithstanding)\n\nSo far, no one is using a multiple-element event in C or C++, but I worry that log_write.c in liblog _may_ need one as emitting a dropped count event with just a number and no explanation is so unprofessional.\n\neg: (modified to reflect this CLs adjustment)\n\ntypedef struct __attribute__((__packed__)) {\n    android_event_header_t header;\n    android_event_long_t payload;\n    int8_t payload1_type;\n    int32_t payload1_length;\n    char payload1_data[];\n} android_log_event_long_string_t;\n\nwhere payload1 would be a string \"dropped count\" for example.",
      "range": {
        "startLine": 70,
        "startChar": 25,
        "endLine": 70,
        "endChar": 33
      },
      "revId": "4908842c4b094348d19aeb2b7e6a22c3ffbad796",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a32b0216_98dc3963",
        "filename": "include/private/android_logger.h",
        "patchSetId": 2
      },
      "lineNbr": 78,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2015-04-07T15:07:22Z",
      "side": 1,
      "message": "As noted above, regarding my vision, _I_ (and there is no i in team ;-\u003e) would have preferred to see payload_type, payload_length and payload_data so that if another header is produced with multiple elements, that each element of the event is clearly and uniquely named.\n\n(variable-length in the middle notwithstanding; the \u0027fix\u0027 for that is to add a ANDROID_EVENT_PAYLOAD_DATA_LEN, ANDROID_EVENT_PAYLOAD1_DATA_LEN etc).\n\n. . .\n    int8_t payload1_type;\n    int32_t payload1_length; // ANDROID_EVENT_PAYLOAD1_DATA_LEN\n    char payload1_data[ANDROID_EVENT_PAYLOAD1_DATA_LEN];\n. . .\n\nif not defined, no harm.\n\nToday ... too much complexity ... but not much to ask to prefix payload_ for these three structure elements.",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 78,
        "endChar": 16
      },
      "revId": "4908842c4b094348d19aeb2b7e6a22c3ffbad796",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}