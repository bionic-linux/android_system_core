{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b57b384f_969c4536",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-07-17T14:24:07Z",
      "side": 1,
      "message": "add the missing tests?",
      "revId": "1457f06fde8129d7c82dc472712c24b34d5a7e8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87fba21c_818e17cc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2023-07-17T20:54:52Z",
      "side": 1,
      "message": "I posted http://r.android.com/2656902 for this instead (though I did not see this CL).\n\nIf people haven\u0027t needed removeAll(\"\") in the past, keeping it a deadlock may be good for app compat (since if it shows up behind an SDK API within an app process, this would make it appear to work, so new apps relying on that behavior could fail on old devices) and it\u0027s a wasted operation, so it might indicate a bug.",
      "parentUuid": "b57b384f_969c4536",
      "revId": "1457f06fde8129d7c82dc472712c24b34d5a7e8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "afaa54a7_ecaba8c4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1850729
      },
      "writtenOn": "2023-07-17T21:41:04Z",
      "side": 1,
      "message": "I agree with the app compact consideration, there are multiple places where ::removeAll() is being used, feels good we haven\u0027t hit this issue hard (guess people might rely on the deadloop or segfault just to realize the invalid input). I\u0027m fine with either ways. And to Elliott\u0027s request, also updated the CL with missing tests.",
      "parentUuid": "87fba21c_818e17cc",
      "revId": "1457f06fde8129d7c82dc472712c24b34d5a7e8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5c061846_ba1caaf9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-07-17T21:49:43Z",
      "side": 1,
      "message": "i think the \"if\" in smoreland\u0027s earlier comment is doing a lot of heavy lifting --- we don\u0027t know that it is, right? and i\u0027d assume that it isn\u0027t.\n\npersonally i\u0027d rather turn already-broken stuff into hard errors (as i looked at in [unsubmitted] https://android-review.git.corp.google.com/c/platform/system/core/+/1709086 and https://android-review.git.corp.google.com/c/platform/system/core/+/2063129).\n\nin particular, passing null to removeAll() fells like a logic error in the caller to me that _should_ abort (though perhaps with a clearer message)?",
      "parentUuid": "afaa54a7_ecaba8c4",
      "revId": "1457f06fde8129d7c82dc472712c24b34d5a7e8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "64c81043_a789dc1b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1850729
      },
      "writtenOn": "2023-07-17T22:04:16Z",
      "side": 1,
      "message": "I think that\u0027s a good idea in both keeping the current behavior (abort but without segfault) and have some clear message to the devs.\n\nFor the infinitely loop, do we want to keep some app compat as well?",
      "parentUuid": "5c061846_ba1caaf9",
      "revId": "1457f06fde8129d7c82dc472712c24b34d5a7e8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b630b89f_8db8ba79",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-07-17T22:11:34Z",
      "side": 1,
      "message": "\u003e For the infinitely loop, do we want to keep some app compat as well?\n\nuntil/unless proven otherwise, i don\u0027t think this is exposed. not least because by definition no-one can be relying on the infinite loop behavior :-)\n\n\"abort\" or \"do nothing\" do seem like the only reasonable actions for that. i don\u0027t have a strong opinion between either of those (since i\u0027m fairly unconvinced this is a useful function to begin with).",
      "parentUuid": "64c81043_a789dc1b",
      "revId": "1457f06fde8129d7c82dc472712c24b34d5a7e8d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}