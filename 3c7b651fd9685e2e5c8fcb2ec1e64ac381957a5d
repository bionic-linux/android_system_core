{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f643f1c0_d2dbc4e1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-10-04T22:40:12Z",
      "side": 1,
      "message": "aren\u0027t we trying to kill ashmem for memfd?\n\nit\u0027s not clear to me that this wrapper adds any value over just calling the ioctl directly?\n\n(and is there a reason you can\u0027t use `ino_t`?)",
      "revId": "3c7b651fd9685e2e5c8fcb2ec1e64ac381957a5d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "537abe8f_fdfdfb9c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1965080
      },
      "writtenOn": "2022-10-27T21:58:06Z",
      "side": 1,
      "message": "The wrapper is pretty useless, yeah. I can remove that. Good idea on `ino_t` - I think we can use it - from what I recall it resolves into an unsigned long.\n\nThere are plans to move to memfd but we haven\u0027t yet. There is a strong desire from the perf team to deduplicate native allocation registration however, hence this patch set. I realize that this means we might need to make similar changes for our memfd handling though I think it\u0027s just going to be a stat call in that case so no kernel changes would be required.\n\nThanks for the review!",
      "parentUuid": "f643f1c0_d2dbc4e1",
      "revId": "3c7b651fd9685e2e5c8fcb2ec1e64ac381957a5d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "74b3be53_badfba32",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1965080
      },
      "writtenOn": "2022-10-27T22:02:11Z",
      "side": 1,
      "message": "\u003e The wrapper is pretty useless, yeah. I can remove that.\n\nActually I take that back - looking at ashmem-dev.cpp there\u0027s a couple of other wrappers around ashmem functionality. Also, if we happen to finally move to memfd, ashmem_get_backing_ino() could easily be updated to fstat(2) the memfd file descriptor for an inode number. So maybe this isn\u0027t quite that useless anyway?",
      "parentUuid": "537abe8f_fdfdfb9c",
      "revId": "3c7b651fd9685e2e5c8fcb2ec1e64ac381957a5d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd111320_98a1a3ed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1965080
      },
      "writtenOn": "2022-11-22T21:10:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "74b3be53_badfba32",
      "revId": "3c7b651fd9685e2e5c8fcb2ec1e64ac381957a5d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}