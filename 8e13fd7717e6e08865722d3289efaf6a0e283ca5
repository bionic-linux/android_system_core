{
  "comments": [
    {
      "key": {
        "uuid": "f23606bf_bd2930d8",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 66,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-08-02T17:36:55Z",
      "side": 1,
      "message": "consts should be formatted as kOverlayMountPoint.\n\nhttps://google.github.io/styleguide/cppguide.html#Constant_Names",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1a659aa_d69143c2",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 66,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-08-03T14:35:05Z",
      "side": 1,
      "message": "Did this on purpose.\n\nSad face, because the subsequent patch changes this into a list and all users of the value will have to reference an iterator #NameChangeHAsFutureImpact.\n\nWill do, because the subsequent patches are in dispute, may never see light of day, or are likely to change.",
      "parentUuid": "f23606bf_bd2930d8",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4155a5a5_be5a2c7e",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 245,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-08-02T17:36:55Z",
      "side": 1,
      "message": "Probably should call this fs_mgr_overlayfs_setup_one() or something to disambiguate it from fs_mgr_overlayfs_setup(), especially since there\u0027s only a subtle difference between taking a const string and a const char*.",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8fffde10_69d7f0fd",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 392,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-08-02T17:36:55Z",
      "side": 1,
      "message": "Move this into fs_mgr_wants_overlayfs() ?",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6182d61_7effe13d",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 392,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-08-03T14:35:05Z",
      "side": 1,
      "message": "I should drop this call ...",
      "parentUuid": "8fffde10_69d7f0fd",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e1d1713_1bf14346",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 453,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-08-02T17:36:55Z",
      "side": 1,
      "message": "This block deletes overlay_mount_point/overlay if it is empty, right?  Hence the rmdir() and not fs_mgr_rm_all() ? \n\nProbably should handle ENOTEMPTY/EEXIST as still a success here?",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a19ab68c_c98facfb",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 465,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-08-02T17:36:55Z",
      "side": 1,
      "message": "Why?",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63c64a5a_e0697331",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 465,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-08-03T14:35:05Z",
      "side": 1,
      "message": "#SavesTheApiSomeDrama, if we didn\u0027t want, or can\u0027t do, overlayfs in the first place, then this is silent cleanup of unwanted data. We do not want to trigger a please reboot from adb.",
      "parentUuid": "a19ab68c_c98facfb",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42ccd896_921d83c3",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 465,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-08-03T17:06:13Z",
      "side": 1,
      "message": "Do we ever need to reboot after teardown of overlayfs directories?  Seems that change is not needed in any case here.",
      "parentUuid": "63c64a5a_e0697331",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fca96b7b_177a551c",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 465,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-08-03T17:33:27Z",
      "side": 1,
      "message": "Yes, we do need a reboot after teardown, b/c overlayfs still points to them (holding one last reference in the filesystem to the contents). If anything changed underneath, we want a reboot so that overlayfs is no longer present (and to correctly embody the adb enable-verity guarantees).",
      "parentUuid": "42ccd896_921d83c3",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ba56b2c_99225652",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 465,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-08-03T17:43:09Z",
      "side": 1,
      "message": "Okay, makes sense.",
      "parentUuid": "fca96b7b_177a551c",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7dda1c18_5e7ee924",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 467,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-08-02T17:36:55Z",
      "side": 1,
      "message": "This check should happen first?",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5617ae3d_77781720",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 467,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-08-03T14:35:05Z",
      "side": 1,
      "message": "Nope, would prevent the obligatory and necessary expected cleanup",
      "parentUuid": "7dda1c18_5e7ee924",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4d04313_696a4d41",
        "filename": "fs_mgr/fs_mgr_overlayfs.cpp",
        "patchSetId": 11
      },
      "lineNbr": 467,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-08-03T14:39:56Z",
      "side": 1,
      "message": "last part of my comment got dropped(!)\n\nDo as much as we can, if we can, report back more to do if boot is not completed. This is never true since boot completed is set before adb is started, but as we all know this can change and I need the error check just in case.",
      "parentUuid": "5617ae3d_77781720",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b014cb5_7062b7d7",
        "filename": "fs_mgr/include/fs_mgr_overlayfs.h",
        "patchSetId": 11
      },
      "lineNbr": 16,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-08-02T17:36:55Z",
      "side": 1,
      "message": "#pragma once",
      "revId": "8e13fd7717e6e08865722d3289efaf6a0e283ca5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}