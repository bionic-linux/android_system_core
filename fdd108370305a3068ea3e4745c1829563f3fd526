{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "38a32a2a_07badc6b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-07-11T21:02:13Z",
      "side": 1,
      "message": "if this is always true, why is it even in the .bp file? doesn\u0027t that mean we can just delete it?\n\n(otherwise this change looks good!)",
      "revId": "fdd108370305a3068ea3e4745c1829563f3fd526",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b356b50b_e200a3d4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1318142
      },
      "writtenOn": "2024-07-11T21:15:16Z",
      "side": 1,
      "message": "I think what Nelson means is the value of BOARD_MOVE_GSI_AVB_KEYS_TO_VENDOR_BOOT is synced with BOARD_MOVE_RECOVERY_RESOURCES_TO_VENDOR_BOOT so there is no need to check BOARD_MOVE_GSI_AVB_KEYS_TO_VENDOR_BOOT.",
      "parentUuid": "38a32a2a_07badc6b",
      "revId": "fdd108370305a3068ea3e4745c1829563f3fd526",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f82829b_ed5b1d4b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-07-11T21:21:34Z",
      "side": 1,
      "message": "ah, i see...\n\nis any of this actually still needed? why is there nothing for t/u/v? +bowgotsai...",
      "parentUuid": "b356b50b_e200a3d4",
      "revId": "fdd108370305a3068ea3e4745c1829563f3fd526",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5929ea4_77b6a36a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1307893
      },
      "writtenOn": "2024-07-12T01:31:31Z",
      "side": 1,
      "message": "From current observations, these 3 files are added to `PRODUCT_PACKAGES` in `build/make/target/product/developer_gsi_keys.mk`:\n```\nPRODUCT_PACKAGES +\u003d \nq-developer-gsi.avbpubkey \nr-developer-gsi.avbpubkey \ns-developer-gsi.avbpubkey \n```\n`developer_gsi_keys.mk` is included by files like `device/google/gs-common/device.mk`, `device/google/sunfish/device.mk` ..., etc.  \n\nAnd `device/google/gs-common/device.mk` is further included by \ndevice/google/`zuma`/device.mk,\ndevice/google/`gs201`/device.mk, and \ndevice/google/`gs101`/device.mk.\n\nTherefore, currently, `all` devices add these three files to `PRODUCT_PACKAGES`.\n\n-----\nAs for keys t, u, v and above, code search shows that currently only `t-gsi_avbpubkey` is used in `test/vts-testcase/security/avb/data/Android.bp`, but `-gsi_avbpubkey` and `-developer-gsi.avbpubkey` are not the same key. \nWhether they are actually used is uncertain.",
      "parentUuid": "7f82829b_ed5b1d4b",
      "revId": "fdd108370305a3068ea3e4745c1829563f3fd526",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc1ee1dd_2bce7227",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2024-07-16T07:21:18Z",
      "side": 1,
      "message": "\u003e is any of this actually still needed? why is there nothing for t/u/v? +bowgotsai..\n\n\nYup, this is still needed for devices to opt-in using DSU to load a GSI system.img in locked state.\n\nhttps://developer.android.com/topic/generic-system-image\n\nhttps://developer.android.com/topic/dsu\n\nInitially we decided to create a new key for each Android release. However, this seems creates too much overheads without much benefits. So we finally decided to reuse/rotate q/r/s keys for future GSI releases.",
      "parentUuid": "d5929ea4_77b6a36a",
      "revId": "fdd108370305a3068ea3e4745c1829563f3fd526",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8bab1ad_bdf73b64",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2024-07-16T07:58:04Z",
      "side": 1,
      "message": "\u003e `BOARD_MOVE_GSI_AVB_KEYS_TO_VENDOR_BOOT` and\n`BOARD_MOVE_RECOVERY_RESOURCES_TO_VENDOR_BOOT` are always set to true together in all devices.\n\n\nHi,\n\nThis might be correct for the existing Pixel devices, which usually don\u0027t have a dedicated /recovery partition. \n\nHowever, many OEM devices do have the /recovery partition, where `BOARD_MOVE_RECOVERY_RESOURCES_TO_VENDOR_BOOT` will be empty. So it\u0027s possible for them to set BOARD_MOVE_GSI_AVB_KEYS_TO_VENDOR_BOOT to true and keep BOARD_MOVE_RECOVERY_RESOURCES_TO_VENDOR_BOOT as empty.\n\nhttps://source.android.com/docs/core/architecture/partitions/generic-boot#board-configurations\n\nhttps://source.android.com/docs/core/architecture/partitions/generic-boot#combinations\n\nhttps://cs.android.com/android/platform/superproject/main/+/main:system/core/rootdir/avb/Android.mk;l\u003d3;drc\u003df6f7ec0835382bbcb035997467eb8ff41afb6d6d\n\nFor devices without a dedicated recovery partition (e.g., Pixel devices), they use /boot + /vendor_boot partition to constitute a ramdisk at runtime for both \"normal boot\" and \"recovery boot\".\n\nAnd in \"normal boot\", \u0027init\u0027 will switch root to \"/first_stage_ramdisk\" directory, which has the environment for \"normal boot\". Because /boot + /vendor_boot contains too much resources for recovery, and are not for normal boot.\n\nhttps://cs.android.com/android/platform/superproject/main/+/main:system/core/init/first_stage_init.cpp;l\u003d503;drc\u003dd28f45772fe9ce2bf16013fa19c53de0e1021cac",
      "parentUuid": "dc1ee1dd_2bce7227",
      "revId": "fdd108370305a3068ea3e4745c1829563f3fd526",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d3eac91_7a9f53f1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2024-07-16T08:38:05Z",
      "side": 1,
      "message": "\u003e https://cs.android.com/android/platform/superproject/main/+/main:system/core/rootdir/avb/Android.mk;l\u003d3;drc\u003df6f7ec0835382bbcb035997467eb8ff41afb6d6d\n\nThe above link is incorrect, should be the following one:\nhttps://cs.android.com/android/platform/superproject/main/+/main:system/core/rootdir/avb/Android.mk;l\u003d3;drc\u003d0c99f933513ae4e2d3143ddff529df0b9207f88e",
      "parentUuid": "a8bab1ad_bdf73b64",
      "revId": "fdd108370305a3068ea3e4745c1829563f3fd526",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0717ccb0_0c7ff01b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-07-11T21:22:40Z",
      "side": 1,
      "message": "(i\u0027ll give you OWNERS anyway, since this seems like a move in the right direction, but i\u0027ll keep my fingers crossed that this can actually be deleted [or at least converted to whatever\u0027s being used for t/u/v!].)",
      "revId": "fdd108370305a3068ea3e4745c1829563f3fd526",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}