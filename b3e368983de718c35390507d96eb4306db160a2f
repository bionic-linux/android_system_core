{
  "comments": [
    {
      "key": {
        "uuid": "a1f05d5c_cbed27e1",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 7
      },
      "lineNbr": 167,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2019-04-18T13:37:07Z",
      "side": 1,
      "message": "I don\u0027t see a call to unmount this filesystem later. Intentional?",
      "revId": "b3e368983de718c35390507d96eb4306db160a2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a219882_13033164",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 7
      },
      "lineNbr": 167,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2019-04-18T14:52:45Z",
      "side": 1,
      "message": "Not intentional, just didn\u0027t think about it.\nProbably no need to keep the file for later inspection.\n\nI think we can umount it for now, until find a good reason to keep it in the future.",
      "parentUuid": "a1f05d5c_cbed27e1",
      "revId": "b3e368983de718c35390507d96eb4306db160a2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be95082f_746c9a18",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 7
      },
      "lineNbr": 167,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2019-04-18T14:55:49Z",
      "side": 1,
      "message": "If you unmount it, you can probably skip the restorecon step too. The unmount is important to free up this memory for other usages.",
      "parentUuid": "4a219882_13033164",
      "revId": "b3e368983de718c35390507d96eb4306db160a2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "272d5106_d4a4118c",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 7
      },
      "lineNbr": 167,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2019-04-18T14:56:58Z",
      "side": 1,
      "message": "It may also allow you to skip the restorecon too, improving boot time performance by some (probably negligible) amount.",
      "parentUuid": "be95082f_746c9a18",
      "revId": "b3e368983de718c35390507d96eb4306db160a2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc2929f7_b9959035",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 7
      },
      "lineNbr": 167,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2019-04-18T15:04:19Z",
      "side": 1,
      "message": "I see. \n\nIf restorecon is skipped, then we might need to re-write the sepolicy. (because when property_service loads /debug_ramdisk/adb_debug.prop, the file context will be tmpfs:file).\nLet me try it.",
      "parentUuid": "272d5106_d4a4118c",
      "revId": "b3e368983de718c35390507d96eb4306db160a2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1041e7bc_d6bae9ec",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 7
      },
      "lineNbr": 167,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2019-04-18T15:06:11Z",
      "side": 1,
      "message": "Ya, try it. It may not be possible to skip the restorecon. I\u0027m not sure. It was just a hypothesis on my part.",
      "parentUuid": "dc2929f7_b9959035",
      "revId": "b3e368983de718c35390507d96eb4306db160a2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f17dc26_3b556831",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 7
      },
      "lineNbr": 167,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2019-04-18T16:14:52Z",
      "side": 1,
      "message": "OK, can skip the restoreconn.",
      "parentUuid": "1041e7bc_d6bae9ec",
      "revId": "b3e368983de718c35390507d96eb4306db160a2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a1265fb_4e6b48cb",
        "filename": "init/selinux.cpp",
        "patchSetId": 7
      },
      "lineNbr": 471,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2019-04-18T16:13:08Z",
      "side": 1,
      "message": "Can removed the restoreconn.\n\nThere are two files:\n\"/debug_ramdisk/userdebug_plat_sepolicy.cil\";  \u003c-- this doesn\u0027t need restoreconn, as this file is used *before* sepolicy is loaded.\n\n\"/debug_ramdisk/adb_debug.prop\";  \u003c-- default file_context is tmpfs:file, and there is already tmpfs_domain(init) in sepolicy/private/init.te",
      "range": {
        "startLine": 471,
        "startChar": 33,
        "endLine": 471,
        "endChar": 46
      },
      "revId": "b3e368983de718c35390507d96eb4306db160a2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}