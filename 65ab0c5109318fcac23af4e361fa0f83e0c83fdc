{
  "comments": [
    {
      "key": {
        "uuid": "89056434_15fc6764",
        "filename": "init/reboot.cpp",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1131154
      },
      "writtenOn": "2019-07-19T15:02:56Z",
      "side": 1,
      "message": "Can be removed if memcmp() is not used. See my comments below.",
      "revId": "65ab0c5109318fcac23af4e361fa0f83e0c83fdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9168041a_3bda9553",
        "filename": "init/reboot.cpp",
        "patchSetId": 2
      },
      "lineNbr": 675,
      "author": {
        "id": 1131154
      },
      "writtenOn": "2019-07-19T13:58:01Z",
      "side": 1,
      "message": "This err variable can be declared for the whole \"else if\" block context, and it can be used twice (in read_bootloader_message and in write_bootloader_message), instead of declaring it twice, which makes code hard to read (especially because it\u0027s declared inside of \"if\" block).",
      "revId": "65ab0c5109318fcac23af4e361fa0f83e0c83fdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "608d5322_d6b11596",
        "filename": "init/reboot.cpp",
        "patchSetId": 2
      },
      "lineNbr": 675,
      "author": {
        "id": 1056365
      },
      "writtenOn": "2019-07-19T16:17:21Z",
      "side": 1,
      "message": "I have different opinion. The current way clearly scopes the err variable, which would not have meaningful value beyond the if block.",
      "parentUuid": "9168041a_3bda9553",
      "revId": "65ab0c5109318fcac23af4e361fa0f83e0c83fdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b07a539_b7ac6998",
        "filename": "init/reboot.cpp",
        "patchSetId": 2
      },
      "lineNbr": 675,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-07-19T16:24:49Z",
      "side": 1,
      "message": "+1; this is becoming the \u0027modern\u0027 way to do things with C++17 allowing declarations in if statements.  The thought is that it\u0027s better to limit scope of variables to the blocks that actually use them.",
      "parentUuid": "608d5322_d6b11596",
      "revId": "65ab0c5109318fcac23af4e361fa0f83e0c83fdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0709bde9_ec882b3c",
        "filename": "init/reboot.cpp",
        "patchSetId": 2
      },
      "lineNbr": 679,
      "author": {
        "id": 1131154
      },
      "writtenOn": "2019-07-19T15:02:56Z",
      "side": 1,
      "message": "Typo: perserve -\u003e preserve",
      "revId": "65ab0c5109318fcac23af4e361fa0f83e0c83fdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78cfc984_c45e5cef",
        "filename": "init/reboot.cpp",
        "patchSetId": 2
      },
      "lineNbr": 679,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2019-07-19T20:05:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0709bde9_ec882b3c",
      "revId": "65ab0c5109318fcac23af4e361fa0f83e0c83fdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfef4a18_772428ac",
        "filename": "init/reboot.cpp",
        "patchSetId": 2
      },
      "lineNbr": 681,
      "author": {
        "id": 1131154
      },
      "writtenOn": "2019-07-19T13:58:01Z",
      "side": 1,
      "message": "Why the whole buffer should be checked? Isn\u0027t it enough to just check the first character in boot.command? Like this:\n\n    if (boot.command[0] \u003d\u003d \u0027\\0\u0027)\n\nIn that case we can get rid of zero_buffer and avoid traversing through the whole buffer. Also it\u0027s easier to read (as it\u0027s more idiomatic in C).",
      "revId": "65ab0c5109318fcac23af4e361fa0f83e0c83fdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca08af61_91fe9783",
        "filename": "init/reboot.cpp",
        "patchSetId": 2
      },
      "lineNbr": 681,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2019-07-19T20:05:59Z",
      "side": 1,
      "message": "I am okay with the change. It\u0027s less safer but we should have control of the bootloader message writer, who is writing c strings.",
      "parentUuid": "dfef4a18_772428ac",
      "revId": "65ab0c5109318fcac23af4e361fa0f83e0c83fdc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}