{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "cd84615b_6bfbee13",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 7
      },
      "lineNbr": 1510,
      "author": {
        "id": 1060907
      },
      "writtenOn": "2020-12-22T18:33:14Z",
      "side": 1,
      "message": "Why is this needed? You set encryptable \u003d FS_MGR_MNTALL_DEV_IS_METADATA_ENCRYPTED below - won\u0027t the call to set_type_property at the end of the function handle this?",
      "revId": "d31eff31104b2e0a9bb4a5b06c639b8c994d2939",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "745baacf_5b7ab5db",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 7
      },
      "lineNbr": 1510,
      "author": {
        "id": 1176763
      },
      "writtenOn": "2020-12-22T18:46:58Z",
      "side": 1,
      "message": "fscrypt_is_native() in vold-\u003eFormat() checks \"ro.crypto.type\" to attach \"-O encrypt\". But, we call vdc before calling set_type_property().",
      "parentUuid": "cd84615b_6bfbee13",
      "revId": "d31eff31104b2e0a9bb4a5b06c639b8c994d2939",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "99d4e614_5477dd17",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 7
      },
      "lineNbr": 1510,
      "author": {
        "id": 1176763
      },
      "writtenOn": "2020-12-22T18:50:59Z",
      "side": 1,
      "message": "Or, does it make sense to call this instead of SetProperty()?\n\nset_type_property(FS_MGR_MNTALL_DEV_NEEDS_METADATA_ENCRYPTION);",
      "parentUuid": "745baacf_5b7ab5db",
      "revId": "d31eff31104b2e0a9bb4a5b06c639b8c994d2939",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b427b478_8ceba2d7",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 7
      },
      "lineNbr": 1510,
      "author": {
        "id": 1176763
      },
      "writtenOn": "2020-12-22T18:57:52Z",
      "side": 1,
      "message": "BTW, is this a bug?\nhttps://android-review.googlesource.com/c/platform/system/core/+/1530481/7/fs_mgr/fs_mgr.cpp#1465",
      "parentUuid": "99d4e614_5477dd17",
      "revId": "d31eff31104b2e0a9bb4a5b06c639b8c994d2939",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "071d0c93_59e5f16e",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 7
      },
      "lineNbr": 1510,
      "author": {
        "id": 1176763
      },
      "writtenOn": "2020-12-22T19:03:27Z",
      "side": 1,
      "message": "Ah, I see. The encryptable stores a final result and feeds into the last set_type_property() before return. Then, I think we need to add \"needs_encrypt\" back in vold-\u003eFormat. WDYT?",
      "parentUuid": "b427b478_8ceba2d7",
      "revId": "d31eff31104b2e0a9bb4a5b06c639b8c994d2939",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "477ca3b9_f9e84e2d",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 7
      },
      "lineNbr": 1510,
      "author": {
        "id": 1060907
      },
      "writtenOn": "2020-12-22T19:11:00Z",
      "side": 1,
      "message": "ah I see - thank you!\n\nI think the simplest thing is to do\n\n    encryptable \u003d FS_MGR_MNTALL_DEV_IS_METADATA_ENCRYPTED;\n    set_type_property(encryptable);\n\nbefore the call to \"vdc\". I think it\u0027s the right thing for encryptable to be set even if vdc fails.",
      "parentUuid": "071d0c93_59e5f16e",
      "revId": "d31eff31104b2e0a9bb4a5b06c639b8c994d2939",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84f8ee85_ad6aaaf0",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 7
      },
      "lineNbr": 1510,
      "author": {
        "id": 1176763
      },
      "writtenOn": "2020-12-22T19:18:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "477ca3b9_f9e84e2d",
      "revId": "d31eff31104b2e0a9bb4a5b06c639b8c994d2939",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}