{
  "comments": [
    {
      "key": {
        "uuid": "07aa11a2_c8d5191d",
        "filename": "init/reboot.cpp",
        "patchSetId": 8
      },
      "lineNbr": 273,
      "author": {
        "id": 1105075
      },
      "writtenOn": "2019-04-24T07:29:16Z",
      "side": 1,
      "message": "should we make a similar name to ro.build.shutdown_timeout\ne.g. ro.build.shutdown_watchdog_timeout which is also readonly.",
      "range": {
        "startLine": 273,
        "startChar": 13,
        "endLine": 273,
        "endChar": 42
      },
      "revId": "b63e12c2ebf361a95ef53e31471ab9b00009ee48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3dfc1e7_50b33d53",
        "filename": "init/reboot.cpp",
        "patchSetId": 8
      },
      "lineNbr": 273,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-04-24T15:54:37Z",
      "side": 1,
      "message": "Ah, right; I wanted that updated too.  The rest looks good to me.",
      "parentUuid": "07aa11a2_c8d5191d",
      "range": {
        "startLine": 273,
        "startChar": 13,
        "endLine": 273,
        "endChar": 42
      },
      "revId": "b63e12c2ebf361a95ef53e31471ab9b00009ee48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e359989_bbbb99c5",
        "filename": "init/reboot.cpp",
        "patchSetId": 8
      },
      "lineNbr": 273,
      "author": {
        "id": 1483435
      },
      "writtenOn": "2019-04-24T16:17:25Z",
      "side": 1,
      "message": "Sure ~\n\nI change to use ro.build.shutdown_timeout now.\n\nThank you,\nJoseph.",
      "parentUuid": "b3dfc1e7_50b33d53",
      "range": {
        "startLine": 273,
        "startChar": 13,
        "endLine": 273,
        "endChar": 42
      },
      "revId": "b63e12c2ebf361a95ef53e31471ab9b00009ee48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b4b578c_968ae4be",
        "filename": "init/reboot.cpp",
        "patchSetId": 8
      },
      "lineNbr": 273,
      "author": {
        "id": 1483435
      },
      "writtenOn": "2019-04-24T16:31:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0e359989_bbbb99c5",
      "range": {
        "startLine": 273,
        "startChar": 13,
        "endLine": 273,
        "endChar": 42
      },
      "revId": "b63e12c2ebf361a95ef53e31471ab9b00009ee48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "db9907cf_d8a0d403",
        "filename": "init/reboot.cpp",
        "patchSetId": 8
      },
      "lineNbr": 356,
      "author": {
        "id": 1105075
      },
      "writtenOn": "2019-04-24T07:29:16Z",
      "side": 1,
      "message": "should we deduct duration from timeout?",
      "range": {
        "startLine": 356,
        "startChar": 32,
        "endLine": 356,
        "endChar": 35
      },
      "revId": "b63e12c2ebf361a95ef53e31471ab9b00009ee48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57620b11_432ca355",
        "filename": "init/reboot.cpp",
        "patchSetId": 8
      },
      "lineNbr": 356,
      "author": {
        "id": 1483435
      },
      "writtenOn": "2019-04-24T16:17:25Z",
      "side": 1,
      "message": "I original plan is to store previous remain timeout value and put it for next reboot timer.\n\nBut I think it should be okay to have another 30 seconds timer because we across the fsck right?\n\nIn fsck, we stop the timer. So it is hard to keep original timer 30 seconds if user request to have fsck.\n\nThank you,\nJoseph.",
      "parentUuid": "db9907cf_d8a0d403",
      "range": {
        "startLine": 356,
        "startChar": 32,
        "endLine": 356,
        "endChar": 35
      },
      "revId": "b63e12c2ebf361a95ef53e31471ab9b00009ee48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "41b9bf43_ab9f389e",
        "filename": "init/reboot.cpp",
        "patchSetId": 8
      },
      "lineNbr": 356,
      "author": {
        "id": 1105075
      },
      "writtenOn": "2019-04-24T16:48:26Z",
      "side": 1,
      "message": "It is about 0ms here, should we add the remaining time left for the shutdown timeout.\n\noriginal thread started with additional time for shutdown_timeout\n   std::thread reboot_monitor_thread(\u0026RebootMonitorThread, cmd, rebootTarget, \u0026reboot_semaphore,                                      shutdown_timeout);\n\nso when we resume we should still take we left in the shutdown_timeout part",
      "parentUuid": "57620b11_432ca355",
      "range": {
        "startLine": 356,
        "startChar": 32,
        "endLine": 356,
        "endChar": 35
      },
      "revId": "b63e12c2ebf361a95ef53e31471ab9b00009ee48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7d3bce31_d3ff3015",
        "filename": "init/reboot.cpp",
        "patchSetId": 8
      },
      "lineNbr": 356,
      "author": {
        "id": 1483435
      },
      "writtenOn": "2019-04-24T16:57:56Z",
      "side": 1,
      "message": "Sorry the 0ms shutdown_timeout is not really equal to the monitor timer.\n\nshutdown_timeout_timespec.tv_sec +\u003d shutdown_watchdog_timeout + shutdown_timeout.count() / 1000;\n\nThe 0ms is for \"shutdown_timeout.count()\" and it is additional timeout here.\n\nIn other words, we will enable another 30 seconds timer for rest of shutdown sequence.\n\nI am not going to use remaining timeout here because the total timeout may already exceed 30 seconds before next umount sync.\n\nPlease feel free to share why you still want to keep using remaining timeout value here?\n\nThank you,\nJoseph.",
      "parentUuid": "41b9bf43_ab9f389e",
      "range": {
        "startLine": 356,
        "startChar": 32,
        "endLine": 356,
        "endChar": 35
      },
      "revId": "b63e12c2ebf361a95ef53e31471ab9b00009ee48",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}