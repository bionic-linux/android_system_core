{
  "comments": [
    {
      "key": {
        "uuid": "fbae4355_ee422bc3",
        "filename": "libnativeloader/library_namespaces.cpp",
        "patchSetId": 2
      },
      "lineNbr": 227,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-07-15T01:02:05Z",
      "side": 1,
      "message": "Is libneuralnetwork.so expected to exist in both /system/lib and /apex/...? If so, 227-231 will eclipse 242-248.\n\nsystem_exposed_libraries() includes libneuralnetworks.so. So, the lib in the  will always be searched and used.\n\nIn order for you to give higher priority to the updated one, you need to move 242-248 before 227.\n\n-------\nIf you are \u0027moving\u0027 the lib to the apex path, then we are fine.",
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28fd9bf0_61bf7fa8",
        "filename": "libnativeloader/library_namespaces.cpp",
        "patchSetId": 2
      },
      "lineNbr": 227,
      "author": {
        "id": 1015680
      },
      "writtenOn": "2019-07-17T09:44:19Z",
      "side": 1,
      "message": "I would like to move it from /system/lib if it\u0027s possible.",
      "parentUuid": "fbae4355_ee422bc3",
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07963460_9995f5a4",
        "filename": "libnativeloader/library_namespaces.cpp",
        "patchSetId": 2
      },
      "lineNbr": 227,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-07-17T12:23:19Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "28fd9bf0_61bf7fa8",
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f6c195a2_8b0069d2",
        "filename": "libnativeloader/library_namespaces.cpp",
        "patchSetId": 2
      },
      "lineNbr": 244,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2019-07-12T21:02:41Z",
      "side": 1,
      "message": "Let\u0027s keep this sort of constants in public_libraries.{h,cpp}, please. Also, I think you still get a link to your lib to the platform namespace through default_public_libraries(). InitDefaultPublicLibraries got special code to remove the libs in the runtime APEX, and there ought to be something similar for this one.\n\n(I think we ideally should add a mapping from lib dirs to namespaces, and then loop through the libs in the public.libraries*.txt files, check where they are, and create links to the appropriate namespaces. That way we wouldn\u0027t need all this ad-hoc code to set up the right links. But that\u0027s perhaps out of scope for this CL.)",
      "range": {
        "startLine": 244,
        "startChar": 29,
        "endLine": 244,
        "endChar": 51
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b73137a9_4c251cb6",
        "filename": "libnativeloader/library_namespaces.cpp",
        "patchSetId": 2
      },
      "lineNbr": 244,
      "author": {
        "id": 1015680
      },
      "writtenOn": "2019-07-17T09:44:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f6c195a2_8b0069d2",
      "range": {
        "startLine": 244,
        "startChar": 29,
        "endLine": 244,
        "endChar": 51
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43f6ae29_17536c6c",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 155,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-07-15T01:02:05Z",
      "side": 1,
      "message": "I am not sure if this (including all changes done to namespace.default) is needed.\n\nIt looks like no platform component is linking to libneuralnetwork.",
      "range": {
        "startLine": 155,
        "startChar": 0,
        "endLine": 155,
        "endChar": 63
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7623a587_630a3039",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 155,
      "author": {
        "id": 1015680
      },
      "writtenOn": "2019-07-17T09:44:19Z",
      "side": 1,
      "message": "Ack, removed, looks like they are not needed.",
      "parentUuid": "43f6ae29_17536c6c",
      "range": {
        "startLine": 155,
        "startChar": 0,
        "endLine": 155,
        "endChar": 63
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb20745a_8a28bf3c",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 155,
      "author": {
        "id": 1015680
      },
      "writtenOn": "2019-07-17T12:10:27Z",
      "side": 1,
      "message": "Actually, I would like to keep it here. There\u0027s no component linking ATM, there\u0027s nothing preventing it.",
      "parentUuid": "7623a587_630a3039",
      "range": {
        "startLine": 155,
        "startChar": 0,
        "endLine": 155,
        "endChar": 63
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52373c96_654a49f0",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 178,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-07-15T01:02:05Z",
      "side": 1,
      "message": "This as well. Is anything in the runtime ns actually uses libneuralnetwork?",
      "range": {
        "startLine": 177,
        "startChar": 0,
        "endLine": 178,
        "endChar": 63
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9ba615e_b5007d5e",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 178,
      "author": {
        "id": 1015680
      },
      "writtenOn": "2019-07-17T09:44:19Z",
      "side": 1,
      "message": "It was being preloaded by zygote in https://cs.corp.google.com/android/system/core/libnativeloader/library_namespaces.cpp?rcl\u003d3a58a5000da2a8e112e602a6bae5ed200392fdf7\u0026l\u003d125 , \nno longer a case after filtering public_libraries list in libnativeloader, removed.",
      "parentUuid": "52373c96_654a49f0",
      "range": {
        "startLine": 177,
        "startChar": 0,
        "endLine": 178,
        "endChar": 63
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db5c1640_63e7de7c",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 178,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-07-17T12:23:19Z",
      "side": 1,
      "message": "ack. but my question was about any directly dependency to libneuralnetwork from the runtime APEX. I guess not.",
      "parentUuid": "a9ba615e_b5007d5e",
      "range": {
        "startLine": 177,
        "startChar": 0,
        "endLine": 178,
        "endChar": 63
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8790be0d_01cb05f3",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 178,
      "author": {
        "id": 1015680
      },
      "writtenOn": "2019-07-17T12:31:54Z",
      "side": 1,
      "message": "there\u0027s no directly dependency",
      "parentUuid": "db5c1640_63e7de7c",
      "range": {
        "startLine": 177,
        "startChar": 0,
        "endLine": 178,
        "endChar": 63
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "863f06b7_2b705937",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 194,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2019-07-12T21:02:41Z",
      "side": 1,
      "message": "There are a lot of namespaces that have this expansion that aren\u0027t getting links to libneuralnetworks\u0027 new location. Is that intentional?",
      "range": {
        "startLine": 194,
        "startChar": 45,
        "endLine": 194,
        "endChar": 60
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5379073_9d2f491f",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 194,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2019-07-12T21:02:41Z",
      "side": 1,
      "message": "Doesn\u0027t this still expand to a list that includes libneuralnetworks.so? It shouldn\u0027t, right?",
      "range": {
        "startLine": 194,
        "startChar": 44,
        "endLine": 194,
        "endChar": 61
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a402750f_78889c23",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 194,
      "author": {
        "id": 1015680
      },
      "writtenOn": "2019-07-17T09:44:19Z",
      "side": 1,
      "message": "Fixed that by filtering LLNDK_LIBRARIES in update_and_install_ld_config",
      "parentUuid": "863f06b7_2b705937",
      "range": {
        "startLine": 194,
        "startChar": 45,
        "endLine": 194,
        "endChar": 60
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "682102fd_25edf08c",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 218,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2019-07-12T21:02:41Z",
      "side": 1,
      "message": "Style nit: Please keep this alphabetically sorted (same in other places).",
      "range": {
        "startLine": 211,
        "startChar": 0,
        "endLine": 218,
        "endChar": 62
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "558c5c96_7b810341",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 218,
      "author": {
        "id": 1015680
      },
      "writtenOn": "2019-07-17T09:44:19Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "682102fd_25edf08c",
      "range": {
        "startLine": 211,
        "startChar": 0,
        "endLine": 218,
        "endChar": 62
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "839db68e_6f32169d",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 422,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-07-15T01:02:05Z",
      "side": 1,
      "message": "Do you intend to provide libneuralnetwork to vendor processes like HALs? If not, you don\u0027t need to touch the [vendor] config.",
      "range": {
        "startLine": 422,
        "startChar": 39,
        "endLine": 422,
        "endChar": 44
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fe33d32_4f9c46be",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 422,
      "author": {
        "id": 1015680
      },
      "writtenOn": "2019-07-17T09:44:19Z",
      "side": 1,
      "message": "libneuralnetwork is part of LLNDK, it\u0027s accessible to vendor processes.",
      "parentUuid": "839db68e_6f32169d",
      "range": {
        "startLine": 422,
        "startChar": 39,
        "endLine": 422,
        "endChar": 44
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63961e60_ba9fb0f4",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 422,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-07-17T12:23:19Z",
      "side": 1,
      "message": "So, I assume the decision to have libneuralnetwork in LLNDK was intentional and we expect that it would be used by some HALs. Am I correct?\n\nFYI: you can remove it from LLNDK if you want (starting from R).",
      "parentUuid": "7fe33d32_4f9c46be",
      "range": {
        "startLine": 422,
        "startChar": 39,
        "endLine": 422,
        "endChar": 44
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a3387fd_f3bd7c91",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 422,
      "author": {
        "id": 1015680
      },
      "writtenOn": "2019-07-17T12:31:54Z",
      "side": 1,
      "message": "Yes, it was intentional, it can be used by some HALs to implement their functionality.\n\n\u003e FYI: you can remove it from LLNDK if you want (starting from R).\nHow come? What\u0027s changing?",
      "parentUuid": "63961e60_ba9fb0f4",
      "range": {
        "startLine": 422,
        "startChar": 39,
        "endLine": 422,
        "endChar": 44
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63244f57_dec9fa10",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 422,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-07-17T12:38:38Z",
      "side": 1,
      "message": "ack. thanks for confirming.  \n\nVNDK (including LLNDK) keeps stability only for a release. Across releases, we can introduce breaking changes like removing APIs, libs, etc.\n\nBut, since this was added on purpose, there should be no need to remove it back.",
      "parentUuid": "1a3387fd_f3bd7c91",
      "range": {
        "startLine": 422,
        "startChar": 39,
        "endLine": 422,
        "endChar": 44
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd1aa837_522359e7",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 637,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-07-15T01:02:05Z",
      "side": 1,
      "message": "Again, if libneuralnetwork is only for apps, you don\u0027t need this.",
      "range": {
        "startLine": 637,
        "startChar": 55,
        "endLine": 637,
        "endChar": 60
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b89ee024_405c6746",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 637,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2019-07-15T19:14:29Z",
      "side": 1,
      "message": "I\u0027d prefer to keep this section a superset of [system], so that tests don\u0027t run into limitations that real binaries wouldn\u0027t.",
      "parentUuid": "cd1aa837_522359e7",
      "range": {
        "startLine": 637,
        "startChar": 55,
        "endLine": 637,
        "endChar": 60
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df099d1d_c1e5a1cc",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 637,
      "author": {
        "id": 1015680
      },
      "writtenOn": "2019-07-17T09:44:19Z",
      "side": 1,
      "message": "All of nnapi tests are native tests, comment above indicates that it should be added here as well",
      "parentUuid": "cd1aa837_522359e7",
      "range": {
        "startLine": 637,
        "startChar": 55,
        "endLine": 637,
        "endChar": 60
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "26625fc8_bd427f94",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 637,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-07-17T12:23:19Z",
      "side": 1,
      "message": "\u003e All of nnapi tests are native tests\n\nI see. Makes sense.",
      "parentUuid": "df099d1d_c1e5a1cc",
      "range": {
        "startLine": 637,
        "startChar": 55,
        "endLine": 637,
        "endChar": 60
      },
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "060a1c2f_3f65bd5a",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 747,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2019-07-12T21:02:41Z",
      "side": 1,
      "message": "Style nit: Please try to keep the order between the namespace sections the same here and in [system] (and elsewhere).",
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8d72714_87b59815",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 2
      },
      "lineNbr": 747,
      "author": {
        "id": 1015680
      },
      "writtenOn": "2019-07-17T09:44:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "060a1c2f_3f65bd5a",
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c24ac972_a842bda0",
        "filename": "rootdir/etc/ld.config.vndk_lite.txt",
        "patchSetId": 2
      },
      "lineNbr": 556,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2019-07-12T21:02:41Z",
      "side": 1,
      "message": "Style nit: Just one empty line.",
      "revId": "87df059cade658e352e4b09a35aacfd88b58c1e9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}