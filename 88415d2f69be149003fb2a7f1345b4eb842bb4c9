{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3f1dc45f_2eb223af",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 2052709
      },
      "writtenOn": "2024-11-06T13:13:22Z",
      "side": 1,
      "message": "Looking at the documentation it\u0027s hard to say that `androidboot.boot_devices` **must** point to the devices which include **all** of the partitions (not only `super`). It\u0027s unclear in my opinion. I mean, we should avoid calling it improper behavior.\n\nThat being said, I think your solution is OK to apply our solution only for \"new\" devices.",
      "revId": "88415d2f69be149003fb2a7f1345b4eb842bb4c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "36e7a051_fdedff2d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-11-06T20:30:31Z",
      "side": 1,
      "message": "Sure. I\u0027ll reword it a little to make it sound less like older products are violating a spec.",
      "parentUuid": "3f1dc45f_2eb223af",
      "revId": "88415d2f69be149003fb2a7f1345b4eb842bb4c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3091417_cb5bd66d",
        "filename": "init/block_dev_initializer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-11-06T00:09:10Z",
      "side": 1,
      "message": "I spent a pile of time trying to figure out if there are any cases where this function is called to wait for partitions that _aren\u0027t_ on the boot device and I didn\u0027t come up with an amazing conclusion. There are a whole lot of calls to `block_dev_init_.InitDevices()` (some of which are indirectly from `FirstStageMountVBootV2::InitRequiredDevices()`) handling special corner cases that I\u0027m not that familiar with.\n\nIn the end I figured that since we\u0027re only enforcing this for new devices (those using `boot_part_uuid` that this was at least safe enough. If someone points out some case where we need to use this function to wait for something that _isn\u0027t_ on the \"boot devices\" then we could always add some type of boolean variable here.\n\nIf folks who know this code better than I do think this is wrong then please let me know! I just wanted to call it to attention (and document it!) since I was less certain about it than I wanted to be.\n\nThanks!",
      "range": {
        "startLine": 162,
        "startChar": 23,
        "endLine": 162,
        "endChar": 82
      },
      "revId": "88415d2f69be149003fb2a7f1345b4eb842bb4c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9895249_da0cbdf5",
        "filename": "init/block_dev_initializer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2024-11-06T07:23:32Z",
      "side": 1,
      "message": "We only create named partitions for the boot device, so I think this is fine.",
      "parentUuid": "a3091417_cb5bd66d",
      "range": {
        "startLine": 162,
        "startChar": 23,
        "endLine": 162,
        "endChar": 82
      },
      "revId": "88415d2f69be149003fb2a7f1345b4eb842bb4c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1fc5f3dc_84871a77",
        "filename": "init/block_dev_initializer.cpp",
        "patchSetId": 1
      },
      "lineNbr": 162,
      "author": {
        "id": 1004907
      },
      "writtenOn": "2024-11-06T20:30:31Z",
      "side": 1,
      "message": "OK, great. Thanks for confirming! :-)",
      "parentUuid": "b9895249_da0cbdf5",
      "range": {
        "startLine": 162,
        "startChar": 23,
        "endLine": 162,
        "endChar": 82
      },
      "revId": "88415d2f69be149003fb2a7f1345b4eb842bb4c9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}