{
  "comments": [
    {
      "key": {
        "uuid": "0d571d22_2a041600",
        "filename": "libziparchive/zip_archive.cc",
        "patchSetId": 2
      },
      "lineNbr": 146,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2020-04-14T16:42:07Z",
      "side": 1,
      "message": "%zu-byte read...?",
      "range": {
        "startLine": 146,
        "startChar": 16,
        "endLine": 146,
        "endChar": 20
      },
      "revId": "b2d91fad5f1820de00cdf7d1fbe4510a717ace5a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "755311a6_84e7e754",
        "filename": "libziparchive/zip_archive.cc",
        "patchSetId": 2
      },
      "lineNbr": 146,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2020-04-14T18:29:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0d571d22_2a041600",
      "range": {
        "startLine": 146,
        "startChar": 16,
        "endLine": 146,
        "endChar": 20
      },
      "revId": "b2d91fad5f1820de00cdf7d1fbe4510a717ace5a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "98edb8b9_cdf72316",
        "filename": "libziparchive/zip_archive.cc",
        "patchSetId": 2
      },
      "lineNbr": 396,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2020-04-14T08:26:05Z",
      "side": 1,
      "message": "seems like a bad replace command ? (looks like the if() surrounds the wrong statement.",
      "range": {
        "startLine": 394,
        "startChar": 6,
        "endLine": 396,
        "endChar": 46
      },
      "revId": "b2d91fad5f1820de00cdf7d1fbe4510a717ace5a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66b97673_bbb1117a",
        "filename": "libziparchive/zip_archive.cc",
        "patchSetId": 2
      },
      "lineNbr": 396,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2020-04-14T16:42:07Z",
      "side": 1,
      "message": "xunchang\u0027s from the future :-) he\u0027s using the 3rd variant on https://en.cppreference.com/w/cpp/language/if which is new in C++17.",
      "parentUuid": "98edb8b9_cdf72316",
      "range": {
        "startLine": 394,
        "startChar": 6,
        "endLine": 396,
        "endChar": 46
      },
      "revId": "b2d91fad5f1820de00cdf7d1fbe4510a717ace5a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07115667_a8edeb33",
        "filename": "libziparchive/zip_archive.cc",
        "patchSetId": 2
      },
      "lineNbr": 396,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2020-04-14T16:52:18Z",
      "side": 1,
      "message": "Yikes... i find this super unreadable, but maybe it\u0027s just me stuck in the past.",
      "parentUuid": "66b97673_bbb1117a",
      "range": {
        "startLine": 394,
        "startChar": 6,
        "endLine": 396,
        "endChar": 46
      },
      "revId": "b2d91fad5f1820de00cdf7d1fbe4510a717ace5a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45929688_62de7a74",
        "filename": "libziparchive/zip_archive.cc",
        "patchSetId": 2
      },
      "lineNbr": 396,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2020-04-14T17:04:22Z",
      "side": 1,
      "message": "fwiw, \"me too\". but it\u0027s always hard to tell with these things whether we\u0027ll get used to them or not (and the only way to find out is to actually use them more in practice).\n\npersonally i find it makes the most sense when the variable is only used in the condition and the body of the if --- it lets you keep it out of the surrounding scope in that case. for cases like this, especially where it wraps anyway, i\u0027m less sure. if not using it let you _avoid_ wrapping, which isn\u0027t the case here because the identifiers are so long, i\u0027d say it was a bad idea. but when it makes no difference either way [like here], i don\u0027t really have an opinion.\n\npersonally i\u0027d probably go with:\n\n  if (zip32CompressedSize \u003d\u003d UINT32_MAX) {\n    compressedFileSize \u003d\n        TryConsumeUnaligned\u003cuint64_t\u003e(\u0026readPtr, extraFieldStart, extraFieldLength);\n    if (!compressedFileSize.has_value()) return kInvalidOffset;\n  }\n\nbut the local style seems to be avoiding return on the same line. like i said, it would be a lot more convincing if the names were shorter so it fit:\n\n  if (zip32CompressedSize \u003d\u003d UINT32_MAX) {\n    compressedSize \u003d TryConsumeUnaligned\u003cuint64_t\u003e(\u0026p, extraStart, extraSize);\n    if (!compressedSize.has_value()) return kInvalidOffset;\n  }\n\nbut even if we wanted to try for shorter names, that seems like that should be in a separate change that only renames anyway.",
      "parentUuid": "07115667_a8edeb33",
      "range": {
        "startLine": 394,
        "startChar": 6,
        "endLine": 396,
        "endChar": 46
      },
      "revId": "b2d91fad5f1820de00cdf7d1fbe4510a717ace5a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d142a45e_0abe9548",
        "filename": "libziparchive/zip_archive.cc",
        "patchSetId": 2
      },
      "lineNbr": 396,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2020-04-14T18:29:22Z",
      "side": 1,
      "message": ":) changed the style as it causes some confusion.",
      "parentUuid": "45929688_62de7a74",
      "range": {
        "startLine": 394,
        "startChar": 6,
        "endLine": 396,
        "endChar": 46
      },
      "revId": "b2d91fad5f1820de00cdf7d1fbe4510a717ace5a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}