{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "db9448f2_61f323c2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2024-06-25T22:28:25Z",
      "side": 1,
      "message": "A race can still exist in this case (if the pointer is null and two threads set it at the same time). Why exclude this case? Is the performance impact that important?",
      "range": {
        "startLine": 9,
        "startChar": 28,
        "endLine": 10,
        "endChar": 9
      },
      "revId": "16f8d0ef395630003741650b4681d4d7b901dce0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8eca6e17_6f1d0d2a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1080076
      },
      "writtenOn": "2024-06-26T20:31:53Z",
      "side": 1,
      "message": "It would, but the detection in that case ends up being just two consecutive reads with nothing in between (at least in most cases, I actually missed a few where we\u0027d have an increment for the other argument), and the chance of that actually detecting a race is miniscule. The optimization isn\u0027t that big either, so I\u0027m fine with abandoning it if you believe there\u0027s value in the current way",
      "parentUuid": "db9448f2_61f323c2",
      "range": {
        "startLine": 9,
        "startChar": 28,
        "endLine": 10,
        "endChar": 9
      },
      "revId": "16f8d0ef395630003741650b4681d4d7b901dce0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33b1f84b_7b4a791e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2024-06-26T20:53:37Z",
      "side": 1,
      "message": "This is precisely the race this code is meant to prevent.\n\nSure, the chance a given time it will happen is small, but if code is executed many times, even if the race is rare, it\u0027ll catch sometimes and we\u0027ll get the bug and fix it. That\u0027s important.",
      "parentUuid": "8eca6e17_6f1d0d2a",
      "range": {
        "startLine": 9,
        "startChar": 28,
        "endLine": 10,
        "endChar": 9
      },
      "revId": "16f8d0ef395630003741650b4681d4d7b901dce0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f3e1044_efecc39e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1080076
      },
      "writtenOn": "2024-06-26T21:22:11Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "33b1f84b_7b4a791e",
      "range": {
        "startLine": 9,
        "startChar": 28,
        "endLine": 10,
        "endChar": 9
      },
      "revId": "16f8d0ef395630003741650b4681d4d7b901dce0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}