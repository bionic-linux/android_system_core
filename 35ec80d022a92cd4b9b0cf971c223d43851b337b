{
  "comments": [
    {
      "key": {
        "uuid": "ec274e07_eb14870b",
        "filename": "init/init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 832,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-05-29T21:50:00Z",
      "side": 1,
      "message": "Shouldn\u0027t we always check, since we may need to start a service?",
      "revId": "35ec80d022a92cd4b9b0cf971c223d43851b337b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56b4bd73_959a26b4",
        "filename": "init/init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 832,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-05-29T22:27:46Z",
      "side": 1,
      "message": "I saw this as an optimization to keep us out of the hot path when there was a lot of am activity. Basically we skip checking if line 828/829 reports really busy.\n\nYes, we could be DOS\u0027d I guess ...",
      "parentUuid": "ec274e07_eb14870b",
      "revId": "35ec80d022a92cd4b9b0cf971c223d43851b337b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ffdc27fb_1726af35",
        "filename": "init/keychords.h",
        "patchSetId": 11
      },
      "lineNbr": 81,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-05-29T21:50:00Z",
      "side": 1,
      "message": "A lot of this could probably be simplified if you had\n\nstd::optional\u003cstd::chrono::milliseconds\u003e duration;\nstd::optional\u003candroid::base::boot_clock::time_point\u003e matched;\n\nYou would be able to get rid of the kDurationOff and kMatchedOff constants, and the checks would be more intuitive,\n\ne.g.\n\ninstead of\n\n        if (e.second.duration !\u003d e.second.kDurationOff) {\n            e.second.matched \u003d android::base::boot_clock::now() + e.second.duration;\n            continue;\n        }\n\nyou\u0027d have\n\n        if (e.second.duration) {\n            e.second.matched \u003d android::base::boot_clock::now() + *e.second.duration;\n            continue;\n        }",
      "revId": "35ec80d022a92cd4b9b0cf971c223d43851b337b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2319a6a2_47703802",
        "filename": "init/keychords.h",
        "patchSetId": 11
      },
      "lineNbr": 81,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-05-29T22:27:46Z",
      "side": 1,
      "message": "I had thought so too (comment a fer PS back), just never got to it given that this one is the short pole (last in a series of 5 CLs). Will switch.",
      "parentUuid": "ffdc27fb_1726af35",
      "revId": "35ec80d022a92cd4b9b0cf971c223d43851b337b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}