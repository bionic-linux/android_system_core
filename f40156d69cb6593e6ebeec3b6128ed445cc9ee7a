{
  "comments": [
    {
      "key": {
        "uuid": "35aa8b15_d45d87ce",
        "filename": "rootdir/Android.mk",
        "patchSetId": 2
      },
      "lineNbr": 141,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2019-01-23T18:55:55Z",
      "side": 1,
      "message": "These LOCAL_POST_INSTALL_CMDs can only safely make changes under $(TARGET_ROOT_OUT), you\u0027ll need to attach it to something that gets installed to $(TARGET_OUT) if you want to symlink into that partition.",
      "revId": "f40156d69cb6593e6ebeec3b6128ed445cc9ee7a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5a152728_d742f65e",
        "filename": "rootdir/Android.mk",
        "patchSetId": 2
      },
      "lineNbr": 141,
      "author": {
        "id": 1038039
      },
      "writtenOn": "2019-01-23T22:53:35Z",
      "side": 1,
      "message": "I tested it and it worked. It always appears to run, even without me making any changes to the source tree.\n\nDan, can you suggest somewhere better?",
      "parentUuid": "35aa8b15_d45d87ce",
      "revId": "f40156d69cb6593e6ebeec3b6128ed445cc9ee7a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06148d69_42bef353",
        "filename": "rootdir/Android.mk",
        "patchSetId": 2
      },
      "lineNbr": 141,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2019-01-23T23:19:41Z",
      "side": 1,
      "message": "Actually, I forgot that we\u0027re always building the rootdir into the system image now, so this is safer than I thought. The danger here is:\n\n* whether there\u0027s a dependency from the system image to this rule. Since the system image (now) always includes the rootdir, that\u0027s fine.\n\n* Someone removing $(PRODUCT_OUT)/system without removing $(PRODUCT_OUT)/root (or otherwise triggering this rule). This has happened several times in CleanSpec.mk files: https://cs.corp.google.com/search/?q\u003dCleanSpec.mk+rm.*rf.*PRODUCT_OUT.*system%5C)\u0026m\u003d100\u0026det\u003dmatsel\u0026sq\u003dpackage:%5Eandroid$\u0026type\u003dcs\n\nI don\u0027t know of any existing LOCAL_POST_INSTALL_CMD that you can tack onto, any make module that installs onto system whenever you want would work.\n\nI\u0027m hoping to eventually get symlinks supported in the build graph, but that\u0027s probably not going to happen for Q.",
      "parentUuid": "5a152728_d742f65e",
      "revId": "f40156d69cb6593e6ebeec3b6128ed445cc9ee7a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34f8d91c_ac22a9a5",
        "filename": "rootdir/Android.mk",
        "patchSetId": 2
      },
      "lineNbr": 141,
      "author": {
        "id": 1038039
      },
      "writtenOn": "2019-01-24T10:02:47Z",
      "side": 1,
      "message": "Ack to the risk.\n\nMy plan: Since this fixes a P1 app compat bug for a top tier app I\u0027m going to land this in its current form and work out a better place to put the logic with appropriate cohesion immediately after. I don\u0027t know enough about the /system build to work without stronger guidance.",
      "parentUuid": "06148d69_42bef353",
      "revId": "f40156d69cb6593e6ebeec3b6128ed445cc9ee7a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}