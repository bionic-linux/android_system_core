{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8a330adc_628f957e",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 665,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-07T17:12:46Z",
      "side": 1,
      "message": "longer-term i wonder whether this should move into a dmesgd.rc instead, but this isn\u0027t a regression, so...",
      "revId": "8f2a5a8672ddee349769d49b4a8c25b7d8222308",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d64784dc_10bacf87",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 665,
      "author": {
        "id": 1084624
      },
      "writtenOn": "2022-02-07T17:41:24Z",
      "side": 1,
      "message": "Hm, it didn\u0027t come to my mind, but you are right.\nThe name \"bootreceiver\" was also picked poorly, as the code has nothing to do with BootReceiver.java now. I can rename the tracing instance, but not sure we can rename property:bootreceiver.enable\u003d1 - is it considered a part of API?",
      "parentUuid": "8a330adc_628f957e",
      "revId": "8f2a5a8672ddee349769d49b4a8c25b7d8222308",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6d85650_aa893351",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 665,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-02-07T17:45:54Z",
      "side": 1,
      "message": "i\u0027d hope not, but maybe do the rename as a separate change later in case that needs to be reverted?",
      "parentUuid": "d64784dc_10bacf87",
      "revId": "8f2a5a8672ddee349769d49b4a8c25b7d8222308",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "542b606e_b19b0f4b",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 665,
      "author": {
        "id": 1084624
      },
      "writtenOn": "2022-02-07T17:46:03Z",
      "side": 1,
      "message": "On the other hand, renaming /sys/kernel/tracing/instances/bootreceiver will also trigger sepolicy changes. Perhaps I\u0027d better start with just moving the code as is and then cleaning everything up in a separate patch.",
      "parentUuid": "d64784dc_10bacf87",
      "revId": "8f2a5a8672ddee349769d49b4a8c25b7d8222308",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "457d05ba_866c79be",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 665,
      "author": {
        "id": 1084624
      },
      "writtenOn": "2022-02-07T18:38:16Z",
      "side": 1,
      "message": "Hmm, this works in a twisted way now...\n\nAccording to logcat, dmesgd is started before the file is created, then it exits and starts once again:\n\n```\n$ cat logcat.txt | grep dmesgd\n02-07 19:12:37.776     1     1 I init    : Parsing file /system/etc/init/dmesgd.rc...\n02-07 19:12:54.582     1     1 I init    : starting service \u0027dmesgd\u0027...\n02-07 19:12:54.635     1     1 I init    : Service \u0027dmesgd\u0027 (pid 932) exited with status 1\n02-07 19:12:54.657     1     1 I init    : Sending signal 9 to service \u0027dmesgd\u0027 (pid 932) process group...\n02-07 19:12:55.232     1     1 I init    : processing action (bootreceiver.enable\u003d1 \u0026\u0026 ro.product.cpu.abilist64\u003d*) from (/system/etc/init/dmesgd.rc:1)\n02-07 19:12:57.487     1     1 I init    : starting service \u0027dmesgd\u0027...\n```\n\nAs far as I remember, there are no means to synchronize two actions in init.rc?",
      "parentUuid": "542b606e_b19b0f4b",
      "revId": "8f2a5a8672ddee349769d49b4a8c25b7d8222308",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c632a635_1dbb4f4a",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 665,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2022-02-07T19:04:09Z",
      "side": 1,
      "message": "Is there a reason it\u0027s started from both .rc files? (It also looks like the service should be marked \"disabled\"?)",
      "parentUuid": "457d05ba_866c79be",
      "revId": "8f2a5a8672ddee349769d49b4a8c25b7d8222308",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}