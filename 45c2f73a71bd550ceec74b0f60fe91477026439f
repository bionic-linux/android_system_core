{
  "comments": [
    {
      "key": {
        "uuid": "1a52e3d4_67187e1a",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1246512
      },
      "writtenOn": "2017-11-07T12:56:43Z",
      "side": 1,
      "message": "If the permissions are set to 0771, a client could read the log files, as long as the client knows the log file name and selinux would allow it.",
      "revId": "45c2f73a71bd550ceec74b0f60fe91477026439f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ca11783_f32b8a81",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2017-11-07T15:20:36Z",
      "side": 1,
      "message": "1 is the execute bit, not the read bit. I\u0027m confused why that would grant read.",
      "parentUuid": "1a52e3d4_67187e1a",
      "revId": "45c2f73a71bd550ceec74b0f60fe91477026439f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f36403b6_e3ff04a1",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-11-08T01:21:37Z",
      "side": 1,
      "message": "isn\u0027t x used for directory traversal? so he\u0027s saying that if you know it\u0027s \"/data/misc/update_engine_log/blah\", you need the x to traverse the directory to read the *file* \"blah\" (assuming you have r on that file), but you don\u0027t need r on the directory because you\u0027re not going to call readdir because you don\u0027t need to?",
      "parentUuid": "0ca11783_f32b8a81",
      "revId": "45c2f73a71bd550ceec74b0f60fe91477026439f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "95599f71_9109288a",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2017-11-08T03:23:15Z",
      "side": 1,
      "message": "Yes, that would make sense if the file had different permissions \n or owners than the directory (Example 644 or root.shell) but aosp/529081 has it as system.log 640.",
      "parentUuid": "f36403b6_e3ff04a1",
      "revId": "45c2f73a71bd550ceec74b0f60fe91477026439f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c49005e_18cc5f4c",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2017-11-08T03:31:22Z",
      "side": 1,
      "message": "Based on the selinux permissions, you could just leave this as root root. Only update_engine currently has access.",
      "range": {
        "startLine": 433,
        "startChar": 44,
        "endLine": 433,
        "endChar": 50
      },
      "revId": "45c2f73a71bd550ceec74b0f60fe91477026439f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed2e87f8_eb3b8c99",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2017-11-08T05:07:15Z",
      "side": 1,
      "message": "hmm, I created the dir as |system| so that the platform_app can read all contents in the directory; we can also set the to \u0027root root\u0027 but add the +x bit in the dir?",
      "parentUuid": "1c49005e_18cc5f4c",
      "range": {
        "startLine": 433,
        "startChar": 44,
        "endLine": 433,
        "endChar": 50
      },
      "revId": "45c2f73a71bd550ceec74b0f60fe91477026439f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb28c100_1be110f2",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1246512
      },
      "writtenOn": "2017-11-08T08:17:37Z",
      "side": 1,
      "message": "Sorry my mistake, this patch work fine as it is.",
      "parentUuid": "ed2e87f8_eb3b8c99",
      "range": {
        "startLine": 433,
        "startChar": 44,
        "endLine": 433,
        "endChar": 50
      },
      "revId": "45c2f73a71bd550ceec74b0f60fe91477026439f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20bdc1fc_301af668",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2017-11-09T16:41:23Z",
      "side": 1,
      "message": "Based on discussion in aosp/529081 this can be\n750 root log.\n\n(or 770 if platform_app needs to delete logs after reading them).",
      "parentUuid": "bb28c100_1be110f2",
      "range": {
        "startLine": 433,
        "startChar": 44,
        "endLine": 433,
        "endChar": 50
      },
      "revId": "45c2f73a71bd550ceec74b0f60fe91477026439f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8dda914e_d4a4a847",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 433,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2017-11-09T16:53:03Z",
      "side": 1,
      "message": "Better yet, set the \"sticky\" bit here\n6750 root log\n\nwhich means that the log file will automatically inherit the GID of the parent dir. So you can now remove the chown entirely.",
      "parentUuid": "20bdc1fc_301af668",
      "range": {
        "startLine": 433,
        "startChar": 44,
        "endLine": 433,
        "endChar": 50
      },
      "revId": "45c2f73a71bd550ceec74b0f60fe91477026439f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}