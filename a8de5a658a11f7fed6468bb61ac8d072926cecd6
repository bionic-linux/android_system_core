{
  "comments": [
    {
      "key": {
        "uuid": "2420059e_52233ebd",
        "filename": "init/service.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1087,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2017-06-29T23:41:49Z",
      "side": 1,
      "message": "Just zero-initialize the entire struct?",
      "revId": "a8de5a658a11f7fed6468bb61ac8d072926cecd6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42acdc3b_21a4eb48",
        "filename": "init/service.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1087,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2017-06-29T23:44:51Z",
      "side": 1,
      "message": "man page states \n\n\"If  WNOHANG  was  specified in options and there were no children in a waitable state, then waitid() returns 0 immediately and the state of the siginfo_t structure pointed to by infop is unspecified.\n       To distinguish this case from that where a child was in a waitable state, zero out the si_pid field before the call and check for a nonzero value in this field after the call returns.\"\n\nSo I just rolled with that.  You\u0027re right though, I\u0027ll memset() it.",
      "parentUuid": "2420059e_52233ebd",
      "revId": "a8de5a658a11f7fed6468bb61ac8d072926cecd6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "32251efe_d5e917bc",
        "filename": "init/service.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1087,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2017-06-29T23:48:24Z",
      "side": 1,
      "message": "I was thinking more along the lines of `siginfo_t siginfo \u003d {}` for one fewer line",
      "parentUuid": "42acdc3b_21a4eb48",
      "revId": "a8de5a658a11f7fed6468bb61ac8d072926cecd6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "acc64d4f_ff4c0a4d",
        "filename": "init/service.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1087,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2017-06-29T23:50:57Z",
      "side": 1,
      "message": "Right; Done.",
      "parentUuid": "32251efe_d5e917bc",
      "revId": "a8de5a658a11f7fed6468bb61ac8d072926cecd6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23a60a2d_b92acf33",
        "filename": "init/service.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1130,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2017-06-29T23:38:42Z",
      "side": 1,
      "message": "We can probably remove these too.  waitpid() defaults to WEXITED and I specify WEXITED explicitly above for waitid(), so they shouldn\u0027t ever happen.\n\nDoes anyone know otherwise?",
      "range": {
        "startLine": 1126,
        "startChar": 5,
        "endLine": 1130,
        "endChar": 5
      },
      "revId": "a8de5a658a11f7fed6468bb61ac8d072926cecd6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aef37aea_7bd1adfd",
        "filename": "init/service.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1130,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2017-06-30T20:39:23Z",
      "side": 1,
      "message": "Any thoughts on this?  I tried `kill -SIGSTOP \u003cpid\u003e` and kill -SIGCONT \u003cpid\u003e` and don\u0027t see them triggering anything with or without this change.  I sent a few non-standard signals to a pid too and couldn\u0027t get these to show.",
      "parentUuid": "23a60a2d_b92acf33",
      "range": {
        "startLine": 1126,
        "startChar": 5,
        "endLine": 1130,
        "endChar": 5
      },
      "revId": "a8de5a658a11f7fed6468bb61ac8d072926cecd6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b8aedf3f_edcab832",
        "filename": "init/service.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1130,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2017-06-30T20:43:03Z",
      "side": 1,
      "message": "Yeah, these should never happen, since you\u0027re not passing WUNTRACED in waitpid and init is presumably not ptracing anything.",
      "parentUuid": "aef37aea_7bd1adfd",
      "range": {
        "startLine": 1126,
        "startChar": 5,
        "endLine": 1130,
        "endChar": 5
      },
      "revId": "a8de5a658a11f7fed6468bb61ac8d072926cecd6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8eab9e12_63fd5d97",
        "filename": "init/service.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1130,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2017-06-30T20:54:36Z",
      "side": 1,
      "message": "Ya, and in the new code I straight up use WEXITED, so gone they do.",
      "parentUuid": "b8aedf3f_edcab832",
      "range": {
        "startLine": 1126,
        "startChar": 5,
        "endLine": 1130,
        "endChar": 5
      },
      "revId": "a8de5a658a11f7fed6468bb61ac8d072926cecd6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}