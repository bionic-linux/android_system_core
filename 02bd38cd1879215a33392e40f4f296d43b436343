{
  "comments": [
    {
      "key": {
        "uuid": "e54c36c0_0e2776b3",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 2,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "off by a few years :-)",
      "range": {
        "startLine": 2,
        "startChar": 17,
        "endLine": 2,
        "endChar": 21
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58496875_fc4a9bcf",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 2,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e54c36c0_0e2776b3",
      "range": {
        "startLine": 2,
        "startChar": 17,
        "endLine": 2,
        "endChar": 21
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87d5e4ab_2da61ea3",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 58,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "exit codes aren\u0027t signed integers, this will be truncated to 255",
      "range": {
        "startLine": 58,
        "startChar": 23,
        "endLine": 58,
        "endChar": 25
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f91ad1f7_88f9ce50",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 58,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "87d5e4ab_2da61ea3",
      "range": {
        "startLine": 58,
        "startChar": 23,
        "endLine": 58,
        "endChar": 25
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ead5a37_d5b5a01d",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 61,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "this probably shouldn\u0027t return a non-zero exit code?",
      "range": {
        "startLine": 61,
        "startChar": 16,
        "endLine": 61,
        "endChar": 28
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6ce250e_a468ba9d",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 61,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6ead5a37_d5b5a01d",
      "range": {
        "startLine": 61,
        "startChar": 16,
        "endLine": 61,
        "endChar": 28
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f645480_0ffdbe7c",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 75,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "You could get rid of several layers of indentation if you made showUsage exit, which would let you get rid of the else blocks.\n\n(If you do this, you should probably make showUsage accept an exit code, since not all cases where you want to print that are errors)",
      "range": {
        "startLine": 75,
        "startChar": 24,
        "endLine": 75,
        "endChar": 36
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a27f3db_33af3937",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 75,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9f645480_0ffdbe7c",
      "range": {
        "startLine": 75,
        "startChar": 24,
        "endLine": 75,
        "endChar": 36
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "79993d2d_1194658d",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 95,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "That\u0027s an odd way of doing things. Add a -o parameter instead?",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 95,
        "endChar": 25
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "584e6b01_8e6484ea",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 95,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "79993d2d_1194658d",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 95,
        "endChar": 25
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "efcfe020_5f095cb6",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 98,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "I think you can just do System.err.printf instead? (also, you\u0027re printing two newlines here, which may not be intended?)",
      "range": {
        "startLine": 98,
        "startChar": 20,
        "endLine": 98,
        "endChar": 52
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a12b37cb_fe83e3d9",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 98,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "efcfe020_5f095cb6",
      "range": {
        "startLine": 98,
        "startChar": 20,
        "endLine": 98,
        "endChar": 52
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "57301698_0c81ee73",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 115,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "return value of this function is never used?",
      "range": {
        "startLine": 115,
        "startChar": 8,
        "endLine": 115,
        "endChar": 17
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2d61743_7fbf923c",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 115,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "57301698_0c81ee73",
      "range": {
        "startLine": 115,
        "startChar": 8,
        "endLine": 115,
        "endChar": 17
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d2a5c0f2_17b80b2a",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 122,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 122,
        "startChar": 0,
        "endLine": 122,
        "endChar": 13
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd0caa1b_102f99d8",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 122,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d2a5c0f2_17b80b2a",
      "range": {
        "startLine": 122,
        "startChar": 0,
        "endLine": 122,
        "endChar": 13
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c3035448_e8f942e2",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 136,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "Use a bool instead of c-style return codes? (You\u0027re using the result as an exit code, which isn\u0027t really correct)",
      "range": {
        "startLine": 136,
        "startChar": 19,
        "endLine": 136,
        "endChar": 22
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42e9b067_99ab785d",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 136,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "I\u0027ve changed this to throw the PatchFormatException to the caller so there is no need for the caller to check for error conditions. The return code is now the number of bytes written which is not actually used by the caller (but seems like a good thing to return).",
      "parentUuid": "c3035448_e8f942e2",
      "range": {
        "startLine": 136,
        "startChar": 19,
        "endLine": 136,
        "endChar": 22
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fffee36f_b1aca61a",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 136,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T13:15:57Z",
      "side": 1,
      "message": "On reflection, having 2x functions called applyPatch with numerical return values that meant different things seemed bad to me as well. \nI ended up doing a slightly larger cleanup and eliminating this function entirely.",
      "parentUuid": "42e9b067_99ab785d",
      "range": {
        "startLine": 136,
        "startChar": 19,
        "endLine": 136,
        "endChar": 22
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d48aea4d_3193a415",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 183,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 183,
        "startChar": 0,
        "endLine": 183,
        "endChar": 13
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a355d0b8_dfbbacc6",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 183,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d48aea4d_3193a415",
      "range": {
        "startLine": 183,
        "startChar": 0,
        "endLine": 183,
        "endChar": 13
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fb5fe825_e3635ece",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 188,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "How will this tool interact with all of the other adb install flags?\nWill it only be used with -r?\n\n     -l: forward lock application\n     -r: replace existing application\n     -t: allow test packages\n     -s: install application on sdcard\n     -d: allow version code downgrade (debuggable packages only)\n     -p: partial application install (install-multiple only)\n     -g: grant all runtime permissions",
      "range": {
        "startLine": 187,
        "startChar": 41,
        "endLine": 188,
        "endChar": 91
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bae8b7a8_a9606280",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 188,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "For now I was only thinking about using it with -r. But I guess -r can be used in conjunction with at least some of those so I\u0027ll need to handle that explicitly in adb. \n\nWhen I tighten up the adb-side integration CL I\u0027ll look at either:\n - Determining the PackageManager flags in adb and passing them across\n - Passing these command line flags thru from adb and then sharing some code with pm to translate them. That will be a bit weird because the shared code will then live in pm (which is in the system image and never updates) but also this tool which will update with the SDK. \n\nI\u0027d like to keep it as-is for this cl and address in the adb integration changes?",
      "parentUuid": "fb5fe825_e3635ece",
      "range": {
        "startLine": 187,
        "startChar": 41,
        "endLine": 188,
        "endChar": 91
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d89777c3_84c88eed",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 228,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "It\u0027s not actually writing the patch to the stream, it\u0027s writing the patched apk, right?",
      "range": {
        "startLine": 228,
        "startChar": 24,
        "endLine": 228,
        "endChar": 42
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55f1ec46_44cd04cc",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 228,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "I\u0027ve changed it to writePatch*ed* and applied the same terminology to writePatchToSession.",
      "parentUuid": "d89777c3_84c88eed",
      "range": {
        "startLine": 228,
        "startChar": 24,
        "endLine": 228,
        "endChar": 42
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ef1593c5_2fbc6d88",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 235,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "this format string seems to be wrong (%ld for the first one, but I don\u0027t know if java actually requires that, missing specifier for the second one)",
      "range": {
        "startLine": 235,
        "startChar": 48,
        "endLine": 235,
        "endChar": 62
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0325fdec_e87aa1a0",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 235,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ef1593c5_2fbc6d88",
      "range": {
        "startLine": 235,
        "startChar": 48,
        "endLine": 235,
        "endChar": 62
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d041e651_b7d5204b",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 240,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "It seems a bit weird for readSignature to return a length, but I don\u0027t have any ideas for a better name...",
      "range": {
        "startLine": 240,
        "startChar": 24,
        "endLine": 240,
        "endChar": 37
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be97b9f6_39e8017c",
        "filename": "adb/fastdeploy/deployagent/src/com/android/fastdeploy/DeployAgent.java",
        "patchSetId": 17
      },
      "lineNbr": 240,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "I know :/ Do you think processStreamSignature would be better?",
      "parentUuid": "d041e651_b7d5204b",
      "range": {
        "startLine": 240,
        "startChar": 24,
        "endLine": 240,
        "endChar": 37
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0aff193_56261e7a",
        "filename": "adb/fastdeploy/deploypatchgenerator/src/com/android/fastdeploy/DeployPatchGenerator.java",
        "patchSetId": 17
      },
      "lineNbr": 56,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-26T21:57:52Z",
      "side": 1,
      "message": "device metadata makes it sound like it\u0027s metadata about the device, not metadata pulled from device. maybe something like \u0027installed apk metadata\u0027?",
      "range": {
        "startLine": 56,
        "startChar": 67,
        "endLine": 56,
        "endChar": 81
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22d70b2c_210f8aa7",
        "filename": "adb/fastdeploy/deploypatchgenerator/src/com/android/fastdeploy/DeployPatchGenerator.java",
        "patchSetId": 17
      },
      "lineNbr": 56,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-01-29T12:35:07Z",
      "side": 1,
      "message": "I went with \u0027deviceapkmetadata\u0027",
      "parentUuid": "e0aff193_56261e7a",
      "range": {
        "startLine": 56,
        "startChar": 67,
        "endLine": 56,
        "endChar": 81
      },
      "revId": "02bd38cd1879215a33392e40f4f296d43b436343",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}