{
  "comments": [
    {
      "key": {
        "uuid": "SNowJx3Q",
        "filename": "adb/adb.c",
        "patchSetId": 2
      },
      "lineNbr": 1445,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2013-03-21T20:49:20Z",
      "side": 1,
      "message": "space after \"if\" and space after comma.",
      "revId": "18b9686183bf3e9660b73a90f1d2780a2963ce79",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ST7M42Ks",
        "filename": "adb/adb.c",
        "patchSetId": 2
      },
      "lineNbr": 1445,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2013-03-21T21:19:11Z",
      "side": 1,
      "message": "that\u0027s not my code, I\u0027m just cut-and-pasting here, but I\u0027ll fix it :-)",
      "parentUuid": "SNowJx3Q",
      "revId": "18b9686183bf3e9660b73a90f1d2780a2963ce79",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "SNqwGA2A",
        "filename": "adb/adb.c",
        "patchSetId": 2
      },
      "lineNbr": 1450,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2013-03-21T20:49:20Z",
      "side": 1,
      "message": "check malloc return value?",
      "revId": "18b9686183bf3e9660b73a90f1d2780a2963ce79",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ST9M-VI8",
        "filename": "adb/adb.c",
        "patchSetId": 2
      },
      "lineNbr": 1450,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2013-03-21T21:19:11Z",
      "side": 1,
      "message": "I\u0027ll add that (again, original code).",
      "parentUuid": "SNqwGA2A",
      "revId": "18b9686183bf3e9660b73a90f1d2780a2963ce79",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "SNmysmzQ",
        "filename": "adb/adb.c",
        "patchSetId": 2
      },
      "lineNbr": 1467,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2013-03-21T20:49:20Z",
      "side": 1,
      "message": "The adb host will write OKAY twice? Is this intentional?\n\nLike you did on line 1523, can you add a similar comment if this is intentional.",
      "revId": "18b9686183bf3e9660b73a90f1d2780a2963ce79",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "STzNMyFA",
        "filename": "adb/adb.c",
        "patchSetId": 2
      },
      "lineNbr": 1467,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2013-03-21T21:19:11Z",
      "side": 1,
      "message": "the original code was writing \"OKAYOKAY\" on the host, so I\u0027ve tried to keep it the same. However, I\u0027m not convinced that this was necessary in any way. I\u0027ll test it to be sure.",
      "parentUuid": "SNmysmzQ",
      "revId": "18b9686183bf3e9660b73a90f1d2780a2963ce79",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "SNgyxV4c",
        "filename": "adb/adb.c",
        "patchSetId": 2
      },
      "lineNbr": 1471,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2013-03-21T20:49:20Z",
      "side": 1,
      "message": "space after if (here and below)",
      "revId": "18b9686183bf3e9660b73a90f1d2780a2963ce79",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "SNiy2k4A",
        "filename": "adb/adb.c",
        "patchSetId": 2
      },
      "lineNbr": 1477,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2013-03-21T20:49:20Z",
      "side": 1,
      "message": "space after commas",
      "revId": "18b9686183bf3e9660b73a90f1d2780a2963ce79",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "SNixSE0A",
        "filename": "adb/adb.c",
        "patchSetId": 2
      },
      "lineNbr": 1517,
      "author": {
        "id": 1002975
      },
      "writtenOn": "2013-03-21T21:09:00Z",
      "side": 1,
      "message": "I don\u0027t think this binds to a transport, so any device can connect to the now opened port on the host.",
      "revId": "18b9686183bf3e9660b73a90f1d2780a2963ce79",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "STzMeiCA",
        "filename": "adb/adb.c",
        "patchSetId": 2
      },
      "lineNbr": 1517,
      "author": {
        "id": 1000411
      },
      "writtenOn": "2013-03-21T22:26:11Z",
      "side": 1,
      "message": "I\u0027m not sure I understand what you\u0027re referring to. Can you clarify?\n\nthere is an acquire_one_transport() call just above. When running on the device, ttype will be kTransportAny, and serial will be NULL. The acquire_one_transport() above will return the single active transport that adbd knows about (it fails if there is no transport, i.e. the device is not connected through USB or has USB debugging disabled, or even if there are more than one transport, which I don\u0027t think would happen on the device).\n\nWe could add support for kTransportHost on acquire_one_transport() and modify its implementation to only support it for !ADB_HOST, but I\u0027m not sure this adds much.\n\nWhen running on the host, this function should perform exactly like the original code.",
      "parentUuid": "SNixSE0A",
      "revId": "18b9686183bf3e9660b73a90f1d2780a2963ce79",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "TXsQr-us",
        "filename": "adb/adb.c",
        "patchSetId": 2
      },
      "lineNbr": 1517,
      "author": {
        "id": 1002975
      },
      "writtenOn": "2013-04-15T22:31:54Z",
      "side": 1,
      "message": "I think I meant a USB device can say \"send this packet to listener N.\"  I don\u0027t think there is any validation of device -\u003e host \"connections\"  So you may intend to open a listener only for Device A, but Device B can also send things to that listener if it knows the number.\n\nI could be wrong, but I remember looking at this before.",
      "parentUuid": "STzMeiCA",
      "revId": "18b9686183bf3e9660b73a90f1d2780a2963ce79",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}