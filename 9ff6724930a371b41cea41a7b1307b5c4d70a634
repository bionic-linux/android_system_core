{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "219cc7f6_e3cc321a",
        "filename": "debuggerd/Android.bp",
        "patchSetId": 5
      },
      "lineNbr": 210,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2024-07-01T20:28:08Z",
      "side": 1,
      "message": "Wouldn\u0027t it be better to only include this to be compiled for host? Since it will never yield information in any other case.",
      "range": {
        "startLine": 210,
        "startChar": 0,
        "endLine": 210,
        "endChar": 47
      },
      "revId": "9ff6724930a371b41cea41a7b1307b5c4d70a634",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0aa68d62_962717da",
        "filename": "debuggerd/Android.bp",
        "patchSetId": 5
      },
      "lineNbr": 210,
      "author": {
        "id": 1067098
      },
      "writtenOn": "2024-07-01T20:41:49Z",
      "side": 1,
      "message": "Is there any downside to leaving it in? It\u0027s not a lot of code and it\u0027s possible to build llvm-symbolizer for the device (e.g. sanitizer tests do this).",
      "parentUuid": "219cc7f6_e3cc321a",
      "range": {
        "startLine": 210,
        "startChar": 0,
        "endLine": 210,
        "endChar": 47
      },
      "revId": "9ff6724930a371b41cea41a7b1307b5c4d70a634",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ccc08ee5_d2043de7",
        "filename": "debuggerd/Android.bp",
        "patchSetId": 5
      },
      "lineNbr": 210,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2024-07-01T20:52:36Z",
      "side": 1,
      "message": "It feels like a potential security issue since it\u0027s execing llvm-symbolizer. I don\u0027t know if it could be used to elevate privileges, but this is definitely something that could cause problems.",
      "parentUuid": "0aa68d62_962717da",
      "range": {
        "startLine": 210,
        "startChar": 0,
        "endLine": 210,
        "endChar": 47
      },
      "revId": "9ff6724930a371b41cea41a7b1307b5c4d70a634",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1467bdd8_dee464db",
        "filename": "debuggerd/Android.bp",
        "patchSetId": 5
      },
      "lineNbr": 210,
      "author": {
        "id": 1067098
      },
      "writtenOn": "2024-07-01T21:24:11Z",
      "side": 1,
      "message": "It seems unlikely, especially if we adopt the callback idea from my other comment, which would mean that only pbtombstone would contain the code to exec llvm-symbolizer. llvm-symbolizer isn\u0027t shipped on the device, either.\n\nWould your concern be that we could add code later that execs pbtombstone in a privileged context as well as deciding to ship llvm-symbolizer on the device for some reason, and then that would cause us to potentially exec llvm-symbolizer and expose its presumably buggy ELF parsing libraries to attacker-controlled code? We\u0027ll only call llvm-symbolizer if --debug-file-directories is passed, so an attacker would need to control the command line arguments, and if they can do that then we have bigger problems. I would expect privileged code that calls exec with potentially attacker-controlled arguments to be scrutinized carefully, and if the attacker can control the program name, there would be much easier ways to get control such as by using \"sh\" as the program name.",
      "parentUuid": "ccc08ee5_d2043de7",
      "range": {
        "startLine": 210,
        "startChar": 0,
        "endLine": 210,
        "endChar": 47
      },
      "revId": "9ff6724930a371b41cea41a7b1307b5c4d70a634",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5909043e_06e52e63",
        "filename": "debuggerd/Android.bp",
        "patchSetId": 5
      },
      "lineNbr": 210,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2024-07-03T01:52:11Z",
      "side": 1,
      "message": "The problem is that this code would now exist as a ROP target. Even though it\u0027s not reachable, it feels very dangerous to leave it since it\u0027s in every single process.",
      "parentUuid": "1467bdd8_dee464db",
      "range": {
        "startLine": 210,
        "startChar": 0,
        "endLine": 210,
        "endChar": 47
      },
      "revId": "9ff6724930a371b41cea41a7b1307b5c4d70a634",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5f00dcb_ea948802",
        "filename": "debuggerd/Android.bp",
        "patchSetId": 5
      },
      "lineNbr": 210,
      "author": {
        "id": 1067098
      },
      "writtenOn": "2024-07-03T01:55:26Z",
      "side": 1,
      "message": "It would not be in every single process after I move it to pbtombstone, no?",
      "parentUuid": "5909043e_06e52e63",
      "range": {
        "startLine": 210,
        "startChar": 0,
        "endLine": 210,
        "endChar": 47
      },
      "revId": "9ff6724930a371b41cea41a7b1307b5c4d70a634",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc28629e_4652dc3f",
        "filename": "debuggerd/Android.bp",
        "patchSetId": 5
      },
      "lineNbr": 210,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2024-07-03T01:59:35Z",
      "side": 1,
      "message": "But isn\u0027t that a host only tool? I think I don\u0027t completely grasp what the final version of this would be now. I still don\u0027t think it\u0027s worth building and maintaining this tool for running on an Android device. A host only tool is fine with me though.",
      "parentUuid": "a5f00dcb_ea948802",
      "range": {
        "startLine": 210,
        "startChar": 0,
        "endLine": 210,
        "endChar": 47
      },
      "revId": "9ff6724930a371b41cea41a7b1307b5c4d70a634",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}