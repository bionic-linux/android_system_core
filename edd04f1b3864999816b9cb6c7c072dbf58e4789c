{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c2453bd2_9a5eb050",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1724998
      },
      "writtenOn": "2023-12-12T07:42:34Z",
      "side": 1,
      "message": "I am ok with the changes. +David\n\nHowever, there is a big caveat here which we have to be very careful. We do a lot of backports to support OEM\u0027s and other verticals. Thus, if we end up backporting this CL, then there is a hard dependency wherein the corresponding bionic changes also have to be backported; else this will be a huge regression.\n\nThe last time this caused a massive break in the dogfood population. Hence, we have to be careful here.",
      "revId": "edd04f1b3864999816b9cb6c7c072dbf58e4789c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ead0c1a_0f15c629",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1087625
      },
      "writtenOn": "2023-12-12T07:49:29Z",
      "side": 1,
      "message": "\u003e if we end up backporting this CL, then there is a hard dependency wherein the corresponding bionic changes also have to be backported\n\nThis wouldn\u0027t break older Android releases. Older release do not enable ThinLTO by default. We fixed the Bionic issue before making global ThinLTO default.\n\nLast time it broke dogfood was for a special global ThinLTO build flavour (bramble_64). This is not the default and we do not expect any OEM that ships a system with that option.",
      "parentUuid": "c2453bd2_9a5eb050",
      "revId": "edd04f1b3864999816b9cb6c7c072dbf58e4789c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41ff66bb_f035cced",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-12-13T20:17:40Z",
      "side": 1,
      "message": "I guess I\u0027m ok with this, since it\u0027s easy enough to revert if we need to. But the risk seems high  and the reward is unclear.",
      "parentUuid": "4ead0c1a_0f15c629",
      "revId": "edd04f1b3864999816b9cb6c7c072dbf58e4789c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19f5d478_2dc4b4a9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1724998
      },
      "writtenOn": "2023-12-13T20:27:40Z",
      "side": 1,
      "message": "\u003e This is not the default and we do not expect any OEM that ships a system with that option.\n\nThere is no guarantee that OEM\u0027s can\u0027t use it. Isn\u0027t it ? \n\nTo be clearn, I am not against the change; just thinking about the ramifications.. How much are the benefits do we see with this change ?",
      "parentUuid": "41ff66bb_f035cced",
      "revId": "edd04f1b3864999816b9cb6c7c072dbf58e4789c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37f7dabb_eb02dd54",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1087625
      },
      "writtenOn": "2023-12-13T23:24:58Z",
      "side": 1,
      "message": "\u003e There is no guarantee that OEM\u0027s can\u0027t use it. Isn\u0027t it ?\n\nAlmost impossible, since the bionic bug broke every static binary. We only disabled snapuserd because it is more broken than the others during the limited dogfooding.\n\n\u003e How much are the benefits do we see with this change ?\n\nsnapuserd is one of the few remaining opt-outs from LTO (http://go/android-thinlto-optouts). Going forward, non-LTO will be a less tested compilation mode, and the test coverage will be lower (we rely on building a lot of code and running a lot of tests to uncover compiler bugs). Another nice benefit is reduced build time. We have to build a non-LTO variant of all its direct and indirect static dependencies. Moving to LTO allows it to reuse the same LTO variant built for other projects.",
      "parentUuid": "19f5d478_2dc4b4a9",
      "revId": "edd04f1b3864999816b9cb6c7c072dbf58e4789c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d6dfe911_93bccd0f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1724998
      },
      "writtenOn": "2023-12-14T00:24:38Z",
      "side": 1,
      "message": "Alright. thanks.",
      "parentUuid": "37f7dabb_eb02dd54",
      "revId": "edd04f1b3864999816b9cb6c7c072dbf58e4789c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}