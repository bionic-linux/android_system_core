{
  "comments": [
    {
      "key": {
        "uuid": "70f8f2fa_93c0a79a",
        "filename": "adb/commandline.cpp",
        "patchSetId": 1
      },
      "lineNbr": 466,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2015-04-30T18:11:06Z",
      "side": 1,
      "message": "Looks like this should actually be int (or both it and the parameter should be changed to size_t).",
      "range": {
        "startLine": 466,
        "startChar": 4,
        "endLine": 466,
        "endChar": 12
      },
      "revId": "d935df1ac246382ed8b83b32f59dd246a540ee34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70f8f2fa_4e583612",
        "filename": "adb/commandline.cpp",
        "patchSetId": 1
      },
      "lineNbr": 466,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-04-30T18:26:02Z",
      "side": 1,
      "message": "Windows :-(\n\nchanged the parameter to \u0027unsigned\u0027 though, since that\u0027s what the calling code is passing...",
      "parentUuid": "70f8f2fa_93c0a79a",
      "range": {
        "startLine": 466,
        "startChar": 4,
        "endLine": 466,
        "endChar": 12
      },
      "revId": "d935df1ac246382ed8b83b32f59dd246a540ee34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "300cbaed_f6c8f02a",
        "filename": "adb/commandline.cpp",
        "patchSetId": 1
      },
      "lineNbr": 466,
      "author": {
        "id": 1004692
      },
      "writtenOn": "2015-04-30T20:06:04Z",
      "side": 1,
      "message": "Windows does have size_t. It should work. (And size_t is the right type. But unsigned is better than signed, but now you\u0027re casting signed to unsigned, which might be surprising (negative values become large positive values).",
      "parentUuid": "70f8f2fa_4e583612",
      "range": {
        "startLine": 466,
        "startChar": 4,
        "endLine": 466,
        "endChar": 12
      },
      "revId": "d935df1ac246382ed8b83b32f59dd246a540ee34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70f8f2fa_f01f5c14",
        "filename": "adb/commandline.cpp",
        "patchSetId": 1
      },
      "lineNbr": 466,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-04-30T20:33:07Z",
      "side": 1,
      "message": "it\u0027s not the lack of the size_t *type* that causes us problems --- it\u0027s that %zd doesn\u0027t work, so using size_t for parameters tends to lead to pain in adb.\n\nwe also have the unfortunate situation where all the tools are built for 64-bit Linux (and Mac OS) but 32-bit Windows. (and we don\u0027t even know what fraction of our users have 64-bit Windows.) so size_t leads to different limits on Windows vs Linux. (and Linux is the only place we test, so...)",
      "parentUuid": "300cbaed_f6c8f02a",
      "range": {
        "startLine": 466,
        "startChar": 4,
        "endLine": 466,
        "endChar": 12
      },
      "revId": "d935df1ac246382ed8b83b32f59dd246a540ee34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f005c2c3_e07b183b",
        "filename": "adb/commandline.cpp",
        "patchSetId": 1
      },
      "lineNbr": 466,
      "author": {
        "id": 1004692
      },
      "writtenOn": "2015-04-30T20:36:11Z",
      "side": 1,
      "message": "Ahh, I see. Makes sense. In that case I\u0027d nail it down to uint32_t or uint64_t (probably uint32_t) — keep in mind that unsigned isn\u0027t guaranteed to be 32 bits any more than size_t is.\n\n(Also thanks for writing this CL in general! We need more good stuff like this.)",
      "parentUuid": "70f8f2fa_f01f5c14",
      "range": {
        "startLine": 466,
        "startChar": 4,
        "endLine": 466,
        "endChar": 12
      },
      "revId": "d935df1ac246382ed8b83b32f59dd246a540ee34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90fd66eb_d2f5099a",
        "filename": "adb/commandline.cpp",
        "patchSetId": 1
      },
      "lineNbr": 466,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-04-30T21:29:28Z",
      "side": 1,
      "message": "weird though this might sound, i\u0027m actually leaving a lot of these as a reminder that we need to come back and remove a lot of these implicit limits. \"unsigned\" is clearly crufty old code that needs attention, but uint32_t looks like someone might have actually had a real reason, and mechanically switching over can hide that.\n\ni hope to fix fastboot\u0027s \u0027unsigned\u0027 issues soon (see http://b/20110580 and a work in progress patch that\u0027s lurking somewhere), but adb is probably further out. (~200 different locals and parameters are \u0027unsigned\u0027 in adb.)",
      "parentUuid": "f005c2c3_e07b183b",
      "range": {
        "startLine": 466,
        "startChar": 4,
        "endLine": 466,
        "endChar": 12
      },
      "revId": "d935df1ac246382ed8b83b32f59dd246a540ee34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "300cbaed_ca4c21d1",
        "filename": "adb/commandline.cpp",
        "patchSetId": 1
      },
      "lineNbr": 563,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2015-04-30T18:11:06Z",
      "side": 1,
      "message": "This looks to be 91 bytes larger than it needs to be.",
      "range": {
        "startLine": 563,
        "startChar": 17,
        "endLine": 563,
        "endChar": 20
      },
      "revId": "d935df1ac246382ed8b83b32f59dd246a540ee34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90fd66eb_f942b06c",
        "filename": "adb/commandline.cpp",
        "patchSetId": 1
      },
      "lineNbr": 563,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-04-30T18:26:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "300cbaed_ca4c21d1",
      "range": {
        "startLine": 563,
        "startChar": 17,
        "endLine": 563,
        "endChar": 20
      },
      "revId": "d935df1ac246382ed8b83b32f59dd246a540ee34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}