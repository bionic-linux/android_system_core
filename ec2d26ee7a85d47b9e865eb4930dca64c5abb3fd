{
  "comments": [
    {
      "key": {
        "uuid": "d1518d0f_c5f94e16",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 106,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-07-03T20:23:41Z",
      "side": 1,
      "message": "Opposite of the comment below: but do you think we should have a loop here?  Right now if someone closes the console (Ctrl-c / Ctrl-d), then this function returns and we just go ahead and boot normally.  Is that what we intend?",
      "range": {
        "startLine": 104,
        "startChar": 0,
        "endLine": 106,
        "endChar": 68
      },
      "revId": "ec2d26ee7a85d47b9e865eb4930dca64c5abb3fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f6a900a_6d2d754b",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 106,
      "author": {
        "id": 1131915
      },
      "writtenOn": "2019-07-03T20:45:33Z",
      "side": 1,
      "message": "That was intentional on my part - it was useful in my experience to be able to verify or change things in the system, then attempt to start Android.",
      "parentUuid": "d1518d0f_c5f94e16",
      "range": {
        "startLine": 104,
        "startChar": 0,
        "endLine": 106,
        "endChar": 68
      },
      "revId": "ec2d26ee7a85d47b9e865eb4930dca64c5abb3fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a9afb55_65c82835",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 106,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-07-03T20:50:41Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4f6a900a_6d2d754b",
      "range": {
        "startLine": 104,
        "startChar": 0,
        "endLine": 106,
        "endChar": 68
      },
      "revId": "ec2d26ee7a85d47b9e865eb4930dca64c5abb3fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fec304f4_2279418e",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 111,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-07-03T20:23:41Z",
      "side": 1,
      "message": "Have you actually seen this not open successfully on a first attempt but complete in a second?  There shouldn\u0027t be any races here; we don\u0027t have ueventd or anything else running that would touch /dev and the mknod() above should be synchronous.",
      "revId": "ec2d26ee7a85d47b9e865eb4930dca64c5abb3fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "303a69b4_0c9d8ef0",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 111,
      "author": {
        "id": 1131915
      },
      "writtenOn": "2019-07-03T20:45:33Z",
      "side": 1,
      "message": "Yep I hit this (my original code did not have this retry). The serial console was not ready, probably because I had a related kernel module loading immediately before this.\n\nFrom what I read and have observed it looks like mknod doesn\u0027t attempt to do anything with the underlying device driver - it just creates the file with associated device major/minor, and any issues with the device wouldn\u0027t be observed until an operation on the file occurs.",
      "parentUuid": "fec304f4_2279418e",
      "revId": "ec2d26ee7a85d47b9e865eb4930dca64c5abb3fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "446fc225_bc8a4bef",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 111,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-07-03T20:50:41Z",
      "side": 1,
      "message": "Right; you may be racing the serial driver itself; I hadn\u0027t thought of that.",
      "parentUuid": "303a69b4_0c9d8ef0",
      "revId": "ec2d26ee7a85d47b9e865eb4930dca64c5abb3fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b6c76fe_b22da2c1",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 111,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-07-08T16:15:04Z",
      "side": 1,
      "message": "For posterity, it\u0027d be good if you wrote a comment in the code about the mknod race with the underlying device driver creation.\n\n(Sorry that I didn\u0027t mention that before)",
      "parentUuid": "446fc225_bc8a4bef",
      "revId": "ec2d26ee7a85d47b9e865eb4930dca64c5abb3fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f5ede4cc_db4e6694",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 111,
      "author": {
        "id": 1131915
      },
      "writtenOn": "2019-07-08T16:40:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b6c76fe_b22da2c1",
      "revId": "ec2d26ee7a85d47b9e865eb4930dca64c5abb3fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "26bd46eb_3a8b43dd",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 135,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-07-03T20:23:41Z",
      "side": 1,
      "message": "const std::string\u0026 here and below.",
      "range": {
        "startLine": 135,
        "startChar": 23,
        "endLine": 135,
        "endChar": 35
      },
      "revId": "ec2d26ee7a85d47b9e865eb4930dca64c5abb3fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97b6d971_dea468ca",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 135,
      "author": {
        "id": 1131915
      },
      "writtenOn": "2019-07-03T20:45:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "26bd46eb_3a8b43dd",
      "range": {
        "startLine": 135,
        "startChar": 23,
        "endLine": 135,
        "endChar": 35
      },
      "revId": "ec2d26ee7a85d47b9e865eb4930dca64c5abb3fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ec9b031b_1c25eef2",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 146,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-07-03T20:23:41Z",
      "side": 1,
      "message": "Better to put this right before line 174.",
      "revId": "ec2d26ee7a85d47b9e865eb4930dca64c5abb3fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2fe8379_436d7b9c",
        "filename": "init/first_stage_init.cpp",
        "patchSetId": 11
      },
      "lineNbr": 146,
      "author": {
        "id": 1131915
      },
      "writtenOn": "2019-07-03T20:45:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ec9b031b_1c25eef2",
      "revId": "ec2d26ee7a85d47b9e865eb4930dca64c5abb3fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}