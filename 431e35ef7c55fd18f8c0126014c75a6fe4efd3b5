{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1801a83f_6894888f",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1103,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-04-30T09:10:39Z",
      "side": 1,
      "message": "Are you sure that this is a safe default value? (if so, could you add the rationale as a comment?) b/192011293 seems to be motivated by Pixel and F2FS and the performance test was done only for the configuration. But this setting is applied any Android device even if it doesn\u0027t use F2FS. I thought such a tuning should be done in vendor-specific rc files. Am I missing something?",
      "revId": "431e35ef7c55fd18f8c0126014c75a6fe4efd3b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b3540f9_e9666227",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1103,
      "author": {
        "id": 1176763
      },
      "writtenOn": "2022-04-30T09:26:10Z",
      "side": 1,
      "message": "I believe this can help all the f2fs-enabled devices, not just for Pixel. The risk is low, since this affects fadvise()+read() case only. The f2fs became the default since T, and no one has complained the above f2fs tunings like cp_interval so far. Am I missing any from OEMs?",
      "parentUuid": "1801a83f_6894888f",
      "revId": "431e35ef7c55fd18f8c0126014c75a6fe4efd3b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fda51267_55cf019a",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1103,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-04-30T09:34:36Z",
      "side": 1,
      "message": "This change has a side effect on upgrading OEM devices where /data is not formatted in F2FS.",
      "parentUuid": "6b3540f9_e9666227",
      "revId": "431e35ef7c55fd18f8c0126014c75a6fe4efd3b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "234650c7_f923a66d",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1103,
      "author": {
        "id": 1176763
      },
      "writtenOn": "2022-04-30T10:02:07Z",
      "side": 1,
      "message": "How much latency do you expect? Do we also need to migrate the above tunings into vendor rcs in all the products and hide them to OEMs having f2fs?\n\nfyi; what others such as memcg, zram, emmc, ufs, blkio,pass-through, /metadata, and so on?",
      "parentUuid": "fda51267_55cf019a",
      "revId": "431e35ef7c55fd18f8c0126014c75a6fe4efd3b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a833e857_f66c592d",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1103,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-04-30T10:19:41Z",
      "side": 1,
      "message": "VSR mandates that a new release of Android platform shouldn\u0027t require an update to the existing vendor partition.\n\nAnd that\u0027s why I asked if this is a safe default value. If this is guaranteed to not harm existing OEM devices which have been (implicitly) relying on the kernel-defined default value (I don\u0027t know what that is though), and if that guarantee is true for not only f2fs, but also for ext4, we can keep this here. If not, this change would require a change in OEM\u0027s vendor partition and that is a VSR violation.\n\nBased on what you replied, it seems to be true for f2fs, but you didn\u0027t say anything about ext4. Could you make a confirmation?",
      "parentUuid": "234650c7_f923a66d",
      "revId": "431e35ef7c55fd18f8c0126014c75a6fe4efd3b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1bf5c6b3_3512901e",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1103,
      "author": {
        "id": 1176763
      },
      "writtenOn": "2022-04-30T10:47:03Z",
      "side": 1,
      "message": "This knob doesn\u0027t exist in ext4. IOWs, there\u0027s no impact to the ext4 devices.",
      "parentUuid": "a833e857_f66c592d",
      "revId": "431e35ef7c55fd18f8c0126014c75a6fe4efd3b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bee20c5f_45b49e48",
        "filename": "rootdir/init.rc",
        "patchSetId": 2
      },
      "lineNbr": 1103,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2022-04-30T10:56:49Z",
      "side": 1,
      "message": "Ack. Then wouldn\u0027t this cause an unnecessary error on ext4-based devices (because the knob doesn\u0027t exist there)? \n\nFailing to write to a file is not a fatal error; init will go on (thus +1), but would be nicer if this is done only when f2fs is used.",
      "parentUuid": "1bf5c6b3_3512901e",
      "revId": "431e35ef7c55fd18f8c0126014c75a6fe4efd3b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}