{
  "comments": [
    {
      "key": {
        "uuid": "3ce3a1ca_98a35fd0",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "2017",
      "range": {
        "startLine": 2,
        "startChar": 17,
        "endLine": 2,
        "endChar": 21
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c1f9fec_7a8c517e",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:50:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3ce3a1ca_98a35fd0",
      "range": {
        "startLine": 2,
        "startChar": 17,
        "endLine": 2,
        "endChar": 21
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4a458335_6524adf2",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "Blank line before here.",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 33,
        "endChar": 2
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "542ea438_287e3020",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 33,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:50:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4a458335_6524adf2",
      "range": {
        "startLine": 33,
        "startChar": 0,
        "endLine": 33,
        "endChar": 2
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e9de5c9_045d45a0",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "Nit: this is not true any more, right?",
      "range": {
        "startLine": 34,
        "startChar": 51,
        "endLine": 36,
        "endChar": 55
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9d2d9c5_b931a817",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 36,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:50:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7e9de5c9_045d45a0",
      "range": {
        "startLine": 34,
        "startChar": 51,
        "endLine": 36,
        "endChar": 55
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "08d6109f_3da0f008",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 54,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "freed",
      "range": {
        "startLine": 54,
        "startChar": 51,
        "endLine": 54,
        "endChar": 58
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4a4734c0_83e88a90",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 54,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:50:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "08d6109f_3da0f008",
      "range": {
        "startLine": 54,
        "startChar": 51,
        "endLine": 54,
        "endChar": 58
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d3612c68_aec0df29",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "sockets",
      "range": {
        "startLine": 55,
        "startChar": 46,
        "endLine": 55,
        "endChar": 53
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1a12cd3_a7c1ba52",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:50:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d3612c68_aec0df29",
      "range": {
        "startLine": 55,
        "startChar": 46,
        "endLine": 55,
        "endChar": 53
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f120e898_7d4889bc",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 57,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "Nit: is this comment correct? IIRC the checks in xt_qtaguid wouldn\u0027t allow a process to call this it it did not have the permission.",
      "range": {
        "startLine": 57,
        "startChar": 3,
        "endLine": 57,
        "endChar": 56
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19a5269f_d53998a8",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 57,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:50:22Z",
      "side": 1,
      "message": "It seems xt_qtaguid kernel module still allows process to delete it\u0027s own data even if it is unprivileged process. The check inside is similar to tag a socket.",
      "parentUuid": "f120e898_7d4889bc",
      "range": {
        "startLine": 57,
        "startChar": 3,
        "endLine": 57,
        "endChar": 56
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be100424_c87ceedf",
        "filename": "libcutils/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "2017",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 17
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "36eba958_a3fefeab",
        "filename": "libcutils/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 2,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:52:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "be100424_c87ceedf",
      "range": {
        "startLine": 2,
        "startChar": 13,
        "endLine": 2,
        "endChar": 17
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "74ba2bd3_703d3fb2",
        "filename": "libcutils/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "Provide more details on what went wrong? Maybe call dlerror() before here and then:\n\n  ALOGE(\"Failed to open libnetd_client.so: %s\", error);",
      "range": {
        "startLine": 52,
        "startChar": 8,
        "endLine": 52,
        "endChar": 42
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0dc8543e_8ca6550b",
        "filename": "libcutils/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:52:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "74ba2bd3_703d3fb2",
      "range": {
        "startLine": 52,
        "startChar": 8,
        "endLine": 52,
        "endChar": 42
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "35c1cb04_30d6980a",
        "filename": "libcutils/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "For readability, can you put a blank line before here, and before the subsequent \"error \u003d dlerror();\" statements in this function?",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 55,
        "endChar": 14
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8eb39bb5_e993d8ee",
        "filename": "libcutils/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:52:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "35c1cb04_30d6980a",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 55,
        "endChar": 14
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "852d8bf1_f0c6f7a3",
        "filename": "libcutils/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "Remove",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 80,
        "endChar": 5
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "37bf18f9_9f15cff7",
        "filename": "libcutils/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 80,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:50:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "852d8bf1_f0c6f7a3",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 80,
        "endChar": 5
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c23a2ac_a4595e35",
        "filename": "libcutils/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 86,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "Is it correct to put pthread_once inside an if like this? Seems like there could be a race where you end up initializing the pointers twice.\n\nIs this intentional? For safety it might be better to just call pthread_once unconditionally. It\u0027s not like this code is particularly performance-sensitive since we need to open a UNIX socket, connect it to fwmarkd, send the socket over, ...",
      "range": {
        "startLine": 86,
        "startChar": 4,
        "endLine": 86,
        "endChar": 24
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56910dfa_457fdd8a",
        "filename": "libcutils/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 86,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:50:22Z",
      "side": 1,
      "message": "I feel like the if statement is not necessary here since the pthread_once function will check for the initialization status as well. Will delete it. But I didn\u0027t understand why the if statement may cause additional race problem.",
      "parentUuid": "1c23a2ac_a4595e35",
      "range": {
        "startLine": 86,
        "startChar": 4,
        "endLine": 86,
        "endChar": 24
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c0f28f75_8b50be94",
        "filename": "libqtaguid/Android.bp",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "No tabs please.",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 50,
        "endChar": 1
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad5704b3_816ef9c7",
        "filename": "libqtaguid/Android.bp",
        "patchSetId": 4
      },
      "lineNbr": 50,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:52:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c0f28f75_8b50be94",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 50,
        "endChar": 1
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "14b62e16_98155e3a",
        "filename": "libqtaguid/Android.bp",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "Can/should these changes be folded into the previous patchset?",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 52,
        "endChar": 54
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c5d157b0_3545ae1e",
        "filename": "libqtaguid/Android.bp",
        "patchSetId": 4
      },
      "lineNbr": 52,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:52:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "14b62e16_98155e3a",
      "range": {
        "startLine": 50,
        "startChar": 0,
        "endLine": 52,
        "endChar": 54
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8875041_a4931d06",
        "filename": "libqtaguid/include/qtaguid/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "Actually, shouldn\u0027t this be __LEGACY_QTAGUID_H? Netd will probably link to both libcutils and libqtaguid and the two shouldn\u0027t interfere with each other.",
      "range": {
        "startLine": 17,
        "startChar": 10,
        "endLine": 17,
        "endChar": 16
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c1ee9049_6ce7c81c",
        "filename": "libqtaguid/include/qtaguid/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 17,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:52:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c8875041_a4931d06",
      "range": {
        "startLine": 17,
        "startChar": 10,
        "endLine": 17,
        "endChar": 16
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5b300b23_3d35c41b",
        "filename": "libqtaguid/include/qtaguid/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 62,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-11-01T10:24:47Z",
      "side": 1,
      "message": "Per in-person discussion, should we leave this one untouched?",
      "range": {
        "startLine": 62,
        "startChar": 11,
        "endLine": 62,
        "endChar": 29
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6f93e625_4eba79f9",
        "filename": "libqtaguid/include/qtaguid/qtaguid.h",
        "patchSetId": 4
      },
      "lineNbr": 62,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:52:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5b300b23_3d35c41b",
      "range": {
        "startLine": 62,
        "startChar": 11,
        "endLine": 62,
        "endChar": 29
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "21837f80_df91f1e3",
        "filename": "libqtaguid/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:52:13Z",
      "side": 1,
      "message": "deleted from libqtaguid",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 35,
        "endChar": 97
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "182bd85e_2b7de8cc",
        "filename": "libqtaguid/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:52:13Z",
      "side": 1,
      "message": "deleted",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 96,
        "endChar": 1
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "873796a2_9abb2681",
        "filename": "libqtaguid/qtaguid.c",
        "patchSetId": 4
      },
      "lineNbr": 174,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-01T19:52:13Z",
      "side": 1,
      "message": "deleted",
      "range": {
        "startLine": 163,
        "startChar": 0,
        "endLine": 174,
        "endChar": 1
      },
      "revId": "1b51c0fbe125f2d690fae17ed7972bf68489d23b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}