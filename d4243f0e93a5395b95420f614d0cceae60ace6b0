{
  "comments": [
    {
      "key": {
        "uuid": "35c0e803_2937cc19",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 4
      },
      "lineNbr": 2342,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-12-16T20:10:10Z",
      "side": 1,
      "message": "nit: Check device_-\u003eIsRecovery() here (since the doc comment says so)",
      "revId": "d4243f0e93a5395b95420f614d0cceae60ace6b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df9f209d_bb1fcd1d",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 4
      },
      "lineNbr": 2342,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-12-16T20:10:10Z",
      "side": 1,
      "message": "I think this name is misleading since it is not related to first stage mount. Maybe \"CreateSnapshotDevicesInRecovery\" \"CreateRecoverySnapsotDevices\" etc.?",
      "range": {
        "startLine": 2342,
        "startChar": 30,
        "endLine": 2342,
        "endChar": 61
      },
      "revId": "d4243f0e93a5395b95420f614d0cceae60ace6b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fdb846f9_f16e6819",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 4
      },
      "lineNbr": 2342,
      "author": {
        "id": 1409599
      },
      "writtenOn": "2019-12-16T21:27:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "35c0e803_2937cc19",
      "revId": "d4243f0e93a5395b95420f614d0cceae60ace6b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6003e0c4_31effb3b",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 4
      },
      "lineNbr": 2342,
      "author": {
        "id": 1409599
      },
      "writtenOn": "2019-12-16T21:27:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "df9f209d_bb1fcd1d",
      "range": {
        "startLine": 2342,
        "startChar": 30,
        "endLine": 2342,
        "endChar": 61
      },
      "revId": "d4243f0e93a5395b95420f614d0cceae60ace6b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7781414_6d34d626",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 4
      },
      "lineNbr": 2362,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-12-16T20:10:10Z",
      "side": 1,
      "message": "After this call is successful, any \"return ERROR\" below will leave the device in a dirty state. If you call this function again in the dirty state, does CreateLogicalAndSnapshotPartitions still work?\n\nAlso, this maps other partitions as well, which may not be necessary.",
      "range": {
        "startLine": 2362,
        "startChar": 9,
        "endLine": 2362,
        "endChar": 43
      },
      "revId": "d4243f0e93a5395b95420f614d0cceae60ace6b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c826fe4b_3ddf6dd7",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 4
      },
      "lineNbr": 2362,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2019-12-16T20:32:33Z",
      "side": 1,
      "message": "Mapping the other partitions seems fine to me, FWIW. Probably even useful, since mapping them otherwise for debugging is pretty difficult.",
      "parentUuid": "a7781414_6d34d626",
      "range": {
        "startLine": 2362,
        "startChar": 9,
        "endLine": 2362,
        "endChar": 43
      },
      "revId": "d4243f0e93a5395b95420f614d0cceae60ace6b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81794c72_46bce106",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 4
      },
      "lineNbr": 2362,
      "author": {
        "id": 1409599
      },
      "writtenOn": "2019-12-16T21:27:31Z",
      "side": 1,
      "message": "As discussed offline, let\u0027s just issue a CreateLogicalAndSnapshotPartitions().\n\nIs it a problem having the other partitions mapped?\nI was thinking of adding a \"filter\" parameter to CreateLogicalAndSnapshotPartitions() to only create the listed partitions, but in the end I went for the simpler solution of leaving things as they where.",
      "parentUuid": "c826fe4b_3ddf6dd7",
      "range": {
        "startLine": 2362,
        "startChar": 9,
        "endLine": 2362,
        "endChar": 43
      },
      "revId": "d4243f0e93a5395b95420f614d0cceae60ace6b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae12c8d1_70f9b5e4",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 4
      },
      "lineNbr": 2382,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-12-16T20:10:10Z",
      "side": 1,
      "message": "Same here; if other partitions are \"merging\" but system is done, then it is not necessary an error.\n\nWhy can\u0027t \"MERGING\" snapshots be mapped?",
      "revId": "d4243f0e93a5395b95420f614d0cceae60ace6b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07ad195a_41397e56",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 4
      },
      "lineNbr": 2382,
      "author": {
        "id": 1409599
      },
      "writtenOn": "2019-12-16T21:27:31Z",
      "side": 1,
      "message": "Oops, there\u0027s no reason to, I was mixing things.",
      "parentUuid": "ae12c8d1_70f9b5e4",
      "revId": "d4243f0e93a5395b95420f614d0cceae60ace6b0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}