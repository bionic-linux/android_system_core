{
  "comments": [
    {
      "key": {
        "uuid": "8f750df5_503de573",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 4
      },
      "lineNbr": 418,
      "author": {
        "id": 1146974
      },
      "writtenOn": "2019-01-10T05:43:28Z",
      "side": 1,
      "message": "Still the libs in vndk_in_system namespace search /system/${LIB} first. That mean if a lib has both core and vendor variants, it will use core variant prior to vendor variant. It happens to double-load VNDK libs, which is not safe.\nCan we add /system/${LIB}/vndk%VNDK_VER% and /system/${LIB}/vndk-sp%VNDK_VER% before /system/${LIB} in this namespace instead of linking to vndk namespace?",
      "range": {
        "startLine": 418,
        "startChar": 41,
        "endLine": 418,
        "endChar": 55
      },
      "revId": "a80a2cd0238834cda76ef529e8da177e35082011",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "728a0d3b_348a6f5c",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 4
      },
      "lineNbr": 418,
      "author": {
        "id": 1349653
      },
      "writtenOn": "2019-01-10T18:45:11Z",
      "side": 1,
      "message": "Done. Thanks for pointing this out!",
      "parentUuid": "8f750df5_503de573",
      "range": {
        "startLine": 418,
        "startChar": 41,
        "endLine": 418,
        "endChar": 55
      },
      "revId": "a80a2cd0238834cda76ef529e8da177e35082011",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "17fae139_8ba8a578",
        "filename": "rootdir/etc/ld.config.txt",
        "patchSetId": 4
      },
      "lineNbr": 418,
      "author": {
        "id": 1349653
      },
      "writtenOn": "2019-01-12T00:49:07Z",
      "side": 1,
      "message": "I just noticed that this is still not a viable solution. Adding VNDK paths to vndk_in_system search path causes some VNDK libraries to be double loaded when they shouldn\u0027t, and in some cases this leads to crashes.\n\nI think the proper way to do this here would be whitelisting what libraries may be loaded into vndk_in_system namespaces. I\u0027ll put up a new patchset along with the corresponding change in bionic/linker later.",
      "parentUuid": "728a0d3b_348a6f5c",
      "range": {
        "startLine": 418,
        "startChar": 41,
        "endLine": 418,
        "endChar": 55
      },
      "revId": "a80a2cd0238834cda76ef529e8da177e35082011",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}