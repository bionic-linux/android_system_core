{
  "comments": [
    {
      "key": {
        "uuid": "7718b71d_db6060ab",
        "filename": "adb/daemon/services.cpp",
        "patchSetId": 5
      },
      "lineNbr": 147,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2019-11-12T20:43:30Z",
      "side": 1,
      "message": "You need to capture the string by value, you\u0027re still risking use after free here.",
      "range": {
        "startLine": 147,
        "startChar": 32,
        "endLine": 147,
        "endChar": 36
      },
      "revId": "dc30d91884fcfa10d530316439fb7542c58638ec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50e46e71_cd6b05a5",
        "filename": "adb/daemon/services.cpp",
        "patchSetId": 5
      },
      "lineNbr": 147,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2019-11-12T20:46:20Z",
      "side": 1,
      "message": "hmm, isn\u0027t the name in the function parameter already a copy of the original string?",
      "parentUuid": "7718b71d_db6060ab",
      "range": {
        "startLine": 147,
        "startChar": 32,
        "endLine": 147,
        "endChar": 36
      },
      "revId": "dc30d91884fcfa10d530316439fb7542c58638ec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0cec9d67_dc75c5d9",
        "filename": "adb/daemon/services.cpp",
        "patchSetId": 5
      },
      "lineNbr": 147,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-11-12T20:47:40Z",
      "side": 1,
      "message": "L144? that\u0027s const\u0026, so it\u0027s just a reference...",
      "parentUuid": "50e46e71_cd6b05a5",
      "range": {
        "startLine": 147,
        "startChar": 32,
        "endLine": 147,
        "endChar": 36
      },
      "revId": "dc30d91884fcfa10d530316439fb7542c58638ec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1034872_1f5b75db",
        "filename": "adb/daemon/services.cpp",
        "patchSetId": 5
      },
      "lineNbr": 147,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2019-11-12T20:54:40Z",
      "side": 1,
      "message": "But I make a std::string(name) in L227, so I thought there\u0027s already a copy of the string.",
      "parentUuid": "0cec9d67_dc75c5d9",
      "range": {
        "startLine": 147,
        "startChar": 32,
        "endLine": 147,
        "endChar": 36
      },
      "revId": "dc30d91884fcfa10d530316439fb7542c58638ec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27f9bfa6_b6c871ff",
        "filename": "adb/daemon/services.cpp",
        "patchSetId": 5
      },
      "lineNbr": 147,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2019-11-12T20:56:24Z",
      "side": 1,
      "message": "Yes, but that copy is destroyed immediately when line 227 returns, and you only captured a reference to it in the lambda, so it can be gone before you get a chance to use it.",
      "parentUuid": "d1034872_1f5b75db",
      "range": {
        "startLine": 147,
        "startChar": 32,
        "endLine": 147,
        "endChar": 36
      },
      "revId": "dc30d91884fcfa10d530316439fb7542c58638ec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da8a2f39_700ea693",
        "filename": "adb/daemon/services.cpp",
        "patchSetId": 5
      },
      "lineNbr": 147,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2019-11-12T21:00:49Z",
      "side": 1,
      "message": "Ack. Because the string is still used in a thread after the function returns...",
      "parentUuid": "27f9bfa6_b6c871ff",
      "range": {
        "startLine": 147,
        "startChar": 32,
        "endLine": 147,
        "endChar": 36
      },
      "revId": "dc30d91884fcfa10d530316439fb7542c58638ec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56b5716e_2b01f6d3",
        "filename": "adb/daemon/services.cpp",
        "patchSetId": 5
      },
      "lineNbr": 147,
      "author": {
        "id": 1088085
      },
      "writtenOn": "2019-11-12T21:01:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "da8a2f39_700ea693",
      "range": {
        "startLine": 147,
        "startChar": 32,
        "endLine": 147,
        "endChar": 36
      },
      "revId": "dc30d91884fcfa10d530316439fb7542c58638ec",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}