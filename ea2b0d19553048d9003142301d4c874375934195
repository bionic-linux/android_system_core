{
  "comments": [
    {
      "key": {
        "uuid": "268c5842_d499cb9f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-03-09T08:30:03Z",
      "side": 1,
      "message": "I\u0027m not sure about the reason.\n\nShould the errno usually reflect the status of the latest (last) action?",
      "range": {
        "startLine": 9,
        "startChar": 54,
        "endLine": 9,
        "endChar": 71
      },
      "revId": "ea2b0d19553048d9003142301d4c874375934195",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c9f17d4_522bbbd0",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 1
      },
      "lineNbr": 567,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-03-10T05:58:37Z",
      "side": 1,
      "message": "isn\u0027t this the wrong check?",
      "revId": "ea2b0d19553048d9003142301d4c874375934195",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fc66f441_80842f7e",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 1
      },
      "lineNbr": 567,
      "author": {
        "id": 1128478
      },
      "writtenOn": "2017-03-10T06:31:16Z",
      "side": 1,
      "message": "I think the mount_errno should only save the errno of the first mount failure. I\u0027m not sure if I understand your question.",
      "parentUuid": "7c9f17d4_522bbbd0",
      "revId": "ea2b0d19553048d9003142301d4c874375934195",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1c921c7_f35415df",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 1
      },
      "lineNbr": 567,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-03-10T06:35:23Z",
      "side": 1,
      "message": "is this checking whether it\u0027s the first mount failure?",
      "parentUuid": "fc66f441_80842f7e",
      "revId": "ea2b0d19553048d9003142301d4c874375934195",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b1226542_1601c729",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 1
      },
      "lineNbr": 567,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2017-03-10T06:59:57Z",
      "side": 1,
      "message": "This function tries to mount one of the consecutive entries with the same mount_point, and skip mounting if a previous attempt is success.\n/dev/block/..../device-1  /same_mount  ...\n/dev/block/..../device-2  /same_mount  ...\n/dev/block/..../device-3  /same_mount  ...\n\nThe \u0027mount_error\u0027 only matters when *all* mounts (with the same mount_point) fails because mount_error will be backup at line 580. And this function claims it will set errno to the 1st mount failure. In this case, it will be start_idx. \n\nMaybe change it to the following will be more readable?\n  /* back up the first errno for crypto decisions */\n  if (mount_errno \u003d\u003d 0) {\n    mount_errno \u003d errno;\n  }\n\nps: we might need to re-write the whole logic in the long term, to make it less confusing.",
      "parentUuid": "7c9f17d4_522bbbd0",
      "revId": "ea2b0d19553048d9003142301d4c874375934195",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f359bf33_82b3dc62",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 1
      },
      "lineNbr": 567,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-03-10T07:13:28Z",
      "side": 1,
      "message": "\u003e In this case, it will be start_idx\n\nah, because otherwise you broke out of the loop. yuck.\n\nyeah, i think your suggested alternative of checking `mount_errno \u003d\u003d 0` is clearer until we can rewrite this whole function.",
      "parentUuid": "b1226542_1601c729",
      "revId": "ea2b0d19553048d9003142301d4c874375934195",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1281dd3a_55084825",
        "filename": "fs_mgr/fs_mgr.cpp",
        "patchSetId": 1
      },
      "lineNbr": 567,
      "author": {
        "id": 1128478
      },
      "writtenOn": "2017-03-10T08:11:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f359bf33_82b3dc62",
      "revId": "ea2b0d19553048d9003142301d4c874375934195",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}