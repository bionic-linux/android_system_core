{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "98997e52_54ac85eb",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 1007,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2024-11-11T18:01:51Z",
      "side": 1,
      "message": "Are these being moved later?",
      "range": {
        "startLine": 998,
        "startChar": 0,
        "endLine": 1007,
        "endChar": 18
      },
      "revId": "f1eaa75168352a3bd3cc6ffb0733d09a4b028f8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "beab5b86_8f9ba8d8",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 1007,
      "author": {
        "id": 1882770
      },
      "writtenOn": "2024-11-11T19:32:14Z",
      "side": 1,
      "message": "These are tricky to move. I\u0027m still contemplating strategies to do that. They are tricky because:\n\n(1) we want the mainline init to happen right after perform_apex_config, before any mainline process can start. Note that in the rootdir init.rc there is `derive_sdk` right after mainline init. We definitely want aconfigd mainline init to happen before that.\n\n(2) We also want the socket service to start after both aconfigd platform init (already moved to aconfigd.rc) and aconfigd mainline init. This we can probably achieve by having socket service process triggered by a sys prop change that is made by aconfigd mainline init. \n\nJust want to find a good strategy to do (1) before working on (2).\n\nAny suggestions?\n\nBest!",
      "parentUuid": "98997e52_54ac85eb",
      "range": {
        "startLine": 998,
        "startChar": 0,
        "endLine": 1007,
        "endChar": 18
      },
      "revId": "f1eaa75168352a3bd3cc6ffb0733d09a4b028f8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "482bf241_02779392",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 1007,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2024-11-11T19:34:57Z",
      "side": 1,
      "message": "Yeah, it sounds like a sys prop is the way to go.\n\nFor #1, I\"m a bit confused as to what you mean. You want a mainline module to start before mainline processes are allowed to start?",
      "parentUuid": "beab5b86_8f9ba8d8",
      "range": {
        "startLine": 998,
        "startChar": 0,
        "endLine": 1007,
        "endChar": 18
      },
      "revId": "f1eaa75168352a3bd3cc6ffb0733d09a4b028f8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d2cea877_52d78cc3",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 1007,
      "author": {
        "id": 1882770
      },
      "writtenOn": "2024-11-11T19:59:52Z",
      "side": 1,
      "message": "Yes, we want aconfigd process for config infra mainline module be the first process to start among all mainline module processes. The reason is that aconfigd really should be thought of as a form mainline module preparation (get the flags that these process need ready).",
      "parentUuid": "482bf241_02779392",
      "range": {
        "startLine": 998,
        "startChar": 0,
        "endLine": 1007,
        "endChar": 18
      },
      "revId": "f1eaa75168352a3bd3cc6ffb0733d09a4b028f8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "76bc6981_fa2393e2",
        "filename": "rootdir/init.rc",
        "patchSetId": 1
      },
      "lineNbr": 1007,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2024-11-11T20:04:04Z",
      "side": 1,
      "message": "Do you have a way to guarantee that other mainline modules cannot start before your module is ready?",
      "parentUuid": "d2cea877_52d78cc3",
      "range": {
        "startLine": 998,
        "startChar": 0,
        "endLine": 1007,
        "endChar": 18
      },
      "revId": "f1eaa75168352a3bd3cc6ffb0733d09a4b028f8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}