{
  "comments": [
    {
      "key": {
        "uuid": "9abb119a_33720a68",
        "filename": "fs_mgr/libsnapshot/cow_writer.cpp",
        "patchSetId": 3
      },
      "lineNbr": 397,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2020-09-22T15:54:36Z",
      "side": 1,
      "message": "It\u0027s difficult for update_engine to know whether the underlying CowWriter supports AddCopy or not. We could either make EmiCopy return a enum or add a separate IsCopySupported() method for feature testing. @Tianjie WDYT",
      "range": {
        "startLine": 397,
        "startChar": 0,
        "endLine": 397,
        "endChar": 68
      },
      "revId": "5b6fdab698de7f712f3232d4ade60ef0f9504433",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85a5c145_732fbade",
        "filename": "fs_mgr/libsnapshot/cow_writer.cpp",
        "patchSetId": 3
      },
      "lineNbr": 397,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2020-09-22T16:45:27Z",
      "side": 1,
      "message": "I figured update_engine would be gating all this code on the VAB compression flag. But yeah, we could expose this flag easily. Another option is we could also open the source device and read blocks from it. Not saying that\u0027s necessarily a good idea, but it\u0027s an option.",
      "parentUuid": "9abb119a_33720a68",
      "range": {
        "startLine": 397,
        "startChar": 0,
        "endLine": 397,
        "endChar": 68
      },
      "revId": "5b6fdab698de7f712f3232d4ade60ef0f9504433",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0bfe617d_630350bc",
        "filename": "fs_mgr/libsnapshot/cow_writer.cpp",
        "patchSetId": 3
      },
      "lineNbr": 397,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2020-09-22T16:48:23Z",
      "side": 1,
      "message": "Gating everything with VABC flag sounds reasonable. Do we need to modify any selinux policy to give ue permission to read VABC flag?",
      "parentUuid": "85a5c145_732fbade",
      "range": {
        "startLine": 397,
        "startChar": 0,
        "endLine": 397,
        "endChar": 68
      },
      "revId": "5b6fdab698de7f712f3232d4ade60ef0f9504433",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28d907fb_662e33e6",
        "filename": "fs_mgr/libsnapshot/cow_writer.cpp",
        "patchSetId": 3
      },
      "lineNbr": 397,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2020-09-22T17:06:28Z",
      "side": 1,
      "message": "Good point, let me add that to the topic.",
      "parentUuid": "0bfe617d_630350bc",
      "range": {
        "startLine": 397,
        "startChar": 0,
        "endLine": 397,
        "endChar": 68
      },
      "revId": "5b6fdab698de7f712f3232d4ade60ef0f9504433",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ac35bdc_5bc73c33",
        "filename": "fs_mgr/libsnapshot/cow_writer.cpp",
        "patchSetId": 3
      },
      "lineNbr": 397,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2020-09-22T21:31:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "28d907fb_662e33e6",
      "range": {
        "startLine": 397,
        "startChar": 0,
        "endLine": 397,
        "endChar": 68
      },
      "revId": "5b6fdab698de7f712f3232d4ade60ef0f9504433",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}