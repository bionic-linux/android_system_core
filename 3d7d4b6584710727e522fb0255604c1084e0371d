{
  "comments": [
    {
      "key": {
        "uuid": "AAAIFn////M\u003d",
        "filename": "init/signal_handler.c",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1010186
      },
      "writtenOn": "2012-08-07T07:14:23Z",
      "side": 1,
      "message": "what about nullifying act.sa_restorer?  Is it still needed?",
      "revId": "3d7d4b6584710727e522fb0255604c1084e0371d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAIEX///+s\u003d",
        "filename": "init/signal_handler.c",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1003284
      },
      "writtenOn": "2012-08-07T07:47:09Z",
      "side": 1,
      "message": "Tthe Linux manual page says that sa_restorer should not be referenced but it seems that the ARM kernel saves and restores it and the x86 actually uses it.\n\nThe MIPS struct sigaction does not have a sa_restorer field.\nI think the best solution would be to use\n  memset(act, 0 , sizeof(act));\nto initialise the structure then set sa_handler and sa_flags",
      "parentUuid": "AAAIFn////M\u003d",
      "revId": "3d7d4b6584710727e522fb0255604c1084e0371d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAIW3///Xw\u003d",
        "filename": "init/signal_handler.c",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1002975
      },
      "writtenOn": "2012-08-14T22:25:08Z",
      "side": 1,
      "message": "I seem to remember gdb uses sa_restorer for something that this appears it might break. Doing the memset(\u0026act, 0, sizeof(act)); would be better than just removing this sa_restorer line.",
      "parentUuid": "AAAIEX///+s\u003d",
      "revId": "3d7d4b6584710727e522fb0255604c1084e0371d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAIXH///Vk\u003d",
        "filename": "init/signal_handler.c",
        "patchSetId": 2
      },
      "lineNbr": 137,
      "author": {
        "id": 1000413
      },
      "writtenOn": "2012-08-14T22:34:23Z",
      "side": 1,
      "message": "even if ppl do use sa_restorer, they have to set the SA_RESTORER flag in flags iirc (and that\u0027s what the arm kernel does), which we are not setting so I\u0027m not sure how gdb can rely on that.\n\nx86 doesn\u0027t seem to do anything with it from what I can tell. In fact the only arch for which the SA_RESTORER flag is defined is arm.",
      "parentUuid": "AAAIW3///Xw\u003d",
      "revId": "3d7d4b6584710727e522fb0255604c1084e0371d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}