{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1a47f6ec_b2d6f0e2",
        "filename": "fastboot/device/usb.cpp",
        "patchSetId": 14
      },
      "lineNbr": 56,
      "author": {
        "id": 1724998
      },
      "writtenOn": "2022-07-27T22:31:21Z",
      "side": 1,
      "message": "see below regarding queue depth. This might actually improve performance but it should also work on all devices.\n\nAny perf measurements based on different queue depth ?",
      "revId": "057e0893fae2a83a2359ae31bc79985c48d86747",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c0bccf87_395871fb",
        "filename": "fastboot/device/usb.cpp",
        "patchSetId": 14
      },
      "lineNbr": 56,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2022-07-28T20:48:35Z",
      "side": 1,
      "message": "There\u0027s no visible performance impact when comparing queue depth of 16 vs 64.",
      "parentUuid": "1a47f6ec_b2d6f0e2",
      "revId": "057e0893fae2a83a2359ae31bc79985c48d86747",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae7ef2d5_5c887ebb",
        "filename": "fastboot/device/usb.cpp",
        "patchSetId": 14
      },
      "lineNbr": 256,
      "author": {
        "id": 1724998
      },
      "writtenOn": "2022-07-27T22:31:21Z",
      "side": 1,
      "message": "If io_uring is not supported, it falls back to sequential read/write. This is in deviation of the current behavior. I think we should just fallback to AIO. Note, we just can\u0027t rip out the old AIO code until every device in the field has 5.x kernels.\n\nAdditionally, there is some history on why AIO was introduced: see http://b/37916658 for more details.",
      "revId": "057e0893fae2a83a2359ae31bc79985c48d86747",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57d37c68_121e4bb6",
        "filename": "fastboot/device/usb.cpp",
        "patchSetId": 14
      },
      "lineNbr": 256,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-07-27T22:55:23Z",
      "side": 1,
      "message": "(and if you\u0027re wanting to change adbd too, note that adbd is a mainline module so you\u0027re effectively stuck on old kernels \"forever\", or at least until we find out how many years S will be getting mainline updates...)",
      "parentUuid": "ae7ef2d5_5c887ebb",
      "revId": "057e0893fae2a83a2359ae31bc79985c48d86747",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "63957f33_d39e3694",
        "filename": "fastboot/device/usb.cpp",
        "patchSetId": 14
      },
      "lineNbr": 256,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2022-07-28T20:48:35Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "57d37c68_121e4bb6",
      "revId": "057e0893fae2a83a2359ae31bc79985c48d86747",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "963ee8c3_47848804",
        "filename": "fastboot/device/usb_client.cpp",
        "patchSetId": 14
      },
      "lineNbr": 35,
      "author": {
        "id": 1724998
      },
      "writtenOn": "2022-07-27T22:31:21Z",
      "side": 1,
      "message": "This might be bit tricky - see http://b/126582877 for more details.\n\nI have a similar issue with adb - If there is a way to probe what is the max packet size a USB controller can handle, then this can be dynamically set instead of hard coding it.",
      "revId": "057e0893fae2a83a2359ae31bc79985c48d86747",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a1940b6_77359f6d",
        "filename": "fastboot/device/usb_client.cpp",
        "patchSetId": 14
      },
      "lineNbr": 35,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-07-27T22:55:23Z",
      "side": 1,
      "message": "iirc we also had trouble with Macs in particular over-estimating their own abilities in that regard (in the adb context)?",
      "parentUuid": "963ee8c3_47848804",
      "revId": "057e0893fae2a83a2359ae31bc79985c48d86747",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "954af308_8205a74b",
        "filename": "fastboot/device/usb_client.cpp",
        "patchSetId": 14
      },
      "lineNbr": 35,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2022-07-28T20:48:35Z",
      "side": 1,
      "message": "Reverted to original value, 16.",
      "parentUuid": "4a1940b6_77359f6d",
      "revId": "057e0893fae2a83a2359ae31bc79985c48d86747",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}