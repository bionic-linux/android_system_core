{
  "comments": [
    {
      "key": {
        "uuid": "6d7345bf_8d410e62",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 5
      },
      "lineNbr": 100,
      "author": {
        "id": 1275554
      },
      "writtenOn": "2018-09-06T03:51:06Z",
      "side": 1,
      "message": "I hope someday we have PRINTF_RATELIMIT(\"blah, blash\", 1ms) library function to avoid each component creates own ratelimit implementation. ;-)",
      "revId": "3693441d9be6fd1123443afc36cc701f16c40620",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a9673b5_720c1619",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 5
      },
      "lineNbr": 100,
      "author": {
        "id": 1105075
      },
      "writtenOn": "2018-09-06T03:58:20Z",
      "side": 1,
      "message": "Actually we have https://cs.corp.google.com/android/system/core/liblog/include/log/log.h?rcl\u003d28e25420aabb23dcf4bb9c6b94a088af39f94ae8\u0026l\u003d216",
      "parentUuid": "6d7345bf_8d410e62",
      "revId": "3693441d9be6fd1123443afc36cc701f16c40620",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01a20d3c_480051bc",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 5
      },
      "lineNbr": 100,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-09-06T16:55:33Z",
      "side": 1,
      "message": "That one is in seconds, may be granular and not ms though. As for logging, yes, I am for IF_ALOG_RATELIMIT checking.",
      "parentUuid": "0a9673b5_720c1619",
      "revId": "3693441d9be6fd1123443afc36cc701f16c40620",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25605145_35561f9f",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 5
      },
      "lineNbr": 100,
      "author": {
        "id": 1105075
      },
      "writtenOn": "2018-09-06T17:03:42Z",
      "side": 1,
      "message": "For this case should be fine as it is set to 1sec, and I think we can use \"else\" to + the counter.",
      "parentUuid": "01a20d3c_480051bc",
      "revId": "3693441d9be6fd1123443afc36cc701f16c40620",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cdabbf31_5a68e301",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 5
      },
      "lineNbr": 100,
      "author": {
        "id": 1032276
      },
      "writtenOn": "2018-09-06T17:26:23Z",
      "side": 1,
      "message": "Its granular to 1 second, meaning you could get another update within ns, or \u003e 1 second later. That might be OK.\n\nIF_ALOG_RATELIMIT uses trylock and time() (both relatively fast), whereas this open-coded implementation here does not suffer from granularity, but uses a slower clock_gettime call (that I believe is longer than the trylock and time calls, but do not know for a fact).",
      "parentUuid": "25605145_35561f9f",
      "revId": "3693441d9be6fd1123443afc36cc701f16c40620",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "464e4a03_0f4feaf5",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 5
      },
      "lineNbr": 100,
      "author": {
        "id": 1157738
      },
      "writtenOn": "2018-09-06T17:48:39Z",
      "side": 1,
      "message": "Will change to IF_ALOG_RATELIMIT(). It adds some unnecessary overhead since I already have current time reading from clock_gettime() (which I can\u0027t replace with time() because kill rate limiting should be in msecs) but it will be more consistent.",
      "parentUuid": "cdabbf31_5a68e301",
      "revId": "3693441d9be6fd1123443afc36cc701f16c40620",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}