{
  "comments": [
    {
      "key": {
        "uuid": "43768d91_3dd95c63",
        "filename": "healthd/BatteryMonitor.cpp",
        "patchSetId": 3
      },
      "lineNbr": 195,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-25T20:02:25Z",
      "side": 1,
      "message": "Changing this value will effectively break what framework sees when the value is missing. In particular, BatteryService will now have -1 for a bunch of values that are missing. Please revert it back to 0.",
      "range": {
        "startLine": 195,
        "startChar": 16,
        "endLine": 195,
        "endChar": 18
      },
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37ddad07_0dda559e",
        "filename": "healthd/healthd_draw.cpp",
        "patchSetId": 3
      },
      "lineNbr": 68,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-25T20:02:25Z",
      "side": 1,
      "message": "(batt_anim-\u003ecur_level \u003c 0 || batt_anim-\u003ecur_status \u003d\u003d BATTERY_STATUS_UNKNOWN || batt_anim-\u003enum_frames \u003d\u003d 0)",
      "range": {
        "startLine": 68,
        "startChar": 8,
        "endLine": 68,
        "endChar": 53
      },
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80dd2299_98600de9",
        "filename": "healthd/healthd_mode_charger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 92,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-03-25T19:23:44Z",
      "side": 1,
      "message": "these still seem more like #defines than an enum, given that you\u0027re not actually using this type on L110...",
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "783c9816_cee6207e",
        "filename": "healthd/healthd_mode_charger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 92,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-25T20:02:25Z",
      "side": 1,
      "message": "+1; use an anonymous enum instead. (Also, I suggest against having these constants; see below)",
      "parentUuid": "80dd2299_98600de9",
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c1551ba_92a21bb6",
        "filename": "healthd/healthd_mode_charger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 153,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-25T20:02:25Z",
      "side": 1,
      "message": "revert it back to 0",
      "range": {
        "startLine": 153,
        "startChar": 17,
        "endLine": 153,
        "endChar": 38
      },
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb6fafc7_096a463b",
        "filename": "healthd/healthd_mode_charger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 296,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-25T20:02:25Z",
      "side": 1,
      "message": "I don\u0027t find any code that assigns ERROR to batteryLevel. Is this always false?",
      "range": {
        "startLine": 296,
        "startChar": 22,
        "endLine": 296,
        "endChar": 68
      },
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e947a686_66e7d1f9",
        "filename": "healthd/healthd_mode_charger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 297,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-25T20:02:25Z",
      "side": 1,
      "message": "You don\u0027t actually need the enums. How about something like:\n\nL737:\n    charger-\u003ewait_batt_level_timestamp \u003d 0;\n\nif (!batt_prop || batt_prop.batteryStatus \u003d\u003d BATTERY_LEVEL_UNKNOWN) {\n    if (charger-\u003ewait_batt_level_timestamp \u003d\u003d 0) {\n        charger-\u003ewait_batt_level_timestamp \u003d now + MAX_BATT_LEVEL_WAIT_TIME;\n        // ...\n    }\n    if (now \u003c\u003d charger-\u003ewait_batt_level_timestamp) {\n        // handle waiting state\n    } // otherwise, leave batt_prop.batteryStatus as UNKNOWN to draw unknown battery\n}",
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55fa6fc6_d8e10e4c",
        "filename": "healthd/healthd_mode_charger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 299,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-03-25T19:23:44Z",
      "side": 1,
      "message": "ah, \"INITIAL_STATE\" would probably have been better than \"INIT\" in the name.",
      "range": {
        "startLine": 299,
        "startChar": 19,
        "endLine": 299,
        "endChar": 29
      },
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d02a902c_40e1ddab",
        "filename": "healthd/healthd_mode_charger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 302,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-25T20:02:25Z",
      "side": 1,
      "message": "What does \"return\" do here? Does it just left the screen not drawn? Or do you want to draw a blank screen?",
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8936725_7ac63118",
        "filename": "healthd/healthd_mode_charger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 305,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-25T20:02:25Z",
      "side": 1,
      "message": "Rather than using negative values for battery level, you can use batteryStatus \u003d\u003d UNKNOWN to indicate that the battery status isn\u0027t ready to be read yet.",
      "range": {
        "startLine": 305,
        "startChar": 42,
        "endLine": 305,
        "endChar": 63
      },
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0da2cf68_7f38019b",
        "filename": "healthd/healthd_mode_charger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 309,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-03-25T19:23:44Z",
      "side": 1,
      "message": "braces",
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6821ae1d_cb2ef0c8",
        "filename": "healthd/healthd_mode_charger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 309,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-25T20:02:25Z",
      "side": 1,
      "message": "Same here; is this intentional? Do you want to draw an empty screen instead?",
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f0a7b425_be1e76a9",
        "filename": "healthd/healthd_mode_charger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 313,
      "author": {
        "id": 1121838
      },
      "writtenOn": "2019-03-25T20:02:25Z",
      "side": 1,
      "message": "ditto; just use batteryStatus \u003d\u003d UNKNOWN",
      "range": {
        "startLine": 313,
        "startChar": 46,
        "endLine": 313,
        "endChar": 67
      },
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d63ed3a0_9e163e4e",
        "filename": "healthd/healthd_mode_charger.cpp",
        "patchSetId": 3
      },
      "lineNbr": 737,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2019-03-25T19:23:44Z",
      "side": 1,
      "message": "(if the rest of the code is using -1 for \"uninitialized\", maybe just drop the name and write -1 directly, or have a CHARGER_?)",
      "range": {
        "startLine": 737,
        "startChar": 41,
        "endLine": 737,
        "endChar": 64
      },
      "revId": "650e4614c13185b38af186a8094b0c1ba86c0291",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}