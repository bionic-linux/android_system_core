{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c3fab6f0_58efa212",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-04-28T15:41:24Z",
      "side": 1,
      "message": "+jeffv because i don\u0027t know whether this was a deliberate decision or not...",
      "revId": "70f5607364738f21d7449b9bf1a2393ebf739e0c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "34f3092f_4febab4a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2023-04-28T19:51:36Z",
      "side": 1,
      "message": "The selinux restriction is deliberate. https://cs.android.com/android/platform/superproject/+/master:system/sepolicy/private/crash_dump.te;l\u003d6",
      "parentUuid": "c3fab6f0_58efa212",
      "revId": "70f5607364738f21d7449b9bf1a2393ebf739e0c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3d64156a_5e444523",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-04-28T19:54:53Z",
      "side": 1,
      "message": "i actually meant that we don\u0027t use /proc/sys/debug/exception-trace...\n\n(though if we _do_ enable that, i think it should be init rather than here!)",
      "parentUuid": "34f3092f_4febab4a",
      "revId": "70f5607364738f21d7449b9bf1a2393ebf739e0c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bcefaeb5_6c424cd5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2023-04-28T20:41:45Z",
      "side": 1,
      "message": "\u003e i actually meant that we don\u0027t use /proc/sys/debug/exception-trace...\n\nI had to google it. Seems OK to me.\n\n\u003e (though if we do enable that, i think it should be init rather than here!)\n\nYeah, this is  just a line in an init.rc file, right?",
      "parentUuid": "3d64156a_5e444523",
      "revId": "70f5607364738f21d7449b9bf1a2393ebf739e0c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d39ab166_7d0d72d6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-04-28T22:19:24Z",
      "side": 1,
      "message": "yeah, should be... but maybe there\u0027s even a kernel config option we could add in GKI instead? +adelva...",
      "parentUuid": "bcefaeb5_6c424cd5",
      "revId": "70f5607364738f21d7449b9bf1a2393ebf739e0c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "09c4c6ca_fb13fe37",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 2005503
      },
      "writtenOn": "2023-05-04T10:18:33Z",
      "side": 1,
      "message": "| Yeah, this is just a line in an init.rc file, right?\nEnable in init.rc at second stage init? If so, when processes other than init receive fatal signals, kernel will also print logs that are not very useful, which may cause useful logs to be flushed out.\n\nThis feature was originally enabled by default, but later it was turned off due to verbose logsï¼š\ncommit 5ee39a71fd89ab7240c5339d04161c44a8e03269\nAuthor: Michael Weiser \u003cmichael.weiser@gmx.de\u003e\nDate:   Thu Feb 1 23:13:38 2018 +0100\n\n    arm64: Disable unhandled signal log messages by default\n\n    aarch64 unhandled signal kernel messages are very verbose, suggesting\n    them to be more of a debugging aid:\n\n    sigsegv[33]: unhandled level 2 translation fault (11) at 0x00000000, esr\n    0x92000046, in sigsegv[400000+71000]\n    CPU: 1 PID: 33 Comm: sigsegv Tainted: G        W        4.15.0-rc3+ #3\n    Hardware name: linux,dummy-virt (DT)\n    pstate: 60000000 (nZCv daif -PAN -UAO)\n    pc : 0x4003f4\n    lr : 0x4006bc\n    sp : 0000fffffe94a060\n    x29: 0000fffffe94a070 x28: 0000000000000000\n    x27: 0000000000000000 x26: 0000000000000000\n    x25: 0000000000000000 x24: 00000000004001b0\n    x23: 0000000000486ac8 x22: 00000000004001c8\n    x21: 0000000000000000 x20: 0000000000400be8\n    x19: 0000000000400b30 x18: 0000000000484728\n    x17: 000000000865ffc8 x16: 000000000000270f\n    x15: 00000000000000b0 x14: 0000000000000002\n    x13: 0000000000000001 x12: 0000000000000000\n    x11: 0000000000000000 x10: 0008000020008008\n    x9 : 000000000000000f x8 : ffffffffffffffff\n    x7 : 0004000000000000 x6 : ffffffffffffffff\n    x5 : 0000000000000000 x4 : 0000000000000000\n    x3 : 00000000004003e4 x2 : 0000fffffe94a1e8\n    x1 : 000000000000000a x0 : 0000000000000000\n\n    Disable them by default, so they can be enabled using\n    /proc/sys/debug/exception-trace.\n\n    Cc: \u003cstable@vger.kernel.org\u003e\n    Signed-off-by: Michael Weiser \u003cmichael.weiser@gmx.de\u003e\n    Signed-off-by: Will Deacon \u003cwill.deacon@arm.com\u003e\n\ndiff --git a/arch/arm64/kernel/traps.c b/arch/arm64/kernel/traps.c\nindex bbb0fde2780e..c8639f95e59a 100644\n--- a/arch/arm64/kernel/traps.c\n+++ b/arch/arm64/kernel/traps.c\n@@ -57,7 +57,7 @@ static const char *handler[]\u003d {\n        \"Error\"\n };\n\n-int show_unhandled_signals \u003d 1;\n+int show_unhandled_signals \u003d 0;",
      "parentUuid": "d39ab166_7d0d72d6",
      "revId": "70f5607364738f21d7449b9bf1a2393ebf739e0c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c0d6ca69_5ac48914",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-05-04T15:19:56Z",
      "side": 1,
      "message": "there\u0027s no way to restrict this to certain processes?",
      "parentUuid": "09c4c6ca_fb13fe37",
      "revId": "70f5607364738f21d7449b9bf1a2393ebf739e0c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a5ae4f65_c8c017f4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 2005503
      },
      "writtenOn": "2023-05-05T00:57:22Z",
      "side": 1,
      "message": "I can\u0027t think of a better way besides changing the kernel code.",
      "parentUuid": "c0d6ca69_5ac48914",
      "revId": "70f5607364738f21d7449b9bf1a2393ebf739e0c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1a46f93b_7906885d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1076798
      },
      "writtenOn": "2023-05-05T03:31:27Z",
      "side": 1,
      "message": "One way would be to have init register a signal handler that sets /proc/sys/debug/exception-trace, reraises the signal, unregisters itself, and then returns.",
      "parentUuid": "a5ae4f65_c8c017f4",
      "revId": "70f5607364738f21d7449b9bf1a2393ebf739e0c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "437b26b1_08f463fd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 2005503
      },
      "writtenOn": "2023-05-08T10:19:46Z",
      "side": 1,
      "message": "The signal handler of dynamic linked init is debuggerd_signal_handler, so I think maybe we can turn on the exception-trace in this function for init.\nAfter returning from the signal handler, the kernel will panic and restart, so there should be no other side effects.",
      "parentUuid": "1a46f93b_7906885d",
      "revId": "70f5607364738f21d7449b9bf1a2393ebf739e0c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}