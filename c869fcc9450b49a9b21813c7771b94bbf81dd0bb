{
  "comments": [
    {
      "key": {
        "uuid": "90bccb98_b3242acf",
        "filename": "adb/Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1078119
      },
      "writtenOn": "2016-09-20T16:19:46Z",
      "side": 1,
      "message": "nit: keep these alphabetical.",
      "range": {
        "startLine": 66,
        "startChar": 4,
        "endLine": 66,
        "endChar": 24
      },
      "revId": "c869fcc9450b49a9b21813c7771b94bbf81dd0bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90bccb98_9321e6b0",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 69,
      "author": {
        "id": 1078119
      },
      "writtenOn": "2016-09-20T16:19:46Z",
      "side": 1,
      "message": "Possibly slightly more readable and I think does the same thing:\n\n  if (!android::base::StartsWith(spec, \"tcp:\"))",
      "range": {
        "startLine": 69,
        "startChar": 8,
        "endLine": 69,
        "endChar": 56
      },
      "revId": "c869fcc9450b49a9b21813c7771b94bbf81dd0bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90bccb98_6dbc9171",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1071888
      },
      "writtenOn": "2016-09-20T02:03:12Z",
      "side": 1,
      "message": "\u003c\u003d 0?",
      "range": {
        "startLine": 81,
        "startChar": 12,
        "endLine": 81,
        "endChar": 22
      },
      "revId": "c869fcc9450b49a9b21813c7771b94bbf81dd0bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90bccb98_6d325100",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2016-09-20T02:49:33Z",
      "side": 1,
      "message": "No, listening on port 0 has meaning. It means \"listen on an available port\", which you can get the value of with getsockname.\n\nConnecting on port 0 is meaningless, but AFAIK we handle that properly elsewhere.",
      "parentUuid": "90bccb98_6dbc9171",
      "range": {
        "startLine": 81,
        "startChar": 12,
        "endLine": 81,
        "endChar": 22
      },
      "revId": "c869fcc9450b49a9b21813c7771b94bbf81dd0bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90bccb98_53560e01",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 89,
      "author": {
        "id": 1078119
      },
      "writtenOn": "2016-09-20T16:19:46Z",
      "side": 1,
      "message": "What\u0027s the value of goto here? If we just make the second block an \"else\" doesn\u0027t that accomplish the same thing?",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 89,
        "endChar": 5
      },
      "revId": "c869fcc9450b49a9b21813c7771b94bbf81dd0bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90bccb98_2db69991",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 1071888
      },
      "writtenOn": "2016-09-20T02:03:12Z",
      "side": 1,
      "message": "What does this comment mean? Why we want a \"0\" port number here?",
      "range": {
        "startLine": 93,
        "startChar": 48,
        "endLine": 93,
        "endChar": 49
      },
      "revId": "c869fcc9450b49a9b21813c7771b94bbf81dd0bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90bccb98_0d2715c1",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2016-09-20T02:49:33Z",
      "side": 1,
      "message": "See above",
      "parentUuid": "90bccb98_2db69991",
      "range": {
        "startLine": 93,
        "startChar": 48,
        "endLine": 93,
        "endChar": 49
      },
      "revId": "c869fcc9450b49a9b21813c7771b94bbf81dd0bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90bccb98_ed6881ec",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 1071888
      },
      "writtenOn": "2016-09-20T02:03:12Z",
      "side": 1,
      "message": "Now this is somewhat confusing, it seems if hostname\u003d\u003d\"127.0.0.1\", we don\u0027t consider it as localhost and will go the else branch...",
      "range": {
        "startLine": 157,
        "startChar": 12,
        "endLine": 157,
        "endChar": 29
      },
      "revId": "c869fcc9450b49a9b21813c7771b94bbf81dd0bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90bccb98_ad1e0966",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2016-09-20T02:49:33Z",
      "side": 1,
      "message": "Yeah, this is a hack, but it only matters for tcp reverse forwarding on the device side (i.e. connect to host and have it forwarded to connect to a port on the device), which is uncommon (and rejected connecting to localhost:1234 entirely).",
      "parentUuid": "90bccb98_ed6881ec",
      "range": {
        "startLine": 157,
        "startChar": 12,
        "endLine": 157,
        "endChar": 29
      },
      "revId": "c869fcc9450b49a9b21813c7771b94bbf81dd0bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90bccb98_6da5710f",
        "filename": "adb/socket_spec.cpp",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 1071888
      },
      "writtenOn": "2016-09-20T03:09:55Z",
      "side": 1,
      "message": "So what\u0027s the purpose for this CL?  just for \"adb connect\"? But from the test you mentioned, it seems you are expecting it also work with adb server. But from my test (patched your CL):\n\nkillall adb\n\n/out/host/linux-x86/bin/adb -L \u0027tcp:127.0.0.1:5037\u0027 devices\nList of devices attached\n** Cannot start server on remote host\nerror: cannot connect to daemon at tcp:127.0.0.1:5037: Connection refused",
      "parentUuid": "90bccb98_ad1e0966",
      "range": {
        "startLine": 157,
        "startChar": 12,
        "endLine": 157,
        "endChar": 29
      },
      "revId": "c869fcc9450b49a9b21813c7771b94bbf81dd0bb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}