{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "c105cf13_66cae967",
        "filename": "libvendorsupport/Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-03-10T11:22:18Z",
      "side": 1,
      "message": "This head isn\u0027t for NDK clients.",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 75,
        "endChar": 1
      },
      "revId": "d9bc695559356cbaf19a2e64046586dc2c022dd8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b2af537f_2a2ec378",
        "filename": "libvendorsupport/Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1146974
      },
      "writtenOn": "2024-03-10T22:53:42Z",
      "side": 1,
      "message": "But we still need this as we are adding `__INTRODUCED_IN_LLNDK` to NDK header files. The NDK header files ignore this annotation by importing this `llndk-versioning.h`.",
      "parentUuid": "c105cf13_66cae967",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 75,
        "endChar": 1
      },
      "revId": "d9bc695559356cbaf19a2e64046586dc2c022dd8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a423e53_07594d0d",
        "filename": "libvendorsupport/Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-03-10T23:36:31Z",
      "side": 1,
      "message": "we can have the following in versioning.h, so that users don\u0027t have to be bothered with the macro when not compiling in vendor context.\n\n```\n#ifndef __INTRODUCED_IN_LLNDK\n#define __INTRODUCED_IN_LLNDK\n#endif\n```",
      "parentUuid": "b2af537f_2a2ec378",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 75,
        "endChar": 1
      },
      "revId": "d9bc695559356cbaf19a2e64046586dc2c022dd8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1f28e624_9df0cb9d",
        "filename": "libvendorsupport/Android.bp",
        "patchSetId": 2
      },
      "lineNbr": 75,
      "author": {
        "id": 1146974
      },
      "writtenOn": "2024-03-11T00:02:58Z",
      "side": 1,
      "message": "I still don\u0027t get it.\n\nThe header files with `__INTRODUCED_IN_LLNDK` must have `#include \u003candroid/llndk-versioning.h\u003e`. In this case the head file is shared to both NDK and LLNDK.\n\nNot to use the `libvendorsupport_ndk_headers`, users must use `#include \u003candroid/llndk-versioning.h\u003e` with a guard of `#if __has_include(\u003candroid/llndk-versioning.h\u003e)`. Also, they must include `android/llndk-versioning.h` before `sys/cdefs.h` to avoid duplicated definition of the `__INTRODUCED_IN_LLNDK`.\nOr users may include the empty definition in each header file.\n\nThis way, we may remove `libvendorsupport_ndk_headers` from ndk_headers.\n\nI don\u0027t think this is a better way. Isn\u0027t it natural to include `libvendorsupport_ndk_headers` as headers are shared between NDK and LLNDK?",
      "parentUuid": "1a423e53_07594d0d",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 75,
        "endChar": 1
      },
      "revId": "d9bc695559356cbaf19a2e64046586dc2c022dd8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "656d0a5d_7ef065c7",
        "filename": "libvendorsupport/include_llndk/android/llndk-versioning.h",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2024-03-10T11:22:18Z",
      "side": 1,
      "message": "Please no. This is against what we originally designed. NDK and LLNDK shouldn\u0027t be annotated at the same time.",
      "range": {
        "startLine": 58,
        "startChar": 24,
        "endLine": 58,
        "endChar": 33
      },
      "revId": "d9bc695559356cbaf19a2e64046586dc2c022dd8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79afa7e0_6b9ca81a",
        "filename": "libvendorsupport/include_llndk/android/llndk-versioning.h",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1146974
      },
      "writtenOn": "2024-03-10T15:06:48Z",
      "side": 1,
      "message": "Ah, I see. During the implementation, I thought a wrong case.\nI defined this as `__INTRODUCED_IN(34)` or older were available to vendor modules. I thought that `__INTRODUCED_IN` might not be ignored. But as the current source tree has 202404 as the minimum vendor API level, we may safely ignore that v34 annotation.\nLet me update with it.",
      "parentUuid": "656d0a5d_7ef065c7",
      "range": {
        "startLine": 58,
        "startChar": 24,
        "endLine": 58,
        "endChar": 33
      },
      "revId": "d9bc695559356cbaf19a2e64046586dc2c022dd8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}