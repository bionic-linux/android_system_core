{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0ae94fd4_c2c067a0",
        "filename": "fs_mgr/libsnapshot/include/libsnapshot/snapshot.h",
        "patchSetId": 10
      },
      "lineNbr": 197,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2021-11-09T21:56:38Z",
      "side": 1,
      "message": "nit: \"UserSnapshots\" (or \"UserspaceSnapshots\"?) since it\u0027s two separate terms",
      "revId": "55dd780f64339e78bfe40b8e3648abafff123aa7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24523828_f27a43f6",
        "filename": "fs_mgr/libsnapshot/include/libsnapshot/snapshot.h",
        "patchSetId": 10
      },
      "lineNbr": 197,
      "author": {
        "id": 1724998
      },
      "writtenOn": "2021-11-12T11:33:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0ae94fd4_c2c067a0",
      "revId": "55dd780f64339e78bfe40b8e3648abafff123aa7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "46a2c964_e989b36c",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 10
      },
      "lineNbr": 2049,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2021-11-09T21:56:38Z",
      "side": 1,
      "message": "If it\u0027s false we\u0027ll still read from disk, right, for devices we don\u0027t enable this on? Should this be std::optional\u003cbool\u003e?",
      "revId": "55dd780f64339e78bfe40b8e3648abafff123aa7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "234625cd_fb2ecb3f",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 10
      },
      "lineNbr": 2049,
      "author": {
        "id": 1724998
      },
      "writtenOn": "2021-11-12T11:33:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "46a2c964_e989b36c",
      "revId": "55dd780f64339e78bfe40b8e3648abafff123aa7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e2c659b_7fa09b24",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 10
      },
      "lineNbr": 2062,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2021-11-12T20:14:19Z",
      "side": 1,
      "message": "Should it be like this?\n\n    if (is_snapshot_userspace_.has_value()) {\n        return is_snapshot_userspace_.value();\n    }",
      "revId": "55dd780f64339e78bfe40b8e3648abafff123aa7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12177fa6_a65447c6",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 10
      },
      "lineNbr": 2062,
      "author": {
        "id": 1724998
      },
      "writtenOn": "2021-11-12T23:13:37Z",
      "side": 1,
      "message": "I was about to make this change but no; This should return true only if the value is true. Since this is std::optional, even if the value is set to \"false\", has_value() will be true - We shouldn\u0027t be returning \"false\" as the value.",
      "parentUuid": "1e2c659b_7fa09b24",
      "revId": "55dd780f64339e78bfe40b8e3648abafff123aa7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ed286ac_931b7b17",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 10
      },
      "lineNbr": 2062,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2021-11-12T23:53:42Z",
      "side": 1,
      "message": "Doesn\u0027t this negate the point of std::optional then? Like if we\u0027re not using userspace snapshots (eg, it\u0027s an S upgrade not using VABC), it\u0027ll be querying the disk state every call, which you were trying to avoid.",
      "parentUuid": "12177fa6_a65447c6",
      "revId": "55dd780f64339e78bfe40b8e3648abafff123aa7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17230fd9_501982fa",
        "filename": "fs_mgr/libsnapshot/snapshot.cpp",
        "patchSetId": 10
      },
      "lineNbr": 2062,
      "author": {
        "id": 1724998
      },
      "writtenOn": "2021-11-13T02:31:54Z",
      "side": 1,
      "message": "ok.. you are right.. sorry for the confusion. \n\nThe reason for the confusion stems from the fact that I was under the impression that \"is_snapshot_userspace_\" default value is set to false (which was the case before changing to std:optional). When the default value is set to \"false\", we used to query if the value was continue to be false. With std:optional,there is no \"default\" value and I totally missed that point.",
      "parentUuid": "6ed286ac_931b7b17",
      "revId": "55dd780f64339e78bfe40b8e3648abafff123aa7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}