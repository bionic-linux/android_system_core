{
  "comments": [
    {
      "key": {
        "uuid": "59122320_c5bbba3d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2019-06-24T19:57:16Z",
      "side": 1,
      "message": "any thoughts on this?",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 11,
        "endChar": 38
      },
      "revId": "7ec067316f058f912f44c81b8434cfee505a636e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e103f0b_30390769",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2019-06-25T09:41:52Z",
      "side": 1,
      "message": "Yeah, the goals were for the watchdog to use it, though it currently uses properties. I\u0027ll leave Zim to comment whether he thinks it\u0027ll still be useful in R.\n\nThe other reason was that this would allow us to get rid of the \u0027vdc\u0027 daemon, which is just a proxy for making binder calls, and this would be a good way to improve boot time. Never materialized in Q due to lack of time.\n\nRe: two-way, if it\u0027s to servicemanager I don\u0027t think that\u0027s a concern, since that is a trusted component anyway. The comments were more intended as guidelines to safely use binder from init.\n\nI\u0027m fine with removing it if Zim is, we can always add it back if we do go after the boot time improvements.",
      "parentUuid": "59122320_c5bbba3d",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 11,
        "endChar": 38
      },
      "revId": "7ec067316f058f912f44c81b8434cfee505a636e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e0759b3_2fce0700",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1346941
      },
      "writtenOn": "2019-06-25T09:53:38Z",
      "side": 1,
      "message": "Tom what was the resolution from the meeting about watching properties from Java? \n\nIn R I\u0027d like init to make a one-way call to system_server when the updatable_crashing property changes, assuming Java cannot listen for this property. At the moment, we are polling this property from Java land for a short while after a boot with an update. I would like to monitor this property for longer (~2 days) without burning a thread in system_server",
      "parentUuid": "1e103f0b_30390769",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 11,
        "endChar": 38
      },
      "revId": "7ec067316f058f912f44c81b8434cfee505a636e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a27a3cd1_0e51108e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-06-25T15:39:09Z",
      "side": 1,
      "message": "\u003e Tom what was the resolution from the meeting about watching properties from Java? \n\nMore or less what we talked about.  We want to get rid of it and replace it with binder or other more targeted IPC.  The idea of adding another one is not something that we\u0027d be too happy with.",
      "parentUuid": "5e0759b3_2fce0700",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 11,
        "endChar": 38
      },
      "revId": "7ec067316f058f912f44c81b8434cfee505a636e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "09366486_0b9ef887",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2019-06-25T17:14:38Z",
      "side": 1,
      "message": "It seems like Zimuzo\u0027s usecase fits property triggers in init.rc?",
      "parentUuid": "a27a3cd1_0e51108e",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 11,
        "endChar": 38
      },
      "revId": "7ec067316f058f912f44c81b8434cfee505a636e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ed3faea_672c4d9a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2019-06-25T17:45:59Z",
      "side": 1,
      "message": "Not really.  We wouldn\u0027t even need the property if init could inform the java service directly that updatable processes are crashing.\n\nHaving the property triggers would be even worse than now, since triggers get added to the end of the queue, whereas this, ideally, would stop what init\u0027s doing now and have the watchdog handle things appropriately.",
      "parentUuid": "09366486_0b9ef887",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 11,
        "endChar": 38
      },
      "revId": "7ec067316f058f912f44c81b8434cfee505a636e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e36d09f_743bbd1a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2019-06-25T18:29:01Z",
      "side": 1,
      "message": "\u003e since triggers get added to the end of the queue\n\n\u003e I would like to monitor this property for longer (~2 days) without burning a thread in system_server\n\nIs there a bug for this with more information? It seems like a long running thing. Usually the queue is only an issue during boot, right?",
      "parentUuid": "5ed3faea_672c4d9a",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 11,
        "endChar": 38
      },
      "revId": "7ec067316f058f912f44c81b8434cfee505a636e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e865c903_3ef5eae0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1346941
      },
      "writtenOn": "2019-07-03T07:42:10Z",
      "side": 1,
      "message": "Sorry for dropping the ball on this. Here\u0027s a bug b/128501975 and the change where we added an arbitrary poll after boot: ag/7246336",
      "parentUuid": "4e36d09f_743bbd1a",
      "range": {
        "startLine": 8,
        "startChar": 0,
        "endLine": 11,
        "endChar": 38
      },
      "revId": "7ec067316f058f912f44c81b8434cfee505a636e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}