{
  "comments": [
    {
      "key": {
        "uuid": "fa6fafa9_bde043e4",
        "filename": "init/capabilities.cpp",
        "patchSetId": 5
      },
      "lineNbr": 82,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2016-12-16T17:00:49Z",
      "side": 1,
      "message": "This will always be true, unless there are so many capabilities that you wrap an unsigned int.  :-) But even if that happens, init is compiled with integer sanitization enabled (https://android-review.googlesource.com/166778), so init will crash before this could wrap.\n\nCan be deleted.",
      "revId": "a3b3071325929fea52256d542a1c44e30584368d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2fdb70_a7c10a95",
        "filename": "init/capabilities.cpp",
        "patchSetId": 5
      },
      "lineNbr": 82,
      "author": {
        "id": 1076138
      },
      "writtenOn": "2016-12-16T17:05:04Z",
      "side": 1,
      "message": "That CL seems to have been reverted though. Did it land again?\n\nSince we\u0027re starting at CAP_WAKE_ALARM, we might not need the sanitizing. If you confirm that the CL you mentioned has actually landed, I\u0027m happy to remove.",
      "parentUuid": "fa6fafa9_bde043e4",
      "revId": "a3b3071325929fea52256d542a1c44e30584368d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2fdb70_67d8f280",
        "filename": "init/capabilities.cpp",
        "patchSetId": 5
      },
      "lineNbr": 82,
      "author": {
        "id": 1076138
      },
      "writtenOn": "2016-12-16T17:21:13Z",
      "side": 1,
      "message": "Not sure what happened with that CL but the LOCAL_SANITIZE line is still available in the .mk file, so will do.",
      "parentUuid": "5a2fdb70_a7c10a95",
      "revId": "a3b3071325929fea52256d542a1c44e30584368d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa6fafa9_68b98ba8",
        "filename": "init/capabilities.cpp",
        "patchSetId": 5
      },
      "lineNbr": 82,
      "author": {
        "id": 1003966
      },
      "writtenOn": "2016-12-16T17:23:46Z",
      "side": 1,
      "message": "The revert mentioned in the commit message for https://android-review.googlesource.com/166778 was abandoned. \n\nhttps://android-review.googlesource.com/167062 is the abandoned revert.\n\nIn addition, even if an overflow occurred, it would still require that \"prctl(PR_CAPBSET_READ, 0, 0, 0, 0)\" fail for this if condition to not be true. That would imply that CAP_CHOWN (capability #0) did not exist. I don\u0027t believe this has ever been true in the history of the Linux kernel...\n\n(if you can write a unittest which exercises the \"else\" block if this test, I\u0027d be curious to see it.  Maybe possible with seccomp? Dunno...)",
      "parentUuid": "5a2fdb70_a7c10a95",
      "revId": "a3b3071325929fea52256d542a1c44e30584368d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a2fdb70_e7a222e1",
        "filename": "init/capabilities.cpp",
        "patchSetId": 5
      },
      "lineNbr": 82,
      "author": {
        "id": 1076138
      },
      "writtenOn": "2016-12-16T17:26:45Z",
      "side": 1,
      "message": "Agreed. This is ready to go in. Let me know if you want me to +2 or if you will +2.",
      "parentUuid": "fa6fafa9_68b98ba8",
      "revId": "a3b3071325929fea52256d542a1c44e30584368d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}