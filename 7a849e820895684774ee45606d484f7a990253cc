{
  "comments": [
    {
      "key": {
        "uuid": "1003eacb_6bb29074",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-12-19T00:31:04Z",
      "side": 1,
      "message": "Btw, personally, I\u0027m not a big fan of defining LOG_TAG everywhere. I thought the original LOG(*) design made sense. It seems to me something like filename is a much better signal for finding where the log is coming from. That being said, we do have LOG_TAG defined in 10000s of places.",
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1250eb1f_cfcc6ef2",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-12-19T00:31:04Z",
      "side": 1,
      "message": "nit: ifdef _LOG_TAG_INTERNAL #error (for targets that still don\u0027t have -Werror)",
      "range": {
        "startLine": 68,
        "startChar": 1,
        "endLine": 68,
        "endChar": 7
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "328662ef_c933bb9e",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2017-12-19T18:01:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1250eb1f_cfcc6ef2",
      "range": {
        "startLine": 68,
        "startChar": 1,
        "endLine": 68,
        "endChar": 7
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72b34b2d_0c68738a",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 292,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2017-12-19T16:24:54Z",
      "side": 1,
      "message": "This is the wrong indent. Looks like you might have used clang-format and it didn\u0027t understand the ABORT_AFTER_LOG_FATAL hack. Please undo its change here.",
      "range": {
        "startLine": 292,
        "startChar": 0,
        "endLine": 292,
        "endChar": 2
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c7bf383_8c603484",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 292,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2017-12-19T18:01:45Z",
      "side": 1,
      "message": "Done.\n\nIt\u0027s clang_format repohook, I had to add clang_format off hints around it.\n\nI don\u0027t like disabling it though.",
      "parentUuid": "72b34b2d_0c68738a",
      "range": {
        "startLine": 292,
        "startChar": 0,
        "endLine": 292,
        "endChar": 2
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46350782_265a81d2",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 294,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2017-12-19T16:24:54Z",
      "side": 1,
      "message": "Same here. 8-space?",
      "range": {
        "startLine": 294,
        "startChar": 6,
        "endLine": 294,
        "endChar": 10
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06edbb20_1726e182",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 294,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2017-12-19T18:01:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "46350782_265a81d2",
      "range": {
        "startLine": 294,
        "startChar": 6,
        "endLine": 294,
        "endChar": 10
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0bd4c0fe_f3c1f17a",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 414,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-12-19T00:13:13Z",
      "side": 1,
      "message": "why do we still need the old LogMessage and LogLine? you\u0027ve switched all the callers over to the new one, haven\u0027t you?",
      "range": {
        "startLine": 413,
        "startChar": 0,
        "endLine": 414,
        "endChar": 46
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4288dedc_e46d0062",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 414,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-12-19T00:31:04Z",
      "side": 1,
      "message": "Even then, you know prebuilts will be referencing the other.\n\nTomasz, you\u0027ll probably need to keep this even once all the users are cleaned up. If you ping me. Add some attribute like:\n[[deprecated(\"LogMessage with const char* tag preferred.\")]]",
      "parentUuid": "0bd4c0fe_f3c1f17a",
      "range": {
        "startLine": 413,
        "startChar": 0,
        "endLine": 414,
        "endChar": 46
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59255bec_6e67244d",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 414,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-12-19T00:31:47Z",
      "side": 1,
      "message": "I was going to say, if you ping me, I\u0027ll share some tools for prebuilt analysis.",
      "parentUuid": "4288dedc_e46d0062",
      "range": {
        "startLine": 413,
        "startChar": 0,
        "endLine": 414,
        "endChar": 46
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "79d014ff_53e0504d",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 414,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-12-19T01:10:11Z",
      "side": 1,
      "message": "isn\u0027t treble supposed to protect us from that?",
      "parentUuid": "59255bec_6e67244d",
      "range": {
        "startLine": 413,
        "startChar": 0,
        "endLine": 414,
        "endChar": 46
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf04dc0e_f09aae2e",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 414,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2017-12-19T18:01:45Z",
      "side": 1,
      "message": "@Elliott: I wanted ABI compatibility, I guess we can\u0027t break that?\n\n@Steven:\nerror: ‘deprecated’ attribute directive ignored [-Werror\u003dattributes]",
      "parentUuid": "79d014ff_53e0504d",
      "range": {
        "startLine": 413,
        "startChar": 0,
        "endLine": 414,
        "endChar": 46
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "58b1ed87_f72ee75c",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 414,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-12-19T18:50:50Z",
      "side": 1,
      "message": "It doesn\u0027t help for things that are checked into our own tree. More to come.\n\nTomasz, in that case just remove the function from the header. Leave a bug open to remove it if/when prebuilts no longer reference it.",
      "parentUuid": "cf04dc0e_f09aae2e",
      "range": {
        "startLine": 413,
        "startChar": 0,
        "endLine": 414,
        "endChar": 46
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b40a0691_7e869e38",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 414,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2017-12-19T19:04:57Z",
      "side": 1,
      "message": "error: out-of-line definition of \u0027LogMessage\u0027 does not match any declaration in \u0027android::base::LogMessage\u0027\n\nI\u0027ve added a TODO and informal deprecated note instead.\n\nHowever: isn\u0027t a HAL implementation binary dynamically linked against this lib? If so, it will fail after moving from O to P, won\u0027t it?",
      "parentUuid": "58b1ed87_f72ee75c",
      "range": {
        "startLine": 413,
        "startChar": 0,
        "endLine": 414,
        "endChar": 46
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4c2893bc_31fafa9b",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 414,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-12-19T19:15:07Z",
      "side": 1,
      "message": "Forgot it was in a class. Just wrap it in private: public:\n\nYou can see I\u0027ve done the same thing to some String16/8 methods.",
      "parentUuid": "b40a0691_7e869e38",
      "range": {
        "startLine": 413,
        "startChar": 0,
        "endLine": 414,
        "endChar": 46
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0b06a29b_95649f86",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 414,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2017-12-19T19:32:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4c2893bc_31fafa9b",
      "range": {
        "startLine": 413,
        "startChar": 0,
        "endLine": 414,
        "endChar": 46
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4c4be5f4_aa60f16a",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 414,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2017-12-19T19:49:16Z",
      "side": 1,
      "message": "Well, not done.\n\nart/dex2oat/dex2oat.cc:541:32: error: \u0027LogLine\u0027 is a private member of \u0027android::base::LogMessage\u0027\n\nHow about having it solved in multiple passes\n1. submit the CL with the old constructor marked with TODO\n2. move the old constructor to private and fix build failures\n3. wait for prebuilts and remove the old constructor entirely",
      "parentUuid": "0b06a29b_95649f86",
      "range": {
        "startLine": 413,
        "startChar": 0,
        "endLine": 414,
        "endChar": 46
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc8d087c_32f89276",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 426,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-12-19T00:31:04Z",
      "side": 1,
      "message": "same deprecated here",
      "range": {
        "startLine": 425,
        "startChar": 0,
        "endLine": 426,
        "endChar": 61
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa6bd55d_671ce7f1",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 426,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2017-12-19T18:01:45Z",
      "side": 1,
      "message": "Same error.",
      "parentUuid": "dc8d087c_32f89276",
      "range": {
        "startLine": 425,
        "startChar": 0,
        "endLine": 426,
        "endChar": 61
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6771109e_378efec6",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 432,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-12-19T00:31:04Z",
      "side": 1,
      "message": "undef _LOG_TAG_INTERNAL",
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e3bb83b_223160bf",
        "filename": "base/include/android-base/logging.h",
        "patchSetId": 1
      },
      "lineNbr": 432,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2017-12-19T18:01:45Z",
      "side": 1,
      "message": "error: use of undeclared identifier \u0027_LOG_TAG_INTERNAL\u0027",
      "parentUuid": "6771109e_378efec6",
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f67ef90_42188ad8",
        "filename": "base/logging.cpp",
        "patchSetId": 1
      },
      "lineNbr": 208,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2017-12-19T00:31:04Z",
      "side": 1,
      "message": "this was used a lot without anything caring if tag was nullptr or not. Better to say \u0027tag ?: \"null\"\u0027 lest we trigger some undefined behavior. Not sure what android does...",
      "range": {
        "startLine": 208,
        "startChar": 50,
        "endLine": 208,
        "endChar": 53
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a3c4f2f_9b8047d7",
        "filename": "base/logging.cpp",
        "patchSetId": 1
      },
      "lineNbr": 208,
      "author": {
        "id": 1135107
      },
      "writtenOn": "2017-12-19T18:01:45Z",
      "side": 1,
      "message": "It would fail only when StderrLogger was used directly, not via LogMessage::LogLine (where the tag is checked for null-ness).\n\nAdded the check as you asked, but other loggers don\u0027t have it.",
      "parentUuid": "3f67ef90_42188ad8",
      "range": {
        "startLine": 208,
        "startChar": 50,
        "endLine": 208,
        "endChar": 53
      },
      "revId": "7a849e820895684774ee45606d484f7a990253cc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}