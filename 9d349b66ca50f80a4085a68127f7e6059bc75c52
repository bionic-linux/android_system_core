{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5c16adda_c0ed8347",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1432579
      },
      "writtenOn": "2021-04-29T11:52:15Z",
      "side": 1,
      "message": "I am a little bit surprised by this... AFAIU when stopping a service, init will send a SIGTERM to it, and apexd registers a signal handler to successfully exit upon receiving SIGTERM: https://cs.android.com/android/platform/superproject/+/master:system/apex/apexd/apexd_main.cpp;l\u003d94;drc\u003dd41d9e5c7726f41c8ee26e1e9a79813eda5fa519",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 51
      },
      "revId": "9d349b66ca50f80a4085a68127f7e6059bc75c52",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c003a7f_ea7c0368",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1137063
      },
      "writtenOn": "2021-04-29T15:54:19Z",
      "side": 1,
      "message": "init sends SIGKILL, not SIGTERM.",
      "parentUuid": "5c16adda_c0ed8347",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 51
      },
      "revId": "9d349b66ca50f80a4085a68127f7e6059bc75c52",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce3f610d_54575167",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2021-04-29T16:00:42Z",
      "side": 1,
      "message": "`stop` only sends SIGKILL in init.  SIGTERM is only used in shutdown.  \n\nThere\u0027s no concrete reason why it\u0027s done this way, other than that\u0027s what init did historically and I didn\u0027t want to change the behavior to first send SIGTERM because there were no known issues that it would fix and there\u0027s always risk to behavior changes.  \n\nIf you do need the SIGTERM then SIGKILL behavior for stop, adding it SGTM  as long as you verify that the behavior change isn\u0027t breaking and/or only apply it for new devices.",
      "parentUuid": "7c003a7f_ea7c0368",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 51
      },
      "revId": "9d349b66ca50f80a4085a68127f7e6059bc75c52",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97652aeb_cf5f168c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1060907
      },
      "writtenOn": "2021-04-29T17:24:22Z",
      "side": 1,
      "message": "Whether or not this change is made, it still seems to me a good idea not to reboot when a service that has been signalled to stop returns a failed exit code.",
      "parentUuid": "ce3f610d_54575167",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 27,
        "endChar": 51
      },
      "revId": "9d349b66ca50f80a4085a68127f7e6059bc75c52",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}