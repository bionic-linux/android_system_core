{
  "comments": [
    {
      "key": {
        "uuid": "8f9b903a_ff6ee3de",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 4
      },
      "lineNbr": 417,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-01-16T15:01:49Z",
      "side": 1,
      "message": "For your use case, are all entries in fstab_recs on the sdcard? (no fstab-entry is on the main flash)",
      "range": {
        "startLine": 417,
        "startChar": 34,
        "endLine": 417,
        "endChar": 51
      },
      "revId": "3f5c4d0db5e9f3aa9d456e7a51a52a9be64286e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b3153e85_1f77e18c",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 4
      },
      "lineNbr": 423,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-01-17T05:07:19Z",
      "side": 1,
      "message": "Note that mount point isn\u0027t necessarily partition_name.\n\ne.g.,\nit\u0027s possible to mount /dev/block/platform/soc.0/f9824900.sdhci/by-name/vendor under /vendor_test or something else",
      "range": {
        "startLine": 423,
        "startChar": 21,
        "endLine": 423,
        "endChar": 69
      },
      "revId": "3f5c4d0db5e9f3aa9d456e7a51a52a9be64286e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df0fdf61_2960ef46",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 4
      },
      "lineNbr": 423,
      "author": {
        "id": 1103773
      },
      "writtenOn": "2018-01-17T05:50:11Z",
      "side": 1,
      "message": "Yes. If we do not mount at detail name like /vendor, this logic will fail. It so I think we need add a map for partition and detail device node.",
      "parentUuid": "b3153e85_1f77e18c",
      "range": {
        "startLine": 423,
        "startChar": 21,
        "endLine": 423,
        "endChar": 69
      },
      "revId": "3f5c4d0db5e9f3aa9d456e7a51a52a9be64286e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6d76f61_7e9ffb4f",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 4
      },
      "lineNbr": 425,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-01-16T15:01:49Z",
      "side": 1,
      "message": "This might be an issue if there are different blk_path in a fstab file.\n\ne.g., in the fstab:\n/dev/block/platform/soc.0/f9824900.sdhci/by-name/vendor\n\n/dev/block/platform/soc.0/f1234567.sdhci/by-name/system\n\nIf you get uevent of \".../f9824900.sdhci/by-name/system\", valid_uevent is true. This might end up exit the early mount uevent process and cannot find \"f1234567.sdhci/by-name/system\" .",
      "range": {
        "startLine": 425,
        "startChar": 20,
        "endLine": 425,
        "endChar": 33
      },
      "revId": "3f5c4d0db5e9f3aa9d456e7a51a52a9be64286e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9be47054_d18df9c0",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 4
      },
      "lineNbr": 425,
      "author": {
        "id": 1103773
      },
      "writtenOn": "2018-01-17T01:57:57Z",
      "side": 1,
      "message": "Bowgo,\nThis logic can work both below scenes.\nall partition are in the same flash ;\nsome partition in sdcard, other partition are in emmc.\ne.g:\nfstab:\n/dev/block/platform/soc.0/f9824900.sdhci/by-name/vendor\n/dev/block/platform/soc.0/f1234567.sdhci/by-name/system\n\nget uevent of \".../f9824900.sdhci/by-name/system\", it will compare both \"f9824900.sdhci\" and \"system\", so valid_uevent will be false. Only partition name and the block device in uevent both meet the fstab,this uevent can be a valid event.",
      "parentUuid": "d6d76f61_7e9ffb4f",
      "range": {
        "startLine": 425,
        "startChar": 20,
        "endLine": 425,
        "endChar": 33
      },
      "revId": "3f5c4d0db5e9f3aa9d456e7a51a52a9be64286e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ac58c5e3_0f0e95de",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 4
      },
      "lineNbr": 425,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-01-17T05:07:19Z",
      "side": 1,
      "message": "Ah, sorry, didn\u0027t notice you\u0027re checking both.\n\nSo for boot/vbmeta, valid_uevent is always false, right?\nBecause boot/vbmeta isn\u0027t in the fstab-dt.",
      "parentUuid": "9be47054_d18df9c0",
      "range": {
        "startLine": 425,
        "startChar": 20,
        "endLine": 425,
        "endChar": 33
      },
      "revId": "3f5c4d0db5e9f3aa9d456e7a51a52a9be64286e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6c6695bf_cf4fe57c",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 4
      },
      "lineNbr": 425,
      "author": {
        "id": 1103773
      },
      "writtenOn": "2018-01-17T05:50:11Z",
      "side": 1,
      "message": "Yes.  valid_uevent alway retuen false if we do add boot/vbmeta in device tree.",
      "parentUuid": "ac58c5e3_0f0e95de",
      "range": {
        "startLine": 425,
        "startChar": 20,
        "endLine": 425,
        "endChar": 33
      },
      "revId": "3f5c4d0db5e9f3aa9d456e7a51a52a9be64286e5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}