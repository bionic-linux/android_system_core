{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2302f64c_de61e894",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2021-03-29T21:06:48Z",
      "side": 1,
      "message": "Is the problem that /metadata *can\u0027t* be mounted, or is the problem that /metadata is left mounted?",
      "revId": "014719a0bdcbe232732bdf495d1d55aac49cf6dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "efc4640c_ed8a2031",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1120612
      },
      "writtenOn": "2021-04-03T00:17:30Z",
      "side": 1,
      "message": "joker.yang@, could you please reply to this question as well?",
      "parentUuid": "2302f64c_de61e894",
      "revId": "014719a0bdcbe232732bdf495d1d55aac49cf6dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b3aa700a_2e68d7ab",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1472644
      },
      "writtenOn": "2021-04-07T05:57:14Z",
      "side": 1,
      "message": "@David Anderson, @Hridya Valsaraju, for your questoion, it is because since metadata cannot be mounted, it will be reformatted so that userdata does not correspond to it, which will affect normal boot.",
      "parentUuid": "2302f64c_de61e894",
      "revId": "014719a0bdcbe232732bdf495d1d55aac49cf6dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4c2f9ad6_ca6b6afa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2021-04-08T20:48:26Z",
      "side": 1,
      "message": "Why can\u0027t it be mounted? Is there a security/permissions error? Or is it actually corrupted and needs to be formatted?",
      "parentUuid": "b3aa700a_2e68d7ab",
      "revId": "014719a0bdcbe232732bdf495d1d55aac49cf6dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2f880f45_f1f8eb18",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1472644
      },
      "writtenOn": "2021-04-09T06:08:20Z",
      "side": 1,
      "message": "There are some limitations with Fastbootd SELinux, as you can see in system/sepolicy/public/fastbootd.te:\n########################################\nuserdebug_or_eng(\n   ...\n   allow fastbootd labeledfs:filesystem { mount unmount };\n   ...\n )\n########################################\nThe above ensures that filesystem can only be mounted in FastBootd mode on the userdebug or eng builds but not the user builds. In this case, when we unlock the device to flash partition on user builds, the /metadata will be earsed. and because of these limitations, it cannot be mounted, so it will be reformatted, which leads to userdata incorresponds to it, then affect normal boot. I don\u0027t know if my explanation is clear, thx.",
      "parentUuid": "4c2f9ad6_ca6b6afa",
      "revId": "014719a0bdcbe232732bdf495d1d55aac49cf6dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ee2e2f32_9541887f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2021-04-13T20:13:59Z",
      "side": 1,
      "message": "Thanks for the explanation. This is a bug in sepolicy; it\u0027s important that we\u0027re able to mount /metadata in fastboot, otherwise we can\u0027t detect whether Virtual A/B snapshots are present. I\u0027ll address this in a separate CL. I think this is fine to take as-is however.",
      "parentUuid": "2f880f45_f1f8eb18",
      "revId": "014719a0bdcbe232732bdf495d1d55aac49cf6dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f7b822e_e53fd68a",
        "filename": "fastboot/device/flashing.cpp",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2021-03-29T21:06:48Z",
      "side": 1,
      "message": "nit: This should be sorted (eg placed after android-base/logging.h)",
      "revId": "014719a0bdcbe232732bdf495d1d55aac49cf6dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ab43b4a6_7228bfa5",
        "filename": "fastboot/device/flashing.cpp",
        "patchSetId": 1
      },
      "lineNbr": 39,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2021-04-13T20:13:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0f7b822e_e53fd68a",
      "revId": "014719a0bdcbe232732bdf495d1d55aac49cf6dd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}