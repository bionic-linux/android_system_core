{
  "comments": [
    {
      "key": {
        "uuid": "582fc122_cf5d6b88",
        "filename": "adb/adb.cpp",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-05-08T20:15:00Z",
      "side": 1,
      "message": "it\u0027s unfortunate that we call the protocol version \"version\" and show it before the \"real\" version, but Studio parses this: https://cs.corp.google.com/search/?q\u003d%22android+debug+bridge+version+%22\u0026sq\u003dpackage:%5Eandroid$\n\n(danalbert does too, but we could easily move him over...)",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 68,
        "endChar": 28
      },
      "revId": "65aed5c365cba7a7568305904e9b1f79abbf09fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e86a05b1_c5f6f97c",
        "filename": "platform_tools_tool_version.mk",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-05-08T18:35:38Z",
      "side": 1,
      "message": "the assumption here is that .0.0 \u003d\u003e \"not a platform tools build\". otherwise i can\u0027t tell the difference between a random platform engineer\u0027s build or a legit platform tools build. if there\u0027s a better way to recognize this case, let me know.",
      "revId": "65aed5c365cba7a7568305904e9b1f79abbf09fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a9ff80ca_463f08e3",
        "filename": "platform_tools_tool_version.mk",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-05-08T20:17:12Z",
      "side": 1,
      "message": "vsiva says that historically we have released .0.0 versions.\n\nwe could make master contain .-1.-1 instead, which presumably wouldn\u0027t change anything from chrisi\u0027s perspective.\n\nalternatively we could just have\n\n  tool_version :\u003d $(platform_tools_version)-$(BUILD_NUMBER_FROM_FILE)\n\nand let the humans try to figure it out?",
      "parentUuid": "e86a05b1_c5f6f97c",
      "revId": "65aed5c365cba7a7568305904e9b1f79abbf09fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f06e1dc6_06362198",
        "filename": "platform_tools_tool_version.mk",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1010055
      },
      "writtenOn": "2017-05-08T21:21:47Z",
      "side": 1,
      "message": "I *think* you are looking for a solution with the following characteristics:\n - you should be able to distinguish adb that was built locally by a platform developer from the release version\n - you should be able to distinguish between different releases without knowing the build number -\u003e release number mapping.\n\nSo you need the following info at the very least:\n 1. Something that says that this was built on go/ab. I suspect a build number may be enough if you can just look at it and say it looks reasonable. Or you could add \"REL\" or \"USER\" to the version depending on whether it is built on ab or not.\n 2. The platform tools version that you have above.\n\nWith those two, you should be able to solve most of the common issues (I think).",
      "parentUuid": "a9ff80ca_463f08e3",
      "revId": "65aed5c365cba7a7568305904e9b1f79abbf09fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c9212d73_fb2175ce",
        "filename": "platform_tools_tool_version.mk",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-05-09T06:03:37Z",
      "side": 1,
      "message": "yeah, and that\u0027s basically what ps2 does by combining $(platform_tools_version) for 2 and $(BUILD_NUMBER_FROM_FILE) for 1. if you always have both, it seems like it should be pretty foolproof...",
      "parentUuid": "f06e1dc6_06362198",
      "revId": "65aed5c365cba7a7568305904e9b1f79abbf09fd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}