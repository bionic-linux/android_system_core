{
  "comments": [
    {
      "key": {
        "uuid": "43ee92c0_539a356b",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 18
      },
      "lineNbr": 396,
      "author": {
        "id": 1124848
      },
      "writtenOn": "2019-08-15T19:30:21Z",
      "side": 1,
      "message": "Any reason for not considering active/inactive anon?",
      "revId": "1c19f5c4debbb67d0d7e7112addaeffad9969b62",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28686eb8_a58649ae",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 18
      },
      "lineNbr": 396,
      "author": {
        "id": 1157738
      },
      "writtenOn": "2019-08-19T23:18:01Z",
      "side": 1,
      "message": "Anonymous memory is not involved in file-backed pagecache thrashing calculations.",
      "parentUuid": "43ee92c0_539a356b",
      "revId": "1c19f5c4debbb67d0d7e7112addaeffad9969b62",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "59199625_366a553e",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 18
      },
      "lineNbr": 396,
      "author": {
        "id": 1124848
      },
      "writtenOn": "2019-08-20T00:00:29Z",
      "side": 1,
      "message": "Thrashing can also occur with zram pages too right. anon LRU -\u003e zram -\u003e anon LRU -\u003e zram etc. Would not be better to calculate thrashing for that as well?",
      "parentUuid": "28686eb8_a58649ae",
      "revId": "1c19f5c4debbb67d0d7e7112addaeffad9969b62",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f559d75_d8c247e4",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 18
      },
      "lineNbr": 399,
      "author": {
        "id": 1124848
      },
      "writtenOn": "2019-08-15T19:30:21Z",
      "side": 1,
      "message": "Have you considered reading both pgsteal_kswapd_* as well? If I am reading it right, that can also indicate how many pages were reclaimed, which can give an indication of thrashing.\n\nThere\u0027s pgsteal counters for both kswapd and direct.",
      "revId": "1c19f5c4debbb67d0d7e7112addaeffad9969b62",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "389d89f9_16d4c3a1",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 18
      },
      "lineNbr": 399,
      "author": {
        "id": 1157738
      },
      "writtenOn": "2019-08-19T23:18:01Z",
      "side": 1,
      "message": "pgscan_* counters are used here to detect direct and indirect reclaim activity. We could use pgsteal_* counters to judge reclaim efficiency. I did consider them but in my experiments so far I could not correlate that metric with the time we need to kill.",
      "parentUuid": "0f559d75_d8c247e4",
      "revId": "1c19f5c4debbb67d0d7e7112addaeffad9969b62",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39d3e365_b00cb863",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 18
      },
      "lineNbr": 399,
      "author": {
        "id": 1124848
      },
      "writtenOn": "2019-08-20T00:00:29Z",
      "side": 1,
      "message": "It\u0027d be interesting to discuss this point upstream especially with folks who introduce the counters and why/if they are not working.",
      "parentUuid": "389d89f9_16d4c3a1",
      "revId": "1c19f5c4debbb67d0d7e7112addaeffad9969b62",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6017bff2_b12460ab",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 18
      },
      "lineNbr": 1347,
      "author": {
        "id": 1124848
      },
      "writtenOn": "2019-08-15T19:04:37Z",
      "side": 1,
      "message": "IMO this part should go into the zoneinfo parsing patch",
      "revId": "1c19f5c4debbb67d0d7e7112addaeffad9969b62",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42f15528_e7072cc6",
        "filename": "lmkd/lmkd.c",
        "patchSetId": 18
      },
      "lineNbr": 1347,
      "author": {
        "id": 1157738
      },
      "writtenOn": "2019-08-15T19:29:30Z",
      "side": 1,
      "message": "Ah, yes you are correct. Will fix.",
      "parentUuid": "6017bff2_b12460ab",
      "revId": "1c19f5c4debbb67d0d7e7112addaeffad9969b62",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}