{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "eccc7cb2_5f23db09",
        "filename": "fastboot/task.h",
        "patchSetId": 10
      },
      "lineNbr": 76,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-02-06T17:45:04Z",
      "side": 1,
      "message": "Please fix this WARNING reported by Build Warnings: parameter \u0027_reboot_target\u0027 is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]\n\nAnalyzer Description: Reports warnings that originate from build.log in the build artifacts.\nOwner: farivar@google.com\n\n    parameter \u0027_reboot_target\u0027 is passed by value and only copied once; consider moving it to avoid unnecessary copies [performance-unnecessary-value-param]\n            : reboot_target_(_reboot_target), fb_(_fb){};\n                             ^\n                             std::move(    )\n\nThis finding was found on https://android-build.googleplex.com/builds/build-details/P49237817/targets/aosp_arm64-userdebug_tidy, but may also be present on other builds.",
      "range": {
        "startLine": 76,
        "startChar": 26,
        "endLine": 76,
        "endChar": 53
      },
      "revId": "a785e5d293d656d2cfc86260f588a9bd587fb9b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1a9699c3_6e2dbef4",
        "filename": "fastboot/task.h",
        "patchSetId": 10
      },
      "lineNbr": 76,
      "author": {
        "id": 1964171
      },
      "writtenOn": "2023-02-07T02:35:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eccc7cb2_5f23db09",
      "range": {
        "startLine": 76,
        "startChar": 26,
        "endLine": 76,
        "endChar": 53
      },
      "revId": "a785e5d293d656d2cfc86260f588a9bd587fb9b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3321ae6_38cae77c",
        "filename": "fastboot/task.h",
        "patchSetId": 10
      },
      "lineNbr": 108,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-02-06T17:45:04Z",
      "side": 1,
      "message": "It\u0027s better to mark this as const, and remove the Parse() method. Only allow passing in reboot_target_ from constructor.",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 15
      },
      "revId": "a785e5d293d656d2cfc86260f588a9bd587fb9b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65064cc4_0fa0fd97",
        "filename": "fastboot/task.h",
        "patchSetId": 10
      },
      "lineNbr": 108,
      "author": {
        "id": 1964171
      },
      "writtenOn": "2023-02-07T02:35:57Z",
      "side": 1,
      "message": "Parsing is going to be done when fastboot-info.txt is read. Might be messier if we parse outside of the class in RebootTask and parse in the class for FlashTask?",
      "parentUuid": "e3321ae6_38cae77c",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 15
      },
      "revId": "a785e5d293d656d2cfc86260f588a9bd587fb9b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0913666b_749a857f",
        "filename": "fastboot/task.h",
        "patchSetId": 10
      },
      "lineNbr": 108,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-02-07T20:55:16Z",
      "side": 1,
      "message": "Yea, let\u0027s create a centralized class/function for parsing fastboot-info.txt. This class/function will take an input string an return a vector of parsed task instances. Then, each task class is only an immutable container of parsed information.",
      "parentUuid": "65064cc4_0fa0fd97",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 15
      },
      "revId": "a785e5d293d656d2cfc86260f588a9bd587fb9b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66e626ca_2c0a0d09",
        "filename": "fastboot/task.h",
        "patchSetId": 10
      },
      "lineNbr": 108,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-02-08T03:58:46Z",
      "side": 1,
      "message": "I\u0027m not a huge fan of immutable components since it means any time you want to modify something you have to create a new one. But, moving Parse out sounds good regardless. And being able to construct stuff without Parse() is also good. Maybe a static method on Task, like:\n\n    static std::unique_ptr\u003cTask\u003e Task::Parse(...) {\n        if (command \u003d\u003d \"reboot\") {\n            return RebootTask::Parse(...);\n        } else if (...) {\n            ...",
      "parentUuid": "0913666b_749a857f",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 15
      },
      "revId": "a785e5d293d656d2cfc86260f588a9bd587fb9b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6793d7d5_51d4ccec",
        "filename": "fastboot/task.h",
        "patchSetId": 10
      },
      "lineNbr": 108,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-02-10T21:51:18Z",
      "side": 1,
      "message": "On second though... if immutable works, let\u0027s go for it. As long as Tasks remain pretty lightweight, I can\u0027t see any reason it wouldn\u0027t.",
      "parentUuid": "66e626ca_2c0a0d09",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 15
      },
      "revId": "a785e5d293d656d2cfc86260f588a9bd587fb9b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7708f9a_0e744f6a",
        "filename": "fastboot/task.h",
        "patchSetId": 10
      },
      "lineNbr": 108,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2023-02-10T21:54:30Z",
      "side": 1,
      "message": "It\u0027d also be nice to have a task_test.cpp file with some unit tests for the parsing logic, eg, that after calling Parse(), the task has the settings we expect it to have.",
      "parentUuid": "6793d7d5_51d4ccec",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 15
      },
      "revId": "a785e5d293d656d2cfc86260f588a9bd587fb9b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}