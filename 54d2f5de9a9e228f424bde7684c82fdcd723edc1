{
  "comments": [
    {
      "key": {
        "uuid": "294c5a9d_7be29dd4",
        "filename": "fs_mgr/fs_mgr_fstab.cpp",
        "patchSetId": 2
      },
      "lineNbr": 448,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-04-30T17:34:50Z",
      "side": 1,
      "message": "Maybe just handle this outside of the loop?",
      "revId": "54d2f5de9a9e228f424bde7684c82fdcd723edc1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa786cb1_61468bb0",
        "filename": "fs_mgr/fs_mgr_fstab.cpp",
        "patchSetId": 2
      },
      "lineNbr": 448,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-05-01T08:15:09Z",
      "side": 1,
      "message": "OK, will move the entire refactoring in this file to another CL.",
      "parentUuid": "294c5a9d_7be29dd4",
      "revId": "54d2f5de9a9e228f424bde7684c82fdcd723edc1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b25c312_b631eb9f",
        "filename": "fs_mgr/fs_mgr_fstab.cpp",
        "patchSetId": 2
      },
      "lineNbr": 695,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-04-30T17:34:50Z",
      "side": 1,
      "message": "I\u0027m not super opposed to this, but this would be the first time we\u0027re explicitly labeling out parameters as such.  \n\nAnd typically, at least per the g3 coding standard that we try to follow, we would already know that this is an out or in/out parameter since if it were purely an input it would be passed by value or by const ref.  So this is telling us something we already know.",
      "range": {
        "startLine": 695,
        "startChar": 41,
        "endLine": 695,
        "endChar": 45
      },
      "revId": "54d2f5de9a9e228f424bde7684c82fdcd723edc1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ca8a606_e52cc3b9",
        "filename": "fs_mgr/fs_mgr_fstab.cpp",
        "patchSetId": 2
      },
      "lineNbr": 695,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-05-01T08:15:09Z",
      "side": 1,
      "message": "OK, agree. Will remove this part.",
      "parentUuid": "4b25c312_b631eb9f",
      "range": {
        "startLine": 695,
        "startChar": 41,
        "endLine": 695,
        "endChar": 45
      },
      "revId": "54d2f5de9a9e228f424bde7684c82fdcd723edc1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "754281b1_1739dd44",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-04-30T17:34:50Z",
      "side": 1,
      "message": ":\u0027(  I see why this is needed.  We really just need exceptions.",
      "revId": "54d2f5de9a9e228f424bde7684c82fdcd723edc1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8fac32db_1e01783b",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-05-01T08:15:09Z",
      "side": 1,
      "message": "Yup, this isn\u0027t a good design\nAnyway, we probably don\u0027t need this anymore.\n\nSee the following for more details.",
      "parentUuid": "754281b1_1739dd44",
      "revId": "54d2f5de9a9e228f424bde7684c82fdcd723edc1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fb27649_8554bbba",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 2
      },
      "lineNbr": 134,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-04-30T17:34:50Z",
      "side": 1,
      "message": "Is this an error in this case?  Seems more like it would be LOG(INFO) since presumably it\u0027s intentional that there are skipped entries.\n\nBack to the original bug, the fact that they\u0027re using status\u003ddisabled isn\u0027t even strictly required.  Their use case should work if there is simply no DT fstab but this code would still fail it with a LOG(FATAL).\n\nPerhaps we just drop this whole line to LOG(INFO) regardless of if there are skipped DT entries?  It was useful as FATAL while we were first starting off with first stage mount, but at this point perhaps it\u0027s causing more harm than good.  It should be super obvious to developers during bring up if their system isn\u0027t booting since all of its partitions are not mounted now anyway.",
      "revId": "54d2f5de9a9e228f424bde7684c82fdcd723edc1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d92199e_f160de29",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 2
      },
      "lineNbr": 134,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-05-01T08:15:09Z",
      "side": 1,
      "message": "+1 for just use LOG(INFO) as this now causing more harm than good. \n\nAfter check the original intention to use LOG(FATAL) here (b/69102431#comment10), the real root cause should be sailfish doesn\u0027t favor \"reboot to bootloader\" for LOG(FATAL) (b/69230183).\n\nI think early mount by itself should be \"neutral\" and no need to cause FATAL error if there is nothing to mount.\n\nIf early mount fails, SELinux will trigger a FATAL error later\nhttps://android.googlesource.com/platform/system/core/+/master/init/selinux.cpp#386 \n\nOr any later stage should trigger a FATAL if some important files in those early mount partitions are not available.",
      "parentUuid": "5fb27649_8554bbba",
      "revId": "54d2f5de9a9e228f424bde7684c82fdcd723edc1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c821a905_d7c59195",
        "filename": "init/init_first_stage.cpp",
        "patchSetId": 2
      },
      "lineNbr": 134,
      "author": {
        "id": 1080813
      },
      "writtenOn": "2018-05-01T08:19:04Z",
      "side": 1,
      "message": "It should be comment1 instead of comment10:\n\nb/69102431#comment1\nFrom screenlog.0, it already triggers a FATAL when fails to load SEPolicy file.\n\n[    8.290680] c7      1 init: Using Android DT directory /proc/device-tree/firmware/android/^M\n[    8.294836] c7      1 init: [libfs_mgr]Error updating for slotselect^M       \n[    8.302548] c7      1 init: [libfs_mgr]fs_mgr_read_fstab_dt(): failed to load fstab from kernel:^M\n[    8.309054] c7      1 init: /dev/block/platform/soc/1da4000.ufshc/by-name/vendor /vendor ext4 ro,barrier\u003d1 wait,slotselect,avb^M\n[    8.317837] c7      1 init: /dev/block/platform/soc/1da4000.ufshc/by-name/persist /persist ext4 nosuid,nodev,noatime,barrier\u003d1 wait^M\n[    8.329013] c7      1 init: ^M                                               \n[    8.340736] c7      1 init: Failed to read fstab from device tree^M          \n[    8.343892] c7      1 init: Skipped setting INIT_AVB_VERSION (not in recovery mode)^M\n[    8.349900] c7      1 init: Loading SELinux policy^M                         \n[    8.353947] c0    505 FG: fg_get_battery_temp: batt temperature original:320, tuned:286^M\n[    8.366651] c7      1 init: No precompiled sepolicy: No such file or directory^M\n[    8.370060] c7      1 init: Compiling SELinux policy^M                       \n[    8.377398] c7      1 init: Failed to read /vendor/etc/selinux/plat_sepolicy_vers.txt: No such file or directory^M\n[    8.382489] c7      1 init: Unable to load SELinux policy^M                  \n[    8.392624] c7      1 init: Reboot start, reason: reboot, rebootTarget: bootloader^M",
      "parentUuid": "8d92199e_f160de29",
      "revId": "54d2f5de9a9e228f424bde7684c82fdcd723edc1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}