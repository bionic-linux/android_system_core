{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "baaf5edc_2d59a840",
        "filename": "fs_mgr/libsnapshot/cow_writer.cpp",
        "patchSetId": 5
      },
      "lineNbr": 200,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2020-11-03T19:17:13Z",
      "side": 1,
      "message": "What does it mean if we find the label, but there\u0027s more ops remaining? Do we keep the incomplete ops or throw them away?",
      "revId": "d5bcbaa066672fee79810c673c7a63bda34e9569",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a58f9549_a29888f8",
        "filename": "fs_mgr/libsnapshot/cow_writer.cpp",
        "patchSetId": 5
      },
      "lineNbr": 204,
      "author": {
        "id": 1290458
      },
      "writtenOn": "2020-11-03T19:17:13Z",
      "side": 1,
      "message": "I\u0027m wondering if we can remove this code path, or remove the GetFooter call that happens beforehand.\n\nCan the writer do something like this?\n\n    cur_pos \u003d lseek(fd, 0, SEEK_SET);\n    footer_pos \u003d lseek(fd, -sizeof(footer), SEEK_END)\n    if (footer_pos \u003e\u003d cur_pos)\n        ... write footer @ footer_pos\n    else\n        ... write footer @ cur_pos\n\nThen we can always read the footer via SEEK_END. Thoughts?",
      "revId": "d5bcbaa066672fee79810c673c7a63bda34e9569",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}