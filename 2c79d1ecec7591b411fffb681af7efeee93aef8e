{
  "comments": [
    {
      "key": {
        "uuid": "b0d42a38_162d823d",
        "filename": "init/init.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1074,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-04-25T02:02:12Z",
      "side": 1,
      "message": "my least worst idea here is to replace the current global \"int keychord_fd\" with \"int* keychord_fd\" and have that point to the fd field in this structure. poll(2) is fine with a -1 fd and just ignores it. and then when /dev/keychord becomes available...",
      "revId": "2c79d1ecec7591b411fffb681af7efeee93aef8e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30867a2e_386cd5b7",
        "filename": "init/init.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1074,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2015-04-25T02:20:57Z",
      "side": 1,
      "message": "My only other idea is to replace poll with epoll_wait, and have keychords, signal, and property_set each register a handler function.  More complicated to set up, but gets rid of the \"if fd \u003d\u003d\" blocks below - just cast events[i].data.ptr to a handler function and call it, and needs less repetition if you want to start handling new events.",
      "parentUuid": "b0d42a38_162d823d",
      "revId": "2c79d1ecec7591b411fffb681af7efeee93aef8e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}