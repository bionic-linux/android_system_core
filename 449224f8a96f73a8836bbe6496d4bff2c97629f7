{
  "comments": [
    {
      "key": {
        "uuid": "70c53b78_1f06abae",
        "filename": "include/nativebridge/native_bridge.h",
        "patchSetId": 4
      },
      "lineNbr": 35,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2014-09-17T13:34:30Z",
      "side": 1,
      "message": "I don\u0027t have a better suggestion but \"Early\" is a bit fuzzy for me. \n\nMaybe \"PreInitialize....\"?",
      "range": {
        "startLine": 35,
        "startChar": 5,
        "endLine": 35,
        "endChar": 32
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "300d83bc_9ba4fb5e",
        "filename": "include/nativebridge/native_bridge.h",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1051763
      },
      "writtenOn": "2014-09-17T13:34:12Z",
      "side": 1,
      "message": "If the env values are exposed as a symbol in native bridge, this interface will be removed.",
      "range": {
        "startLine": 121,
        "startChar": 44,
        "endLine": 121,
        "endChar": 53
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10d4ff2c_fca421aa",
        "filename": "include/nativebridge/native_bridge.h",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2014-09-17T14:38:01Z",
      "side": 1,
      "message": "Hmm, doesn\u0027t this depends on the isa? I might be wrong but as it is now the design allows for more than one system to be emulated, and that could depend on the original isa.",
      "parentUuid": "300d83bc_9ba4fb5e",
      "range": {
        "startLine": 121,
        "startChar": 44,
        "endLine": 121,
        "endChar": 53
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3042e3dc_08ef6bd4",
        "filename": "include/nativebridge/native_bridge.h",
        "patchSetId": 4
      },
      "lineNbr": 121,
      "author": {
        "id": 1051763
      },
      "writtenOn": "2014-09-18T01:33:34Z",
      "side": 1,
      "message": "The abilist defined which abis this build is going to support. We only need to know whether this process is 32-bit or 64-bit. And different native bridge lib copies are present for 32-bit and 64-bit, respectively.",
      "parentUuid": "10d4ff2c_fca421aa",
      "range": {
        "startLine": 121,
        "startChar": 44,
        "endLine": 121,
        "endChar": 53
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90c0ef69_6b5f1ba0",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 32,
      "author": {
        "id": 1051763
      },
      "writtenOn": "2014-09-17T13:34:12Z",
      "side": 1,
      "message": "The cpuinfo_path should be involved here, as well. All of these values can be fetched from native bridge library by dlsym in LoadNativeBridge. And the EarlyInitializeNativeBridge can bind-mount the /proc/cpuinfo based-on this cpuinfo_path without invoking any interface of native bridge with privileged permission.",
      "range": {
        "startLine": 32,
        "startChar": 7,
        "endLine": 32,
        "endChar": 32
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70c53b78_ff46578c",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 34,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2014-09-17T14:38:01Z",
      "side": 1,
      "message": "I think we should use supported_abis. cpu_abi and cpu_abi are already deprecated: frameworks/base/core/java/android/os/Build.java",
      "range": {
        "startLine": 33,
        "startChar": 4,
        "endLine": 34,
        "endChar": 25
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90c0ef69_4b2d771a",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 158,
      "author": {
        "id": 1051763
      },
      "writtenOn": "2014-09-17T13:34:12Z",
      "side": 1,
      "message": "We also need to dlsym the symbol of runtime values here.",
      "range": {
        "startLine": 158,
        "startChar": 61,
        "endLine": 158,
        "endChar": 66
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50baf7ee_1e5fcda0",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 183,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2014-09-17T13:34:30Z",
      "side": 1,
      "message": "I\u0027d feel slightly better to introduce a new state. Would make things a bit easier to debug probably.\nEither way, I favor early returns than surrounding all the function code in an if.",
      "range": {
        "startLine": 183,
        "startChar": 5,
        "endLine": 183,
        "endChar": 30
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50baf7ee_5e0c25ce",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 184,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2014-09-17T13:34:30Z",
      "side": 1,
      "message": "can assume this will always be null terminated?",
      "range": {
        "startLine": 184,
        "startChar": 17,
        "endLine": 184,
        "endChar": 23
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50baf7ee_be1461d9",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 184,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2014-09-17T13:34:30Z",
      "side": 1,
      "message": "priv_dir",
      "range": {
        "startLine": 184,
        "startChar": 24,
        "endLine": 184,
        "endChar": 35
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50baf7ee_de1f15f4",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 186,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2014-09-17T13:34:30Z",
      "side": 1,
      "message": "private_dir",
      "range": {
        "startLine": 186,
        "startChar": 4,
        "endLine": 186,
        "endChar": 12
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50baf7ee_be4d81ff",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 200,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2014-09-17T13:34:30Z",
      "side": 1,
      "message": "this is a bit of magic :). Would benefit of a rationale comment.",
      "range": {
        "startLine": 200,
        "startChar": 31,
        "endLine": 200,
        "endChar": 41
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0fe8bbb_2b393de8",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 201,
      "author": {
        "id": 1051763
      },
      "writtenOn": "2014-09-17T13:34:12Z",
      "side": 1,
      "message": "We\u0027d better retrieve the cpuinfo file path in LoadNativeBridge by dlsym the fixed symbol in native bridge library directly. Otherwise, we have to generate a cpuinfo file per process.",
      "range": {
        "startLine": 201,
        "startChar": 23,
        "endLine": 201,
        "endChar": 30
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50baf7ee_de315577",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 209,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2014-09-17T13:34:30Z",
      "side": 1,
      "message": "I\u0027m a bit confused by the expectation here. This implies that the cpuinfo file is already there. Given that the private dir is per_app/per_user how does it gets there? who creates it?",
      "range": {
        "startLine": 209,
        "startChar": 15,
        "endLine": 209,
        "endChar": 19
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70c53b78_bffb3f54",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 216,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2014-09-17T13:34:30Z",
      "side": 1,
      "message": "I think it worth adding the full path, i.e. the \u0027buffer\u0027. Which now I thing it should be rename to cpuinfoPath or something.",
      "range": {
        "startLine": 216,
        "startChar": 14,
        "endLine": 216,
        "endChar": 45
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10d4ff2c_fcc54179",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 236,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2014-09-17T13:34:30Z",
      "side": 1,
      "message": "don\u0027t really care, but 4 should be enough, right?",
      "range": {
        "startLine": 236,
        "startChar": 37,
        "endLine": 236,
        "endChar": 39
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10d4ff2c_bccfc995",
        "filename": "libnativebridge/native_bridge.cc",
        "patchSetId": 4
      },
      "lineNbr": 255,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2014-09-17T13:34:30Z",
      "side": 1,
      "message": "even if it\u0027s small I\u0027d extract this in a local function to avoid duplication",
      "range": {
        "startLine": 247,
        "startChar": 6,
        "endLine": 255,
        "endChar": 7
      },
      "revId": "449224f8a96f73a8836bbe6496d4bff2c97629f7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}