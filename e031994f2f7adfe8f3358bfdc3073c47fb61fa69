{
  "comments": [
    {
      "key": {
        "uuid": "fd92ccf1_3bd8a9d1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2018-01-15T13:55:55Z",
      "side": 1,
      "message": "I do not really understand.. why is something made available to all apps should be restricted to vendor apps?",
      "revId": "e031994f2f7adfe8f3358bfdc3073c47fb61fa69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e726212_df3af4ec",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-01-15T14:41:02Z",
      "side": 1,
      "message": "then the vendor apks won\u0027t work when the system partition is replaced with the Generic System Image, which is built by Google, for CTS/VTS.\n\nSince SoC vendors are upstreams of OEMs, the former shouldn\u0027t depend on the latter.\n\nIn case of 3p apps, this is okay because such apps are downstream of OEM\u0027s fork of Android.",
      "parentUuid": "fd92ccf1_3bd8a9d1",
      "revId": "e031994f2f7adfe8f3358bfdc3073c47fb61fa69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0c8cf48_e964356a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2018-01-15T14:45:28Z",
      "side": 1,
      "message": "I do not see how the fact that these libraries are accessible to vendor apps necessarily leads to the situation where they do not work on generic system image.\n\nNote that for 3p apps this is the case as well.. OEM libs are not somethings that are present for all android devices. This is an extra part and (well designed) apps using these libraries should be able to work on android devices without them.",
      "parentUuid": "4e726212_df3af4ec",
      "revId": "e031994f2f7adfe8f3358bfdc3073c47fb61fa69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5045a7a3_3b92bfa1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-01-15T15:01:59Z",
      "side": 1,
      "message": "No, they don\u0027t always fail, but we must not rely on how they are implemented. If we can rely on that, the entire Treble would have been so easy. No build-time and run-time enforcement is necessary because CTS/VTS on GSI can guarantee everything.\n\nI don\u0027t see a reason for an SoC company (which owns the vendor partition) to use a library in system library defined by OEM which is a downstream of the SoC vendor. Since an SoC can be sold to any OEM, it can\u0027t assume a specific OEM library. That just doesn\u0027t make sense logically.",
      "parentUuid": "c0c8cf48_e964356a",
      "revId": "e031994f2f7adfe8f3358bfdc3073c47fb61fa69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "428b6070_1710d3f1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2018-01-15T18:47:01Z",
      "side": 1,
      "message": "I do not think this is a good reason for creating 2nd class citizens out of certain kind of apps.",
      "parentUuid": "5045a7a3_3b92bfa1",
      "revId": "e031994f2f7adfe8f3358bfdc3073c47fb61fa69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "942355a6_bfc68ab9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-01-16T13:07:17Z",
      "side": 1,
      "message": "I don\u0027t intend to make the vendor apks as 2nd class citizen. Each types of apps (bundled in system, bundled in vendor, unbundled, downloaded, etc) are all provided with different sets of libraries depending on their expected lifecycle. There is no 1st/2nd/3rd class citizens with strict order.",
      "parentUuid": "428b6070_1710d3f1",
      "revId": "e031994f2f7adfe8f3358bfdc3073c47fb61fa69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10c40163_508be6ee",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2018-01-16T14:13:02Z",
      "side": 1,
      "message": "Ok, leaving aside questions about bundled vendor apps for the moment.\n\nMy main worry with this approach is this. I think it is ok to place restrictions limiting bad actors from doing things they should not be doing. But it is not ok for these restrictions to punish good actors.\n\nFor example if a vendor app uses oem libraries responsibly (use the if they are available and have fallback for the cases when they are not) IMO it should not have it\u0027s access revoked because there is some bad vendor app working only with images with oem libraries available.",
      "parentUuid": "942355a6_bfc68ab9",
      "revId": "e031994f2f7adfe8f3358bfdc3073c47fb61fa69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56ee16e4_222209e0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-01-16T15:00:54Z",
      "side": 1,
      "message": "Hmm, I don\u0027t disagree with your statement in general. However, I still argue that we shouldn\u0027t simply hope that there will be many good actors and blame the failure to the violators. If that theory was working, why did we hide private system libs from ordinary apps since Nougat? They also could have used the private system libs responsibly (e.g. by dynamically examining the symbol\u0027s existence or use it on a certain device, etc.).\n\nAnother counter example is native vendor modules. With Treble, they can\u0027t access OEM-added libs and of course private system libs except for VNDK libraries. Then why should we allow the libs to vendor *apps* and expect them to behave nicely? IMO, this seems to be an inconsistent policy.\n\nIf vendors really want to use OEM-added libs, they should be copying the lib into the vendor partition so that the app and the lib are always bundled together.",
      "parentUuid": "10c40163_508be6ee",
      "revId": "e031994f2f7adfe8f3358bfdc3073c47fb61fa69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}