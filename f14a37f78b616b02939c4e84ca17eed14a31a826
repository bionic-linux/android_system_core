{
  "comments": [
    {
      "key": {
        "uuid": "72a255be_2068511e",
        "filename": "libcutils/include/cutils/qtaguid.h",
        "patchSetId": 8
      },
      "lineNbr": 20,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-11-09T22:36:43Z",
      "side": 1,
      "message": "did you mean \u003csys/types.h\u003e instead?",
      "revId": "f14a37f78b616b02939c4e84ca17eed14a31a826",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "db4733a9_b1be2701",
        "filename": "libcutils/qtaguid.cpp",
        "patchSetId": 8
      },
      "lineNbr": 51,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-11-09T22:36:43Z",
      "side": 1,
      "message": "why the local? just call dlerror() on the log lines?",
      "revId": "f14a37f78b616b02939c4e84ca17eed14a31a826",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc985f84_8d37b3a1",
        "filename": "libcutils/qtaguid.cpp",
        "patchSetId": 8
      },
      "lineNbr": 56,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-11-09T22:36:43Z",
      "side": 1,
      "message": "stray",
      "revId": "f14a37f78b616b02939c4e84ca17eed14a31a826",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "89fccd01_f374ac8a",
        "filename": "libcutils/qtaguid.cpp",
        "patchSetId": 8
      },
      "lineNbr": 83,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-11-09T22:36:43Z",
      "side": 1,
      "message": "this is slightly different from what i said... it\u0027s probably okay, but be aware that you have much less control over _when_ this runs. (also, it will be run when your library is loaded, rather than when any of these functions is called, so everyone is paying for it whether they use it or not.)",
      "revId": "f14a37f78b616b02939c4e84ca17eed14a31a826",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "976cf966_e65b2643",
        "filename": "libcutils/qtaguid.cpp",
        "patchSetId": 8
      },
      "lineNbr": 83,
      "author": {
        "id": 1121354
      },
      "writtenOn": "2017-11-09T22:58:26Z",
      "side": 1,
      "message": "Okay, do you mean I should declare the object inside the function and init there? I thought if we put it inside each function then different thread using this library will need to load the libnetd_client.so separately and will cost more resources.",
      "parentUuid": "89fccd01_f374ac8a",
      "revId": "f14a37f78b616b02939c4e84ca17eed14a31a826",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dfd47b04_8e068a76",
        "filename": "libcutils/qtaguid.cpp",
        "patchSetId": 8
      },
      "lineNbr": 83,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-11-09T23:03:24Z",
      "side": 1,
      "message": "yes, that\u0027s what i mean.\n\nno, it doesn\u0027t mean that. the C++ compiler adds a lock. at most one thread will run the initializer.\n\nwait, no, not inside *each* function. you\u0027d do:\n\n  static netdHandler\u0026 GetHandler() {\n    static netdHandler instance \u003d InitHandler();\n    return instance;\n  }\n\n  int qtaguid_blah() {\n    return GetHandler().blah();\n  }\n\nthe C++ compiler adds the necessary locking to GetHandler for you.",
      "parentUuid": "976cf966_e65b2643",
      "revId": "f14a37f78b616b02939c4e84ca17eed14a31a826",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b6206c35_68c2e27d",
        "filename": "libcutils/qtaguid.cpp",
        "patchSetId": 8
      },
      "lineNbr": 109,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2017-11-09T22:36:43Z",
      "side": 1,
      "message": "also known as\n\n  ALOGV(\"Untagging socket %d\", sockfd);\n  return qtaguidHandler.netdUntagSocket(sockfd);\n\nwe\u0027re not stuck in the 1970s any more. even C doesn\u0027t require this these days!",
      "range": {
        "startLine": 103,
        "startChar": 0,
        "endLine": 109,
        "endChar": 15
      },
      "revId": "f14a37f78b616b02939c4e84ca17eed14a31a826",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}