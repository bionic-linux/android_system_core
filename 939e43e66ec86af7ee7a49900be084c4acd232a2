{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d48119f8_318948a2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2020-10-27T00:25:42Z",
      "side": 1,
      "message": "Wasn\u0027t this always just mblen() on Android anyway?  We always used UTF8 for multi-byte strings in bionic, regardless of locale?",
      "revId": "939e43e66ec86af7ee7a49900be084c4acd232a2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "839a3bf3_35613ada",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2020-10-27T15:30:56Z",
      "side": 1,
      "message": "yes, though it\u0027s possible this predates any utf-8 support in bionic. (that\u0027s actually why i was looking at this code --- wonder what parts of it we could replace with modern C/C++ instead without too much trouble. sadly, since libutils isn\u0027t hurting us -- we don\u0027t use it -- and there are far too many things that are hurting us, i doubt i\u0027ll make any dent in it.)",
      "parentUuid": "d48119f8_318948a2",
      "revId": "939e43e66ec86af7ee7a49900be084c4acd232a2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "647b8651_4155c501",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2020-10-27T15:39:17Z",
      "side": 1,
      "message": "That idea sounds good, certainly if there are other UTF8/UTF32 functions that bionic already implements, sounds good to make the libutils code call the bionic code directly.  The utf8/utf32 conversions are already handled by bionic, right?",
      "parentUuid": "839a3bf3_35613ada",
      "revId": "939e43e66ec86af7ee7a49900be084c4acd232a2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4f6b220f_64c9b1c1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2020-10-27T15:40:27Z",
      "side": 1,
      "message": "we have at least: libc, libc++, libutf, icu4c, ...",
      "parentUuid": "647b8651_4155c501",
      "revId": "939e43e66ec86af7ee7a49900be084c4acd232a2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7ddf8415_d3b819ea",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2020-10-27T15:43:43Z",
      "side": 1,
      "message": "Right.  We probably wouldn\u0027t want to require everyone with libutils to link icu4c though?  and we probably wouldn\u0027t use libc++\u0027s conversions?  libutf could be an option.\n\nlibc is the easiest since the functions are simple and it\u0027s already guaranteed to be available to all libutils users.",
      "parentUuid": "4f6b220f_64c9b1c1",
      "revId": "939e43e66ec86af7ee7a49900be084c4acd232a2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}